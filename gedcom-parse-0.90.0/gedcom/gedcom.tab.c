
/*  A Bison parser, made from gedcom.y
    by GNU Bison version 1.28  */

#define YYBISON 1  /* Identify Bison output.  */

#define yyparse gedcom_parse
#define yylex gedcom_lex
#define yyerror gedcom_error
#define yylval gedcom_lval
#define yychar gedcom_char
#define yydebug gedcom_debug
#define yynerrs gedcom_nerrs
#define	BADTOKEN	257
#define	OPEN	258
#define	CLOSE	259
#define	ESCAPE	260
#define	DELIM	261
#define	ANYCHAR	262
#define	POINTER	263
#define	USERTAG	264
#define	TAG_ABBR	265
#define	TAG_ADDR	266
#define	TAG_ADR1	267
#define	TAG_ADR2	268
#define	TAG_ADOP	269
#define	TAG_AFN	270
#define	TAG_AGE	271
#define	TAG_AGNC	272
#define	TAG_ALIA	273
#define	TAG_ANCE	274
#define	TAG_ANCI	275
#define	TAG_ANUL	276
#define	TAG_ASSO	277
#define	TAG_AUTH	278
#define	TAG_BAPL	279
#define	TAG_BAPM	280
#define	TAG_BARM	281
#define	TAG_BASM	282
#define	TAG_BIRT	283
#define	TAG_BLES	284
#define	TAG_BLOB	285
#define	TAG_BURI	286
#define	TAG_CALN	287
#define	TAG_CAST	288
#define	TAG_CAUS	289
#define	TAG_CENS	290
#define	TAG_CHAN	291
#define	TAG_CHAR	292
#define	TAG_CHIL	293
#define	TAG_CHR	294
#define	TAG_CHRA	295
#define	TAG_CITY	296
#define	TAG_CONC	297
#define	TAG_CONF	298
#define	TAG_CONL	299
#define	TAG_CONT	300
#define	TAG_COPR	301
#define	TAG_CORP	302
#define	TAG_CREM	303
#define	TAG_CTRY	304
#define	TAG_DATA	305
#define	TAG_DATE	306
#define	TAG_DEAT	307
#define	TAG_DESC	308
#define	TAG_DESI	309
#define	TAG_DEST	310
#define	TAG_DIV	311
#define	TAG_DIVF	312
#define	TAG_DSCR	313
#define	TAG_EDUC	314
#define	TAG_EMIG	315
#define	TAG_ENDL	316
#define	TAG_ENGA	317
#define	TAG_EVEN	318
#define	TAG_FAM	319
#define	TAG_FAMC	320
#define	TAG_FAMF	321
#define	TAG_FAMS	322
#define	TAG_FCOM	323
#define	TAG_FILE	324
#define	TAG_FORM	325
#define	TAG_GEDC	326
#define	TAG_GIVN	327
#define	TAG_GRAD	328
#define	TAG_HEAD	329
#define	TAG_HUSB	330
#define	TAG_IDNO	331
#define	TAG_IMMI	332
#define	TAG_INDI	333
#define	TAG_LANG	334
#define	TAG_LEGA	335
#define	TAG_MARB	336
#define	TAG_MARC	337
#define	TAG_MARL	338
#define	TAG_MARR	339
#define	TAG_MARS	340
#define	TAG_MEDI	341
#define	TAG_NAME	342
#define	TAG_NATI	343
#define	TAG_NATU	344
#define	TAG_NCHI	345
#define	TAG_NICK	346
#define	TAG_NMR	347
#define	TAG_NOTE	348
#define	TAG_NPFX	349
#define	TAG_NSFX	350
#define	TAG_OBJE	351
#define	TAG_OCCU	352
#define	TAG_ORDI	353
#define	TAG_ORDN	354
#define	TAG_PAGE	355
#define	TAG_PEDI	356
#define	TAG_PHON	357
#define	TAG_PLAC	358
#define	TAG_POST	359
#define	TAG_PROB	360
#define	TAG_PROP	361
#define	TAG_PUBL	362
#define	TAG_QUAY	363
#define	TAG_REFN	364
#define	TAG_RELA	365
#define	TAG_RELI	366
#define	TAG_REPO	367
#define	TAG_RESI	368
#define	TAG_RESN	369
#define	TAG_RETI	370
#define	TAG_RFN	371
#define	TAG_RIN	372
#define	TAG_ROLE	373
#define	TAG_SEX	374
#define	TAG_SLGC	375
#define	TAG_SLGS	376
#define	TAG_SOUR	377
#define	TAG_SPFX	378
#define	TAG_SSN	379
#define	TAG_STAE	380
#define	TAG_STAT	381
#define	TAG_SUBM	382
#define	TAG_SUBN	383
#define	TAG_SURN	384
#define	TAG_TEMP	385
#define	TAG_TEXT	386
#define	TAG_TIME	387
#define	TAG_TITL	388
#define	TAG_TRLR	389
#define	TAG_TYPE	390
#define	TAG_VERS	391
#define	TAG_WIFE	392
#define	TAG_WILL	393

#line 143 "gedcom.y"

#include "gedcom_internal.h"
#include "multilex.h"
#include "encoding.h"
#include "interface.h"
#include "date.h"
#include "age.h"
#include "xref.h"
#include "compat.h"
#include "buffer.h"

int  count_level    = 0;
int  fail           = 0;
int  gedcom_high_level_debug = 0; 
Gedcom_err_mech error_mechanism = IMMED_FAIL;
Gedcom_val_struct val1;
Gedcom_val_struct val2; 

void cleanup_line_item_buffer();
struct safe_buffer line_item_buffer = { NULL, 0, NULL, 0,
					cleanup_line_item_buffer };

void cleanup_concat_buffer(); 
struct safe_buffer concat_buffer = { NULL, 0, NULL, 0, cleanup_concat_buffer };

void cleanup_usertag_buffer();
struct safe_buffer usertag_buffer = { NULL, 0, NULL, 0,
				      cleanup_usertag_buffer};
 
/* These are defined at the bottom of the file */ 
void push_countarray(int level);
void set_parenttag(const char* tag);
char* get_parenttag(int offset); 
void set_parentctxt(Gedcom_ctxt ctxt);
Gedcom_ctxt get_parentctxt(int offset);
void pop_countarray();
int  count_tag(int tag);
int  check_occurrence(int tag);
void clean_up();

#define HANDLE_ERROR                                                          \
     { if (error_mechanism == IMMED_FAIL) {                                   \
	 clean_up(); YYABORT;                                                 \
       }                                                                      \
       else if (error_mechanism == DEFER_FAIL) {                              \
         gedcom_debug_print("Fail on line %d", line_no);                      \
         yyerrok; fail = 1;                                                   \
       }                                                                      \
       else if (error_mechanism == IGNORE_ERRORS) {                           \
	 yyerrok;                                                             \
       }                                                                      \
     }
#define START1(PARENTTAG)                                                     \
     { set_parenttag(#PARENTTAG);                                             \
     }
#define START2(LEVEL,PARENTCTXT)                                              \
     { set_parentctxt(PARENTCTXT);                                            \
       ++count_level;                                                         \
       push_countarray(LEVEL);                                                \
     }
#define START(PARENTTAG,LEVEL,PARENTCTXT)                                     \
     { START1(PARENTTAG);                                                     \
       START2(LEVEL,PARENTCTXT);                                              \
     }
#define PARENT                                                                \
     get_parentctxt(0)
#define GRANDPARENT(OFF)                                                      \
     get_parentctxt(OFF)
#define CHK(TAG)                                                              \
     { if (!check_occurrence(TAG_##TAG)) {                                    \
         char* parenttag = get_parenttag(0);                                  \
         gedcom_error(_("The tag '%s' is mandatory within '%s', but missing"),\
		      #TAG, parenttag);                                       \
         HANDLE_ERROR;                                                        \
       }                                                                      \
     }
#define CHK_COND(TAG)                                                         \
     check_occurrence(TAG_##TAG)
#define POP                                                                   \
     { pop_countarray();                                                      \
       --count_level;                                                         \
     }
#define CHECK0 POP; 
#define CHECK1(TAG1) { CHK(TAG1); POP; }
#define CHECK2(TAG1,TAG2)                                                     \
     { CHK(TAG1); CHK(TAG2); POP; }
#define CHECK3(TAG1,TAG2,TAG3)                                                \
     { CHK(TAG1); CHK(TAG2); CHK(TAG3); POP; }
#define CHECK4(TAG1,TAG2,TAG3,TAG4)                                           \
     { CHK(TAG1); CHK(TAG2); CHK(TAG3); CHK(TAG4); POP; } 
#define OCCUR1(CHILDTAG, MIN) { count_tag(TAG_##CHILDTAG); } 
#define OCCUR2(CHILDTAG, MIN, MAX)                                            \
     { int num = count_tag(TAG_##CHILDTAG);                                   \
       if (num > MAX) {                                                       \
         char* parenttag = get_parenttag(0);                                  \
         gedcom_error(_("The tag '%s' can maximally occur %d time(s) within '%s'"),                                                                          \
		      #CHILDTAG, MAX, parenttag);                             \
         HANDLE_ERROR;                                                        \
       }                                                                      \
     }
#define INVALID_TAG(CHILDTAG)                                                 \
     { char* parenttag = get_parenttag(0);                                    \
       gedcom_error(_("The tag '%s' is not a valid tag within '%s'"),         \
		    CHILDTAG, parenttag);                                     \
       HANDLE_ERROR;                                                          \
     }
#define INVALID_TOP_TAG(CHILDTAG)                                             \
     { gedcom_error(_("The tag '%s' is not a valid top-level tag"),           \
		    CHILDTAG); \
       HANDLE_ERROR; \
     }


#line 257 "gedcom.y"
typedef union {
  int  number;
  char *string;
  struct tag_struct tag;
  Gedcom_ctxt ctxt;
} YYSTYPE;
#ifndef YYDEBUG
#define YYDEBUG 1
#endif

#include <stdio.h>

#ifndef __cplusplus
#ifndef __STDC__
#define const
#endif
#endif



#define	YYFINAL		1702
#define	YYFLAG		-32768
#define	YYNTBASE	140

#define YYTRANSLATE(x) ((unsigned)(x) <= 393 ? yytranslate[x] : 804)

static const short yytranslate[] = {     0,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     2,     2,     2,     2,     2,
     2,     2,     2,     2,     2,     1,     3,     4,     5,     6,
     7,     8,     9,    10,    11,    12,    13,    14,    15,    16,
    17,    18,    19,    20,    21,    22,    23,    24,    25,    26,
    27,    28,    29,    30,    31,    32,    33,    34,    35,    36,
    37,    38,    39,    40,    41,    42,    43,    44,    45,    46,
    47,    48,    49,    50,    51,    52,    53,    54,    55,    56,
    57,    58,    59,    60,    61,    62,    63,    64,    65,    66,
    67,    68,    69,    70,    71,    72,    73,    74,    75,    76,
    77,    78,    79,    80,    81,    82,    83,    84,    85,    86,
    87,    88,    89,    90,    91,    92,    93,    94,    95,    96,
    97,    98,    99,   100,   101,   102,   103,   104,   105,   106,
   107,   108,   109,   110,   111,   112,   113,   114,   115,   116,
   117,   118,   119,   120,   121,   122,   123,   124,   125,   126,
   127,   128,   129,   130,   131,   132,   133,   134,   135,   136,
   137,   138,   139
};

#if YYDEBUG != 0
static const short yyprhs[] = {     0,
     0,     4,     6,     7,    10,    12,    14,    16,    18,    20,
    22,    24,    26,    28,    29,    30,    38,    39,    42,    44,
    46,    48,    50,    52,    54,    56,    58,    60,    62,    64,
    66,    68,    70,    71,    72,    81,    82,    85,    87,    89,
    91,    93,    95,    96,    97,   106,   107,   108,   117,   118,
   119,   128,   129,   132,   134,   136,   137,   138,   147,   148,
   151,   153,   155,   157,   158,   159,   168,   169,   170,   179,
   180,   181,   190,   191,   192,   201,   202,   205,   207,   209,
   210,   211,   220,   221,   228,   229,   230,   239,   240,   241,
   250,   251,   252,   261,   262,   263,   272,   273,   274,   282,
   283,   286,   288,   290,   292,   293,   294,   303,   304,   305,
   314,   315,   316,   325,   326,   329,   331,   333,   334,   335,
   344,   345,   346,   355,   356,   357,   365,   366,   369,   371,
   373,   374,   375,   384,   385,   386,   395,   396,   399,   401,
   403,   408,   409,   410,   420,   421,   424,   426,   428,   430,
   432,   434,   436,   438,   440,   442,   444,   446,   448,   450,
   451,   452,   461,   462,   463,   472,   473,   474,   483,   484,
   485,   494,   495,   496,   505,   506,   507,   517,   518,   521,
   523,   525,   527,   529,   531,   533,   535,   537,   539,   541,
   543,   545,   547,   549,   551,   553,   555,   557,   559,   561,
   563,   565,   566,   567,   576,   577,   578,   587,   588,   589,
   598,   599,   600,   609,   610,   611,   620,   621,   622,   631,
   632,   633,   642,   643,   644,   653,   654,   655,   664,   665,
   668,   670,   672,   674,   675,   676,   685,   686,   687,   697,
   698,   701,   703,   705,   707,   709,   711,   713,   715,   717,
   718,   719,   728,   729,   730,   739,   740,   741,   749,   750,
   753,   755,   757,   758,   759,   768,   769,   770,   779,   780,
   781,   792,   793,   796,   797,   800,   802,   804,   806,   808,
   810,   812,   813,   814,   823,   824,   825,   835,   836,   839,
   841,   843,   845,   847,   849,   851,   852,   853,   862,   863,
   864,   874,   875,   878,   880,   882,   884,   886,   888,   890,
   892,   894,   896,   898,   900,   902,   904,   906,   908,   910,
   912,   914,   915,   916,   924,   925,   928,   930,   932,   934,
   936,   937,   938,   947,   948,   951,   953,   955,   957,   958,
   959,   968,   969,   970,   979,   980,   981,   990,   991,   992,
  1001,  1002,  1005,  1007,  1009,  1010,  1011,  1020,  1021,  1024,
  1026,  1028,  1029,  1030,  1039,  1040,  1041,  1050,  1051,  1054,
  1056,  1058,  1059,  1060,  1069,  1070,  1073,  1075,  1077,  1078,
  1085,  1086,  1093,  1094,  1101,  1102,  1109,  1110,  1117,  1118,
  1125,  1126,  1127,  1137,  1138,  1141,  1143,  1145,  1147,  1149,
  1151,  1153,  1155,  1157,  1158,  1159,  1168,  1169,  1170,  1179,
  1180,  1181,  1190,  1191,  1192,  1201,  1202,  1203,  1212,  1213,
  1214,  1223,  1224,  1225,  1234,  1235,  1236,  1246,  1247,  1250,
  1252,  1254,  1256,  1258,  1260,  1262,  1264,  1266,  1268,  1269,
  1270,  1279,  1280,  1281,  1290,  1291,  1292,  1301,  1302,  1303,
  1312,  1313,  1320,  1322,  1324,  1325,  1326,  1335,  1336,  1339,
  1341,  1343,  1345,  1347,  1349,  1351,  1353,  1355,  1356,  1357,
  1366,  1367,  1368,  1377,  1378,  1379,  1388,  1389,  1390,  1399,
  1400,  1401,  1410,  1411,  1412,  1421,  1422,  1423,  1432,  1433,
  1434,  1443,  1445,  1446,  1447,  1456,  1457,  1459,  1461,  1463,
  1465,  1467,  1468,  1469,  1478,  1479,  1480,  1489,  1491,  1492,
  1493,  1501,  1502,  1505,  1507,  1509,  1511,  1512,  1513,  1522,
  1523,  1526,  1528,  1530,  1531,  1532,  1541,  1543,  1544,  1545,
  1554,  1555,  1558,  1560,  1562,  1564,  1565,  1566,  1575,  1577,
  1579,  1580,  1581,  1590,  1591,  1592,  1601,  1602,  1605,  1607,
  1609,  1610,  1619,  1621,  1623,  1625,  1627,  1629,  1631,  1633,
  1635,  1637,  1639,  1640,  1641,  1650,  1651,  1652,  1661,  1662,
  1663,  1672,  1673,  1674,  1683,  1684,  1685,  1694,  1696,  1698,
  1699,  1700,  1709,  1711,  1713,  1715,  1717,  1719,  1721,  1723,
  1725,  1727,  1729,  1730,  1733,  1735,  1737,  1739,  1741,  1742,
  1743,  1751,  1752,  1755,  1757,  1759,  1760,  1761,  1770,  1771,
  1772,  1780,  1781,  1782,  1790,  1791,  1794,  1796,  1798,  1800,
  1802,  1804,  1806,  1807,  1808,  1817,  1818,  1821,  1823,  1825,
  1826,  1827,  1836,  1837,  1838,  1847,  1849,  1851,  1852,  1853,
  1862,  1864,  1866,  1868,  1870,  1872,  1874,  1876,  1878,  1880,
  1882,  1884,  1886,  1887,  1888,  1896,  1897,  1900,  1902,  1904,
  1906,  1908,  1910,  1912,  1913,  1914,  1923,  1925,  1927,  1928,
  1931,  1933,  1935,  1937,  1938,  1939,  1948,  1949,  1950,  1959,
  1961,  1963,  1965,  1967,  1969,  1971,  1973,  1975,  1977,  1979,
  1981,  1983,  1985,  1987,  1989,  1991,  1993,  1995,  1997,  1998,
  2001,  2003,  2005,  2006,  2007,  2016,  2017,  2020,  2022,  2024,
  2026,  2027,  2028,  2037,  2038,  2041,  2043,  2045,  2046,  2047,
  2056,  2057,  2058,  2066,  2068,  2070,  2071,  2072,  2080,  2082,
  2084,  2086,  2087,  2090,  2092,  2094,  2096,  2098,  2100,  2102,
  2104,  2105,  2106,  2115,  2116,  2117,  2126,  2127,  2128,  2137,
  2138,  2139,  2148,  2149,  2150,  2158,  2159,  2162,  2164,  2166,
  2167,  2168,  2177,  2179,  2180,  2181,  2189,  2190,  2193,  2195,
  2197,  2199,  2201,  2203,  2205,  2207,  2208,  2209,  2218,  2219,
  2220,  2229,  2230,  2231,  2240,  2241,  2242,  2251,  2253,  2255,
  2256,  2257,  2267,  2268,  2269,  2277,  2278,  2281,  2283,  2285,
  2287,  2289,  2291,  2292,  2293,  2302,  2303,  2304,  2313,  2314,
  2315,  2324,  2326,  2328,  2329,  2330,  2340,  2341,  2344,  2346,
  2348,  2349,  2350,  2359,  2360,  2363,  2365,  2367,  2369,  2371,
  2372,  2373,  2382,  2383,  2386,  2388,  2390,  2392,  2394,  2396,
  2398,  2400,  2402,  2404,  2405,  2406,  2415,  2416,  2417,  2426,
  2427,  2428,  2437,  2438,  2439,  2448,  2449,  2450,  2459,  2460,
  2461,  2470,  2472,  2473,  2474,  2483,  2484,  2487,  2489,  2491,
  2493,  2495,  2496,  2497,  2506,  2508,  2510,  2511,  2512,  2522,
  2523,  2526,  2528,  2530,  2532,  2534,  2536,  2538,  2540,  2541,
  2542,  2551,  2552,  2553,  2562,  2563,  2566,  2568,  2570,  2571,
  2572,  2581,  2582,  2583,  2591,  2592,  2595,  2597,  2599,  2601,
  2602,  2603,  2612,  2613,  2614,  2623,  2624,  2627,  2629,  2631,
  2632,  2633,  2642,  2643,  2644,  2653,  2654,  2657,  2659,  2661,
  2663,  2665,  2667,  2669,  2670,  2677,  2678,  2679,  2689,  2690,
  2693,  2695,  2697,  2699,  2700,  2701,  2710,  2711,  2714,  2716,
  2718,  2719,  2720,  2729,  2731,  2732,  2733,  2742,  2743,  2746,
  2748,  2750,  2751,  2754,  2756,  2758,  2762,  2764,  2766,  2770,
  2771,  2772,  2773,  2784,  2785,  2786,  2787,  2798,  2799,  2802,
  2805,  2806,  2809,  2810,  2813,  2816,  2817,  2820,  2821,  2824,
  2825,  2828,  2830,  2832,  2835,  2838,  2842,  2846,  2848,  2850,
  2851,  2854,  2862,  2863,  2864,  2874,  2876,  2878,  2879,  2888,
  2889,  2897,  2898,  2901,  2903,  2905,  2907,  2909,  2911,  2913,
  2915,  2917,  2919,  2921,  2923,  2925,  2927,  2929,  2931,  2933,
  2935,  2937,  2939,  2941,  2943,  2945,  2947,  2949,  2951,  2953,
  2955,  2957,  2959,  2961,  2963,  2965,  2967,  2969,  2971,  2973,
  2975,  2977,  2979,  2981,  2983,  2985,  2987,  2989,  2991,  2993,
  2995,  2997,  2999,  3001,  3003,  3005,  3007,  3009,  3011,  3013,
  3015,  3017,  3019,  3021,  3023,  3025,  3027,  3029,  3031,  3033,
  3035,  3037,  3039,  3041,  3043,  3045,  3047,  3049,  3051,  3053,
  3055,  3057,  3059,  3061,  3063,  3065,  3067,  3069,  3071,  3073,
  3075,  3077,  3079,  3081,  3083,  3085,  3087,  3089,  3091,  3093,
  3095,  3097,  3099,  3101,  3103,  3105,  3107,  3109,  3111,  3113,
  3115,  3117,  3119,  3121,  3123,  3125,  3127,  3129,  3131,  3133,
  3135,  3137,  3139,  3141,  3143,  3145,  3147,  3149,  3151,  3153,
  3155,  3157,  3159,  3161,  3163,  3165,  3167,  3169,  3171,  3173
};

static const short yyrhs[] = {   143,
   141,   235,     0,     1,     0,     0,   141,   142,     0,   236,
     0,   256,     0,   293,     0,   315,     0,   324,     0,   332,
     0,   391,     0,   417,     0,   773,     0,     0,     0,     4,
     7,    75,   144,   146,   145,     5,     0,     0,   146,   147,
     0,   148,     0,   175,     0,   178,     0,   186,     0,   188,
     0,   191,     0,   194,     0,   197,     0,   200,     0,   211,
     0,   219,     0,   222,     0,   230,     0,   772,     0,     0,
     0,     4,     7,   123,   786,   149,   151,   150,     5,     0,
     0,   151,   152,     0,   153,     0,   156,     0,   159,     0,
   164,     0,   772,     0,     0,     0,     4,     7,   137,   786,
   154,   771,   155,     5,     0,     0,     0,     4,     7,    88,
   786,   157,   771,   158,     5,     0,     0,     0,     4,     7,
    48,   786,   160,   162,   161,     5,     0,     0,   162,   163,
     0,   436,     0,   772,     0,     0,     0,     4,     7,    51,
   786,   165,   167,   166,     5,     0,     0,   167,   168,     0,
   169,     0,   172,     0,   772,     0,     0,     0,     4,     7,
    52,   786,   170,   771,   171,     5,     0,     0,     0,     4,
     7,    47,   786,   173,   771,   174,     5,     0,     0,     0,
     4,     7,    56,   786,   176,   771,   177,     5,     0,     0,
     0,     4,     7,    52,   786,   179,   181,   180,     5,     0,
     0,   181,   182,     0,   183,     0,   772,     0,     0,     0,
     4,     7,   133,   786,   184,   771,   185,     5,     0,     0,
     4,     7,   133,   787,   187,     5,     0,     0,     0,     4,
     7,   128,   785,   189,   771,   190,     5,     0,     0,     0,
     4,     7,   129,   785,   192,   771,   193,     5,     0,     0,
     0,     4,     7,    70,   786,   195,   771,   196,     5,     0,
     0,     0,     4,     7,    47,   786,   198,   771,   199,     5,
     0,     0,     0,     4,     7,    72,   201,   203,   202,     5,
     0,     0,   203,   204,     0,   205,     0,   208,     0,   772,
     0,     0,     0,     4,     7,   137,   786,   206,   771,   207,
     5,     0,     0,     0,     4,     7,    71,   786,   209,   771,
   210,     5,     0,     0,     0,     4,     7,    38,   786,   212,
   214,   213,     5,     0,     0,   214,   215,     0,   216,     0,
   772,     0,     0,     0,     4,     7,   137,   786,   217,   771,
   218,     5,     0,     0,     0,     4,     7,    80,   786,   220,
   771,   221,     5,     0,     0,     0,     4,     7,   104,   223,
   225,   224,     5,     0,     0,   225,   226,     0,   227,     0,
   772,     0,     0,     0,     4,     7,    71,   786,   228,   771,
   229,     5,     0,     0,     0,     4,     7,    94,   786,   231,
   233,   232,     5,     0,     0,   233,   234,     0,   500,     0,
   772,     0,     4,     7,   135,     5,     0,     0,     0,     4,
     7,     9,     7,    65,   237,   239,   238,     5,     0,     0,
   239,   240,     0,   527,     0,   241,     0,   244,     0,   247,
     0,   250,     0,   253,     0,   631,     0,   711,     0,   649,
     0,   667,     0,   550,     0,   477,     0,   772,     0,     0,
     0,     4,     7,    76,   785,   242,   771,   243,     5,     0,
     0,     0,     4,     7,   138,   785,   245,   771,   246,     5,
     0,     0,     0,     4,     7,    39,   785,   248,   771,   249,
     5,     0,     0,     0,     4,     7,    91,   786,   251,   771,
   252,     5,     0,     0,     0,     4,     7,   128,   785,   254,
   771,   255,     5,     0,     0,     0,     4,     7,     9,     7,
    79,   257,   259,   258,     5,     0,     0,   259,   260,     0,
   261,     0,   678,     0,   264,     0,   572,     0,   562,     0,
   604,     0,   491,     0,   765,     0,   267,     0,   466,     0,
   270,     0,   273,     0,   276,     0,   711,     0,   649,     0,
   667,     0,   279,     0,   282,     0,   550,     0,   477,     0,
   285,     0,   772,     0,     0,     0,     4,     7,   115,   786,
   262,   771,   263,     5,     0,     0,     0,     4,     7,   120,
   786,   265,   771,   266,     5,     0,     0,     0,     4,     7,
   128,   785,   268,   771,   269,     5,     0,     0,     0,     4,
     7,    19,   785,   271,   771,   272,     5,     0,     0,     0,
     4,     7,    21,   785,   274,   771,   275,     5,     0,     0,
     0,     4,     7,    55,   785,   277,   771,   278,     5,     0,
     0,     0,     4,     7,   117,   786,   280,   771,   281,     5,
     0,     0,     0,     4,     7,    16,   786,   283,   771,   284,
     5,     0,     0,     0,     4,     7,    12,   787,   286,   288,
   287,     5,     0,     0,   288,   289,     0,   500,     0,   290,
     0,   772,     0,     0,     0,     4,     7,   103,   786,   291,
   771,   292,     5,     0,     0,     0,     4,     7,     9,     7,
    97,   294,   296,   295,     5,     0,     0,   296,   297,     0,
   298,     0,   301,     0,   667,     0,   304,     0,   312,     0,
   550,     0,   477,     0,   772,     0,     0,     0,     4,     7,
    71,   786,   299,   771,   300,     5,     0,     0,     0,     4,
     7,   134,   786,   302,   771,   303,     5,     0,     0,     0,
     4,     7,    31,   305,   307,   306,     5,     0,     0,   307,
   308,     0,   309,     0,   772,     0,     0,     0,     4,     7,
    46,   786,   310,   771,   311,     5,     0,     0,     0,     4,
     7,    97,   785,   313,   771,   314,     5,     0,     0,     0,
     4,     7,     9,     7,    94,   318,   316,   319,   317,     5,
     0,     0,     7,   788,     0,     0,   319,   320,     0,   500,
     0,   711,     0,   550,     0,   477,     0,   321,     0,   772,
     0,     0,     0,     4,     7,    94,   787,   322,   771,   323,
     5,     0,     0,     0,     4,     7,     9,     7,   113,   325,
   327,   326,     5,     0,     0,   327,   328,     0,   329,     0,
   436,     0,   667,     0,   550,     0,   477,     0,   772,     0,
     0,     0,     4,     7,    88,   786,   330,   771,   331,     5,
     0,     0,     0,     4,     7,     9,     7,   123,   333,   335,
   334,     5,     0,     0,   335,   336,     0,   337,     0,   356,
     0,   361,     0,   366,     0,   369,     0,   374,     0,   379,
     0,   381,     0,   383,     0,   385,     0,   387,     0,   389,
     0,   749,     0,   649,     0,   667,     0,   550,     0,   477,
     0,   772,     0,     0,     0,     4,     7,    51,   338,   340,
   339,     5,     0,     0,   340,   341,     0,   342,     0,   353,
     0,   667,     0,   772,     0,     0,     0,     4,     7,    64,
   786,   343,   345,   344,     5,     0,     0,   345,   346,     0,
   347,     0,   350,     0,   772,     0,     0,     0,     4,     7,
    52,   786,   348,   771,   349,     5,     0,     0,     0,     4,
     7,   104,   786,   351,   771,   352,     5,     0,     0,     0,
     4,     7,    18,   786,   354,   771,   355,     5,     0,     0,
     0,     4,     7,    24,   786,   357,   359,   358,     5,     0,
     0,   359,   360,     0,   500,     0,   772,     0,     0,     0,
     4,     7,   134,   786,   362,   364,   363,     5,     0,     0,
   364,   365,     0,   500,     0,   772,     0,     0,     0,     4,
     7,    11,   786,   367,   771,   368,     5,     0,     0,     0,
     4,     7,   108,   786,   370,   372,   371,     5,     0,     0,
   372,   373,     0,   500,     0,   772,     0,     0,     0,     4,
     7,   132,   786,   375,   377,   376,     5,     0,     0,   377,
   378,     0,   500,     0,   772,     0,     0,     4,     7,   136,
   787,   380,     5,     0,     0,     4,     7,    70,   787,   382,
     5,     0,     0,     4,     7,   104,   787,   384,     5,     0,
     0,     4,     7,    52,   787,   386,     5,     0,     0,     4,
     7,    87,   787,   388,     5,     0,     0,     4,     7,   101,
   787,   390,     5,     0,     0,     0,     4,     7,     9,     7,
   129,   392,   394,   393,     5,     0,     0,   394,   395,     0,
   396,     0,   399,     0,   402,     0,   405,     0,   408,     0,
   411,     0,   414,     0,   772,     0,     0,     0,     4,     7,
   128,   785,   397,   771,   398,     5,     0,     0,     0,     4,
     7,    67,   786,   400,   771,   401,     5,     0,     0,     0,
     4,     7,   131,   786,   403,   771,   404,     5,     0,     0,
     0,     4,     7,    20,   786,   406,   771,   407,     5,     0,
     0,     0,     4,     7,    54,   786,   409,   771,   410,     5,
     0,     0,     0,     4,     7,    99,   786,   412,   771,   413,
     5,     0,     0,     0,     4,     7,   118,   786,   415,   771,
   416,     5,     0,     0,     0,     4,     7,     9,     7,   128,
   418,   420,   419,     5,     0,     0,   420,   421,     0,   422,
     0,   436,     0,   649,     0,   425,     0,   428,     0,   431,
     0,   477,     0,   434,     0,   772,     0,     0,     0,     4,
     7,    88,   786,   423,   771,   424,     5,     0,     0,     0,
     4,     7,    80,   786,   426,   771,   427,     5,     0,     0,
     0,     4,     7,   117,   786,   429,   771,   430,     5,     0,
     0,     0,     4,     7,   118,   786,   432,   771,   433,     5,
     0,     0,     4,     7,    50,   787,   435,     5,     0,   437,
     0,   463,     0,     0,     0,     4,     7,    12,   786,   438,
   440,   439,     5,     0,     0,   440,   441,     0,   442,     0,
   445,     0,   448,     0,   451,     0,   454,     0,   457,     0,
   460,     0,   772,     0,     0,     0,     4,     7,    46,   786,
   443,   771,   444,     5,     0,     0,     0,     4,     7,    13,
   786,   446,   771,   447,     5,     0,     0,     0,     4,     7,
    14,   786,   449,   771,   450,     5,     0,     0,     0,     4,
     7,    42,   786,   452,   771,   453,     5,     0,     0,     0,
     4,     7,   126,   786,   455,   771,   456,     5,     0,     0,
     0,     4,     7,   105,   786,   458,   771,   459,     5,     0,
     0,     0,     4,     7,    50,   786,   461,   771,   462,     5,
     0,     0,     0,     4,     7,   103,   786,   464,   771,   465,
     5,     0,   467,     0,     0,     0,     4,     7,    23,   785,
   468,   470,   469,     5,     0,     0,   471,     0,   474,     0,
   667,     0,   711,     0,   772,     0,     0,     0,     4,     7,
   136,   786,   472,   771,   473,     5,     0,     0,     0,     4,
     7,   111,   786,   475,   771,   476,     5,     0,   478,     0,
     0,     0,     4,     7,    37,   479,   481,   480,     5,     0,
     0,   481,   482,     0,   483,     0,   667,     0,   772,     0,
     0,     0,     4,     7,    52,   786,   484,   486,   485,     5,
     0,     0,   486,   487,     0,   488,     0,   772,     0,     0,
     0,     4,     7,   133,   786,   489,   771,   490,     5,     0,
   492,     0,     0,     0,     4,     7,    66,   785,   493,   495,
   494,     5,     0,     0,   495,   496,     0,   497,     0,   667,
     0,   772,     0,     0,     0,     4,     7,   102,   786,   498,
   771,   499,     5,     0,   501,     0,   504,     0,     0,     0,
     4,     7,    46,   787,   502,   507,   503,     5,     0,     0,
     0,     4,     7,    43,   786,   505,   507,   506,     5,     0,
     0,   507,   508,     0,   509,     0,   772,     0,     0,     4,
     7,   123,     7,     9,   510,   771,     5,     0,   512,     0,
   515,     0,   702,     0,   436,     0,   518,     0,   521,     0,
   524,     0,   711,     0,   649,     0,   667,     0,     0,     0,
     4,     7,   136,   786,   513,   771,   514,     5,     0,     0,
     0,     4,     7,    52,   786,   516,   771,   517,     5,     0,
     0,     0,     4,     7,    17,   786,   519,   771,   520,     5,
     0,     0,     0,     4,     7,    18,   786,   522,   771,   523,
     5,     0,     0,     0,     4,     7,    35,   786,   525,   771,
   526,     5,     0,   528,     0,   545,     0,     0,     0,     4,
     7,   531,   784,   529,   532,   530,     5,     0,    22,     0,
    36,     0,    57,     0,    58,     0,    63,     0,    85,     0,
    82,     0,    83,     0,    84,     0,    86,     0,     0,   532,
   533,     0,   511,     0,   534,     0,   542,     0,   772,     0,
     0,     0,     4,     7,    76,   535,   537,   536,     5,     0,
     0,   537,   538,     0,   539,     0,   772,     0,     0,     0,
     4,     7,    17,   786,   540,   771,   541,     5,     0,     0,
     0,     4,     7,   138,   543,   537,   544,     5,     0,     0,
     0,     4,     7,    64,   546,   548,   547,     5,     0,     0,
   548,   549,     0,   511,     0,   534,     0,   542,     0,   772,
     0,   551,     0,   559,     0,     0,     0,     4,     7,   110,
   786,   552,   554,   553,     5,     0,     0,   554,   555,     0,
   556,     0,   772,     0,     0,     0,     4,     7,   136,   786,
   557,   771,   558,     5,     0,     0,     0,     4,     7,   118,
   786,   560,   771,   561,     5,     0,   563,     0,   567,     0,
     0,     0,     4,     7,   566,   786,   564,   570,   565,     5,
     0,    34,     0,    59,     0,    60,     0,    77,     0,    89,
     0,    91,     0,    93,     0,    98,     0,   107,     0,   112,
     0,   125,     0,   134,     0,     0,     0,     4,     7,   114,
   568,   570,   569,     5,     0,     0,   570,   571,     0,   511,
     0,   772,     0,   573,     0,   582,     0,   588,     0,   601,
     0,     0,     0,     4,     7,   576,   784,   574,   577,   575,
     5,     0,    29,     0,    40,     0,     0,   577,   578,     0,
   511,     0,   579,     0,   772,     0,     0,     0,     4,     7,
    66,   785,   580,   771,   581,     5,     0,     0,     0,     4,
     7,   585,   784,   583,   586,   584,     5,     0,    53,     0,
    32,     0,    49,     0,    26,     0,    27,     0,    28,     0,
    30,     0,    41,     0,    44,     0,    69,     0,   100,     0,
    90,     0,    61,     0,    78,     0,    36,     0,   106,     0,
   139,     0,    74,     0,   116,     0,     0,   586,   587,     0,
   511,     0,   772,     0,     0,     0,     4,     7,    15,   784,
   589,   591,   590,     5,     0,     0,   591,   592,     0,   511,
     0,   593,     0,   772,     0,     0,     0,     4,     7,    66,
   785,   594,   596,   595,     5,     0,     0,   596,   597,     0,
   598,     0,   772,     0,     0,     0,     4,     7,    15,   786,
   599,   771,   600,     5,     0,     0,     0,     4,     7,    64,
   602,   586,   603,     5,     0,   605,     0,   623,     0,     0,
     0,     4,     7,   608,   606,   609,   607,     5,     0,    25,
     0,    45,     0,    62,     0,     0,   609,   610,     0,   611,
     0,   614,     0,   617,     0,   620,     0,   711,     0,   667,
     0,   772,     0,     0,     0,     4,     7,   127,   786,   612,
   771,   613,     5,     0,     0,     0,     4,     7,    52,   786,
   615,   771,   616,     5,     0,     0,     0,     4,     7,   131,
   786,   618,   771,   619,     5,     0,     0,     0,     4,     7,
   104,   786,   621,   771,   622,     5,     0,     0,     0,     4,
     7,   121,   624,   626,   625,     5,     0,     0,   626,   627,
     0,   610,     0,   628,     0,     0,     0,     4,     7,    66,
   785,   629,   771,   630,     5,     0,   632,     0,     0,     0,
     4,     7,   122,   633,   635,   634,     5,     0,     0,   635,
   636,     0,   637,     0,   640,     0,   643,     0,   646,     0,
   711,     0,   667,     0,   772,     0,     0,     0,     4,     7,
   127,   786,   638,   771,   639,     5,     0,     0,     0,     4,
     7,    52,   786,   641,   771,   642,     5,     0,     0,     0,
     4,     7,   131,   786,   644,   771,   645,     5,     0,     0,
     0,     4,     7,   104,   786,   647,   771,   648,     5,     0,
   650,     0,   653,     0,     0,     0,     4,     7,    97,     7,
     9,   651,   771,   652,     5,     0,     0,     0,     4,     7,
    97,   654,   656,   655,     5,     0,     0,   656,   657,     0,
   658,     0,   661,     0,   664,     0,   667,     0,   772,     0,
     0,     0,     4,     7,    71,   786,   659,   771,   660,     5,
     0,     0,     0,     4,     7,   134,   786,   662,   771,   663,
     5,     0,     0,     0,     4,     7,    70,   786,   665,   771,
   666,     5,     0,   668,     0,   673,     0,     0,     0,     4,
     7,    94,     7,     9,   669,   671,   670,     5,     0,     0,
   671,   672,     0,   711,     0,   772,     0,     0,     0,     4,
     7,    94,   787,   674,   676,   675,     5,     0,     0,   676,
   677,     0,   500,     0,   711,     0,   772,     0,   679,     0,
     0,     0,     4,     7,    88,   786,   680,   682,   681,     5,
     0,     0,   682,   683,     0,   684,     0,   687,     0,   690,
     0,   693,     0,   696,     0,   699,     0,   711,     0,   667,
     0,   772,     0,     0,     0,     4,     7,    95,   786,   685,
   771,   686,     5,     0,     0,     0,     4,     7,    73,   786,
   688,   771,   689,     5,     0,     0,     0,     4,     7,    92,
   786,   691,   771,   692,     5,     0,     0,     0,     4,     7,
   124,   786,   694,   771,   695,     5,     0,     0,     0,     4,
     7,   130,   786,   697,   771,   698,     5,     0,     0,     0,
     4,     7,    96,   786,   700,   771,   701,     5,     0,   703,
     0,     0,     0,     4,     7,   104,   786,   704,   706,   705,
     5,     0,     0,   706,   707,     0,   708,     0,   711,     0,
   667,     0,   772,     0,     0,     0,     4,     7,    71,   786,
   709,   771,   710,     5,     0,   712,     0,   744,     0,     0,
     0,     4,     7,   123,     7,     9,   713,   715,   714,     5,
     0,     0,   715,   716,     0,   717,     0,   720,     0,   728,
     0,   741,     0,   649,     0,   667,     0,   772,     0,     0,
     0,     4,     7,   101,   786,   718,   771,   719,     5,     0,
     0,     0,     4,     7,    64,   786,   721,   723,   722,     5,
     0,     0,   723,   724,     0,   725,     0,   772,     0,     0,
     0,     4,     7,   119,   786,   726,   771,   727,     5,     0,
     0,     0,     4,     7,    51,   729,   731,   730,     5,     0,
     0,   731,   732,     0,   733,     0,   736,     0,   772,     0,
     0,     0,     4,     7,    52,   786,   734,   771,   735,     5,
     0,     0,     0,     4,     7,   132,   786,   737,   739,   738,
     5,     0,     0,   739,   740,     0,   500,     0,   772,     0,
     0,     0,     4,     7,   109,   786,   742,   771,   743,     5,
     0,     0,     0,     4,     7,   123,   786,   745,   747,   746,
     5,     0,     0,   747,   748,     0,   500,     0,   736,     0,
   667,     0,   772,     0,   752,     0,   750,     0,     0,     4,
     7,   113,   787,   751,     5,     0,     0,     0,     4,     7,
   113,     7,     9,   753,   755,   754,     5,     0,     0,   755,
   756,     0,   667,     0,   757,     0,   772,     0,     0,     0,
     4,     7,    33,   786,   758,   760,   759,     5,     0,     0,
   760,   761,     0,   762,     0,   772,     0,     0,     0,     4,
     7,    87,   786,   763,   771,   764,     5,     0,   766,     0,
     0,     0,     4,     7,    68,   785,   767,   769,   768,     5,
     0,     0,   769,   770,     0,   667,     0,   772,     0,     0,
   771,   772,     0,   778,     0,   792,     0,     1,   790,     5,
     0,   774,     0,   795,     0,     1,   790,     5,     0,     0,
     0,     0,     4,     7,   783,    10,   775,   784,   776,   782,
   777,     5,     0,     0,     0,     0,     4,     7,   783,    10,
   779,   784,   780,   782,   781,     5,     0,     0,   782,   778,
     0,   782,   792,     0,     0,     9,     7,     0,     0,     7,
     9,     0,     7,   788,     0,     0,     7,     9,     0,     0,
     7,   788,     0,     0,     7,   788,     0,   789,     0,     6,
     0,   788,   789,     0,   788,     6,     0,   788,     1,   789,
     0,   788,     1,     6,     0,     8,     0,     7,     0,     0,
   790,   791,     0,     4,     7,   783,   801,   784,   790,     5,
     0,     0,     0,     4,     7,   783,   803,   793,   784,   794,
   800,     5,     0,   798,     0,   796,     0,     0,     4,     7,
   783,   803,   797,   784,   800,     5,     0,     0,     4,     7,
   802,   799,   784,   800,     5,     0,     0,   800,   792,     0,
    10,     0,   803,     0,    65,     0,    79,     0,    97,     0,
    94,     0,   113,     0,   123,     0,   129,     0,   128,     0,
    11,     0,    12,     0,    13,     0,    14,     0,    15,     0,
    16,     0,    17,     0,    18,     0,    19,     0,    20,     0,
    21,     0,    22,     0,    23,     0,    24,     0,    25,     0,
    26,     0,    27,     0,    28,     0,    29,     0,    30,     0,
    31,     0,    32,     0,    33,     0,    34,     0,    35,     0,
    36,     0,    37,     0,    38,     0,    39,     0,    40,     0,
    41,     0,    42,     0,    43,     0,    44,     0,    45,     0,
    46,     0,    47,     0,    48,     0,    49,     0,    50,     0,
    51,     0,    52,     0,    53,     0,    54,     0,    55,     0,
    56,     0,    57,     0,    58,     0,    59,     0,    60,     0,
    61,     0,    62,     0,    63,     0,    64,     0,    65,     0,
    66,     0,    68,     0,    69,     0,    70,     0,    71,     0,
    72,     0,    73,     0,    74,     0,    75,     0,    76,     0,
    77,     0,    78,     0,    79,     0,    80,     0,    81,     0,
    82,     0,    83,     0,    84,     0,    85,     0,    86,     0,
    87,     0,    88,     0,    89,     0,    91,     0,    92,     0,
    93,     0,    94,     0,    95,     0,    96,     0,    97,     0,
    98,     0,    99,     0,   100,     0,   101,     0,   102,     0,
   103,     0,   104,     0,   105,     0,   106,     0,   107,     0,
   108,     0,   109,     0,   110,     0,   111,     0,   112,     0,
   113,     0,   114,     0,   115,     0,   116,     0,   117,     0,
   118,     0,   119,     0,   120,     0,   121,     0,   122,     0,
   123,     0,   124,     0,   125,     0,   126,     0,   127,     0,
   128,     0,   129,     0,   130,     0,   131,     0,   132,     0,
   133,     0,   134,     0,   135,     0,   136,     0,   137,     0,
   138,     0,   139,     0
};

#endif

#if YYDEBUG != 0
static const short yyrline[] = { 0,
   424,   426,   430,   431,   434,   435,   436,   437,   438,   439,
   440,   441,   442,   448,   454,   470,   476,   477,   480,   481,
   482,   483,   486,   487,   488,   489,   490,   491,   492,   493,
   494,   495,   499,   507,   509,   514,   515,   518,   519,   520,
   521,   522,   525,   533,   535,   539,   546,   548,   552,   559,
   561,   566,   567,   570,   571,   574,   581,   583,   588,   589,
   592,   593,   594,   597,   606,   608,   613,   621,   623,   630,
   637,   639,   645,   655,   657,   662,   663,   666,   667,   670,
   677,   679,   685,   691,   698,   708,   710,   715,   725,   727,
   732,   739,   741,   746,   753,   755,   760,   767,   775,   780,
   781,   784,   785,   786,   788,   795,   797,   801,   808,   810,
   816,   826,   828,   833,   834,   837,   838,   840,   847,   849,
   855,   862,   864,   869,   876,   878,   883,   884,   887,   888,
   890,   897,   899,   905,   914,   916,   922,   923,   926,   927,
   934,   940,   950,   952,   955,   956,   959,   960,   961,   962,
   963,   964,   965,   966,   967,   968,   969,   970,   971,   975,
   985,   987,   993,  1003,  1005,  1011,  1021,  1023,  1029,  1036,
  1038,  1044,  1054,  1056,  1064,  1073,  1075,  1081,  1082,  1085,
  1086,  1087,  1088,  1089,  1090,  1091,  1092,  1093,  1094,  1095,
  1096,  1097,  1098,  1099,  1100,  1101,  1102,  1103,  1104,  1105,
  1108,  1112,  1119,  1121,  1127,  1134,  1136,  1142,  1152,  1154,
  1160,  1170,  1172,  1178,  1188,  1190,  1196,  1206,  1208,  1214,
  1221,  1223,  1229,  1236,  1238,  1244,  1259,  1261,  1272,  1273,
  1276,  1277,  1278,  1281,  1289,  1291,  1299,  1308,  1310,  1313,
  1314,  1317,  1318,  1319,  1320,  1321,  1322,  1323,  1324,  1328,
  1335,  1337,  1343,  1350,  1352,  1358,  1366,  1368,  1374,  1375,
  1378,  1379,  1382,  1390,  1392,  1398,  1408,  1410,  1418,  1429,
  1431,  1436,  1444,  1449,  1450,  1453,  1454,  1455,  1456,  1457,
  1460,  1464,  1476,  1478,  1486,  1495,  1497,  1500,  1501,  1504,
  1505,  1506,  1507,  1508,  1509,  1513,  1520,  1522,  1530,  1539,
  1541,  1544,  1545,  1548,  1549,  1550,  1551,  1552,  1553,  1554,
  1557,  1560,  1563,  1566,  1569,  1572,  1573,  1574,  1575,  1576,
  1577,  1581,  1588,  1590,  1595,  1596,  1599,  1600,  1601,  1602,
  1605,  1612,  1614,  1619,  1620,  1623,  1624,  1625,  1628,  1637,
  1639,  1644,  1652,  1654,  1659,  1666,  1668,  1674,  1683,  1685,
  1691,  1692,  1695,  1696,  1700,  1709,  1711,  1717,  1718,  1721,
  1722,  1726,  1733,  1735,  1741,  1750,  1752,  1758,  1759,  1762,
  1763,  1767,  1776,  1778,  1784,  1785,  1788,  1789,  1793,  1801,
  1807,  1815,  1821,  1829,  1835,  1843,  1849,  1857,  1863,  1871,
  1879,  1888,  1890,  1893,  1894,  1897,  1898,  1899,  1900,  1901,
  1902,  1903,  1904,  1908,  1918,  1920,  1926,  1933,  1935,  1941,
  1948,  1950,  1956,  1963,  1965,  1971,  1978,  1980,  1986,  1993,
  1995,  2001,  2008,  2010,  2018,  2027,  2029,  2035,  2036,  2039,
  2040,  2041,  2042,  2043,  2044,  2045,  2046,  2049,  2053,  2060,
  2062,  2068,  2075,  2077,  2083,  2090,  2092,  2098,  2105,  2107,
  2113,  2119,  2130,  2131,  2134,  2145,  2147,  2153,  2154,  2157,
  2158,  2159,  2160,  2161,  2162,  2163,  2164,  2167,  2176,  2178,
  2182,  2189,  2191,  2195,  2202,  2204,  2208,  2215,  2217,  2221,
  2228,  2230,  2234,  2241,  2243,  2247,  2254,  2256,  2261,  2268,
  2270,  2276,  2279,  2289,  2291,  2296,  2297,  2298,  2299,  2300,
  2301,  2304,  2311,  2313,  2318,  2325,  2327,  2333,  2336,  2343,
  2345,  2350,  2351,  2354,  2355,  2356,  2359,  2366,  2368,  2373,
  2374,  2377,  2378,  2381,  2389,  2391,  2397,  2400,  2410,  2412,
  2417,  2418,  2421,  2422,  2423,  2426,  2433,  2435,  2441,  2442,
  2445,  2455,  2457,  2462,  2473,  2475,  2480,  2481,  2484,  2487,
  2491,  2500,  2508,  2509,  2510,  2511,  2512,  2513,  2514,  2515,
  2516,  2517,  2520,  2528,  2530,  2534,  2543,  2545,  2549,  2558,
  2560,  2564,  2572,  2574,  2578,  2586,  2588,  2594,  2595,  2598,
  2606,  2608,  2613,  2614,  2615,  2616,  2617,  2618,  2619,  2620,
  2621,  2622,  2625,  2626,  2629,  2630,  2631,  2632,  2635,  2642,
  2644,  2649,  2650,  2653,  2654,  2657,  2665,  2667,  2672,  2679,
  2681,  2686,  2693,  2695,  2700,  2701,  2704,  2705,  2706,  2707,
  2711,  2712,  2715,  2722,  2724,  2729,  2730,  2733,  2734,  2737,
  2745,  2747,  2752,  2759,  2761,  2767,  2768,  2771,  2778,  2780,
  2785,  2786,  2787,  2788,  2789,  2790,  2791,  2792,  2793,  2794,
  2795,  2796,  2799,  2806,  2808,  2813,  2814,  2817,  2818,  2822,
  2823,  2824,  2825,  2828,  2836,  2838,  2843,  2844,  2847,  2848,
  2851,  2852,  2853,  2856,  2868,  2870,  2875,  2883,  2885,  2890,
  2891,  2892,  2893,  2894,  2895,  2896,  2897,  2898,  2899,  2900,
  2901,  2902,  2903,  2904,  2905,  2906,  2907,  2908,  2911,  2912,
  2915,  2916,  2919,  2926,  2928,  2933,  2934,  2937,  2938,  2939,
  2942,  2953,  2955,  2960,  2961,  2964,  2965,  2968,  2975,  2977,
  2983,  2989,  2991,  2997,  2998,  3001,  3008,  3010,  3015,  3016,
  3017,  3020,  3021,  3024,  3025,  3026,  3027,  3028,  3029,  3030,
  3033,  3040,  3042,  3046,  3054,  3056,  3060,  3067,  3069,  3073,
  3080,  3082,  3087,  3094,  3100,  3105,  3106,  3109,  3110,  3113,
  3124,  3126,  3132,  3135,  3141,  3143,  3148,  3149,  3152,  3153,
  3154,  3155,  3156,  3157,  3158,  3161,  3168,  3170,  3174,  3182,
  3184,  3188,  3195,  3197,  3201,  3208,  3210,  3216,  3217,  3220,
  3232,  3234,  3239,  3246,  3248,  3253,  3254,  3257,  3258,  3259,
  3260,  3261,  3264,  3272,  3274,  3279,  3287,  3289,  3294,  3302,
  3304,  3311,  3312,  3315,  3327,  3329,  3334,  3335,  3338,  3339,
  3342,  3358,  3360,  3366,  3367,  3370,  3371,  3372,  3376,  3379,
  3386,  3388,  3393,  3394,  3397,  3398,  3399,  3400,  3401,  3402,
  3403,  3404,  3405,  3408,  3415,  3417,  3421,  3428,  3430,  3434,
  3441,  3443,  3447,  3454,  3456,  3460,  3467,  3469,  3473,  3480,
  3482,  3488,  3491,  3499,  3501,  3506,  3507,  3510,  3511,  3512,
  3513,  3516,  3524,  3526,  3532,  3533,  3536,  3548,  3550,  3555,
  3556,  3559,  3560,  3561,  3562,  3563,  3564,  3565,  3568,  3576,
  3578,  3583,  3591,  3593,  3598,  3599,  3602,  3603,  3606,  3614,
  3616,  3622,  3629,  3631,  3636,  3637,  3640,  3641,  3642,  3645,
  3654,  3656,  3662,  3672,  3674,  3680,  3681,  3684,  3685,  3688,
  3696,  3698,  3703,  3712,  3714,  3720,  3721,  3724,  3725,  3726,
  3727,  3731,  3732,  3740,  3748,  3753,  3764,  3766,  3771,  3772,
  3775,  3776,  3777,  3780,  3787,  3789,  3794,  3795,  3798,  3799,
  3802,  3809,  3811,  3817,  3820,  3831,  3833,  3838,  3839,  3842,
  3843,  3850,  3851,  3854,  3855,  3856,  3860,  3861,  3862,  3866,
  3883,  3895,  3897,  3899,  3920,  3924,  3926,  3933,  3934,  3935,
  3945,  3946,  3949,  3951,  3956,  3960,  3961,  3965,  3974,  3978,
  3979,  3983,  3993,  3999,  4009,  4015,  4016,  4019,  4020,  4023,
  4024,  4027,  4030,  4040,  4044,  4050,  4051,  4054,  4056,  4060,
  4062,  4066,  4067,  4070,  4071,  4074,  4075,  4076,  4077,  4078,
  4079,  4080,  4081,  4084,  4085,  4086,  4087,  4088,  4089,  4090,
  4091,  4092,  4093,  4094,  4095,  4096,  4097,  4098,  4099,  4100,
  4101,  4102,  4103,  4104,  4105,  4106,  4107,  4108,  4109,  4110,
  4111,  4112,  4113,  4114,  4115,  4116,  4117,  4118,  4119,  4120,
  4121,  4122,  4123,  4124,  4125,  4126,  4127,  4128,  4129,  4130,
  4131,  4132,  4133,  4134,  4135,  4136,  4137,  4138,  4139,  4140,
  4141,  4142,  4143,  4144,  4145,  4146,  4147,  4148,  4149,  4150,
  4151,  4152,  4153,  4154,  4155,  4156,  4157,  4158,  4159,  4160,
  4161,  4162,  4163,  4164,  4165,  4166,  4167,  4168,  4169,  4170,
  4171,  4172,  4173,  4174,  4175,  4176,  4177,  4178,  4179,  4180,
  4181,  4182,  4183,  4184,  4185,  4186,  4187,  4188,  4189,  4190,
  4191,  4192,  4193,  4194,  4195,  4196,  4197,  4198,  4199,  4200,
  4201,  4202,  4203,  4204,  4205,  4206,  4207,  4208,  4209,  4210
};
#endif

#define YYNTOKENS 140
#define YYNNTS 664
#define YYNRULES 1150
#define YYNSTATES 1703
#define YYMAXUTOK 393

static const char * const yytname[] = {   "$","error","$undefined.","BADTOKEN",
"OPEN","CLOSE","ESCAPE","DELIM","ANYCHAR","POINTER","USERTAG","TAG_ABBR","TAG_ADDR",
"TAG_ADR1","TAG_ADR2","TAG_ADOP","TAG_AFN","TAG_AGE","TAG_AGNC","TAG_ALIA","TAG_ANCE",
"TAG_ANCI","TAG_ANUL","TAG_ASSO","TAG_AUTH","TAG_BAPL","TAG_BAPM","TAG_BARM",
"TAG_BASM","TAG_BIRT","TAG_BLES","TAG_BLOB","TAG_BURI","TAG_CALN","TAG_CAST",
"TAG_CAUS","TAG_CENS","TAG_CHAN","TAG_CHAR","TAG_CHIL","TAG_CHR","TAG_CHRA",
"TAG_CITY","TAG_CONC","TAG_CONF","TAG_CONL","TAG_CONT","TAG_COPR","TAG_CORP",
"TAG_CREM","TAG_CTRY","TAG_DATA","TAG_DATE","TAG_DEAT","TAG_DESC","TAG_DESI",
"TAG_DEST","TAG_DIV","TAG_DIVF","TAG_DSCR","TAG_EDUC","TAG_EMIG","TAG_ENDL",
"TAG_ENGA","TAG_EVEN","TAG_FAM","TAG_FAMC","TAG_FAMF","TAG_FAMS","TAG_FCOM",
"TAG_FILE","TAG_FORM","TAG_GEDC","TAG_GIVN","TAG_GRAD","TAG_HEAD","TAG_HUSB",
"TAG_IDNO","TAG_IMMI","TAG_INDI","TAG_LANG","TAG_LEGA","TAG_MARB","TAG_MARC",
"TAG_MARL","TAG_MARR","TAG_MARS","TAG_MEDI","TAG_NAME","TAG_NATI","TAG_NATU",
"TAG_NCHI","TAG_NICK","TAG_NMR","TAG_NOTE","TAG_NPFX","TAG_NSFX","TAG_OBJE",
"TAG_OCCU","TAG_ORDI","TAG_ORDN","TAG_PAGE","TAG_PEDI","TAG_PHON","TAG_PLAC",
"TAG_POST","TAG_PROB","TAG_PROP","TAG_PUBL","TAG_QUAY","TAG_REFN","TAG_RELA",
"TAG_RELI","TAG_REPO","TAG_RESI","TAG_RESN","TAG_RETI","TAG_RFN","TAG_RIN","TAG_ROLE",
"TAG_SEX","TAG_SLGC","TAG_SLGS","TAG_SOUR","TAG_SPFX","TAG_SSN","TAG_STAE","TAG_STAT",
"TAG_SUBM","TAG_SUBN","TAG_SURN","TAG_TEMP","TAG_TEXT","TAG_TIME","TAG_TITL",
"TAG_TRLR","TAG_TYPE","TAG_VERS","TAG_WIFE","TAG_WILL","file","records","record",
"head_sect","@1","@2","head_subs","head_sub","head_sour_sect","@3","@4","head_sour_subs",
"head_sour_sub","head_sour_vers_sect","@5","@6","head_sour_name_sect","@7","@8",
"head_sour_corp_sect","@9","@10","head_sour_corp_subs","head_sour_corp_sub",
"head_sour_data_sect","@11","@12","head_sour_data_subs","head_sour_data_sub",
"head_sour_data_date_sect","@13","@14","head_sour_data_copr_sect","@15","@16",
"head_dest_sect","@17","@18","head_date_sect","@19","@20","head_date_subs","head_date_sub",
"head_date_time_sect","@21","@22","head_time_sect","@23","head_subm_sect","@24",
"@25","head_subn_sect","@26","@27","head_file_sect","@28","@29","head_copr_sect",
"@30","@31","head_gedc_sect","@32","@33","head_gedc_subs","head_gedc_sub","head_gedc_vers_sect",
"@34","@35","head_gedc_form_sect","@36","@37","head_char_sect","@38","@39","head_char_subs",
"head_char_sub","head_char_vers_sect","@40","@41","head_lang_sect","@42","@43",
"head_plac_sect","@44","@45","head_plac_subs","head_plac_sub","head_plac_form_sect",
"@46","@47","head_note_sect","@48","@49","head_note_subs","head_note_sub","trlr_sect",
"fam_rec","@50","@51","fam_subs","fam_sub","fam_husb_sect","@52","@53","fam_wife_sect",
"@54","@55","fam_chil_sect","@56","@57","fam_nchi_sect","@58","@59","fam_subm_sect",
"@60","@61","indiv_rec","@62","@63","indi_subs","indi_sub","indi_resn_sect",
"@64","@65","indi_sex_sect","@66","@67","indi_subm_sect","@68","@69","indi_alia_sect",
"@70","@71","indi_anci_sect","@72","@73","indi_desi_sect","@74","@75","indi_rfn_sect",
"@76","@77","indi_afn_sect","@78","@79","indi_addr_sect","@80","@81","ftree_addr_subs",
"ftree_addr_sub","ftree_addr_phon_sect","@82","@83","multim_rec","@84","@85",
"obje_subs","obje_sub","obje_form_sect","@86","@87","obje_titl_sect","@88","@89",
"obje_blob_sect","@90","@91","obje_blob_subs","obje_blob_sub","obje_blob_cont_sect",
"@92","@93","obje_obje_sect","@94","@95","note_rec","@96","@97","note_line_item",
"note_subs","note_sub","note_note_sect","@98","@99","repos_rec","@100","@101",
"repo_subs","repo_sub","repo_name_sect","@102","@103","source_rec","@104","@105",
"sour_subs","sour_sub","sour_data_sect","@106","@107","sour_data_subs","sour_data_sub",
"sour_data_even_sect","@108","@109","sour_data_even_subs","sour_data_even_sub",
"sour_data_even_date_sect","@110","@111","sour_data_even_plac_sect","@112","@113",
"sour_data_agnc_sect","@114","@115","sour_auth_sect","@116","@117","sour_auth_subs",
"sour_auth_sub","sour_titl_sect","@118","@119","sour_titl_subs","sour_titl_sub",
"sour_abbr_sect","@120","@121","sour_publ_sect","@122","@123","sour_publ_subs",
"sour_publ_sub","sour_text_sect","@124","@125","sour_text_subs","sour_text_sub",
"sour_type_sect","@126","sour_file_sect","@127","sour_plac_sect","@128","sour_date_sect",
"@129","sour_medi_sect","@130","sour_page_sect","@131","submis_rec","@132","@133",
"subn_subs","subn_sub","subn_subm_sect","@134","@135","subn_famf_sect","@136",
"@137","subn_temp_sect","@138","@139","subn_ance_sect","@140","@141","subn_desc_sect",
"@142","@143","subn_ordi_sect","@144","@145","subn_rin_sect","@146","@147","submit_rec",
"@148","@149","subm_subs","subm_sub","subm_name_sect","@150","@151","subm_lang_sect",
"@152","@153","subm_rfn_sect","@154","@155","subm_rin_sect","@156","@157","subm_ctry_sect",
"@158","addr_struc_sub","addr_sect","@159","@160","addr_subs","addr_sub","addr_cont_sect",
"@161","@162","addr_adr1_sect","@163","@164","addr_adr2_sect","@165","@166",
"addr_city_sect","@167","@168","addr_stae_sect","@169","@170","addr_post_sect",
"@171","@172","addr_ctry_sect","@173","@174","phon_sect","@175","@176","assoc_struc_sub",
"asso_sect","@177","@178","asso_subs","asso_type_sect","@179","@180","asso_rela_sect",
"@181","@182","change_date_sub","change_date_chan_sect","@183","@184","change_date_chan_subs",
"change_date_chan_sub","change_date_date_sect","@185","@186","change_date_date_subs",
"change_date_date_sub","change_date_date_time_sect","@187","@188","chi_fam_link_sub",
"famc_sect","@189","@190","famc_subs","famc_sub","famc_pedi_sect","@191","@192",
"continuation_sub","cont_sect","@193","@194","conc_sect","@195","@196","cont_conc_subs",
"cont_conc_sub","cont_conc_sour_sect","@197","event_detail_sub","event_detail_type_sect",
"@198","@199","event_detail_date_sect","@200","@201","event_detail_age_sect",
"@202","@203","event_detail_agnc_sect","@204","@205","event_detail_caus_sect",
"@206","@207","fam_event_struc_sub","fam_event_sect","@208","@209","fam_event_tag",
"fam_event_subs","fam_event_sub","fam_even_husb_sect","@210","@211","fam_even_husb_subs",
"fam_even_husb_sub","fam_even_age_sect","@212","@213","fam_even_wife_sect","@214",
"@215","fam_gen_even_sect","@216","@217","fam_gen_even_subs","fam_gen_even_sub",
"ident_struc_sub","ident_refn_sect","@218","@219","ident_refn_subs","ident_refn_sub",
"ident_refn_type_sect","@220","@221","ident_rin_sect","@222","@223","indiv_attr_struc_sub",
"indiv_attr_sect","@224","@225","indiv_attr_tag","indiv_resi_sect","@226","@227",
"indiv_attr_event_subs","indiv_attr_event_sub","indiv_even_struc_sub","indiv_birt_sect",
"@228","@229","indiv_birt_tag","indiv_birt_subs","indiv_birt_sub","indiv_birt_famc_sect",
"@230","@231","indiv_gen_sect","@232","@233","indiv_gen_tag","indiv_gen_subs",
"indiv_gen_sub","indiv_adop_sect","@234","@235","indiv_adop_subs","indiv_adop_sub",
"indiv_adop_famc_sect","@236","@237","indiv_adop_famc_subs","indiv_adop_famc_sub",
"indiv_adop_famc_adop_sect","@238","@239","indiv_even_sect","@240","@241","lds_indiv_ord_sub",
"lio_bapl_sect","@242","@243","lio_bapl_tag","lio_bapl_subs","lio_bapl_sub",
"lio_bapl_stat_sect","@244","@245","lio_bapl_date_sect","@246","@247","lio_bapl_temp_sect",
"@248","@249","lio_bapl_plac_sect","@250","@251","lio_slgc_sect","@252","@253",
"lio_slgc_subs","lio_slgc_sub","lio_slgc_famc_sect","@254","@255","lds_spouse_seal_sub",
"lss_slgs_sect","@256","@257","lss_slgs_subs","lss_slgs_sub","lss_slgs_stat_sect",
"@258","@259","lss_slgs_date_sect","@260","@261","lss_slgs_temp_sect","@262",
"@263","lss_slgs_plac_sect","@264","@265","multim_link_sub","multim_obje_link_sect",
"@266","@267","multim_obje_emb_sect","@268","@269","multim_obje_emb_subs","multim_obje_emb_sub",
"multim_obje_form_sect","@270","@271","multim_obje_titl_sect","@272","@273",
"multim_obje_file_sect","@274","@275","note_struc_sub","note_struc_link_sect",
"@276","@277","note_struc_link_subs","note_struc_link_sub","note_struc_emb_sect",
"@278","@279","note_struc_emb_subs","note_struc_emb_sub","pers_name_struc_sub",
"pers_name_sect","@280","@281","pers_name_subs","pers_name_sub","pers_name_npfx_sect",
"@282","@283","pers_name_givn_sect","@284","@285","pers_name_nick_sect","@286",
"@287","pers_name_spfx_sect","@288","@289","pers_name_surn_sect","@290","@291",
"pers_name_nsfx_sect","@292","@293","place_struc_sub","place_struc_plac_sect",
"@294","@295","place_struc_plac_subs","place_struc_plac_sub","place_plac_form_sect",
"@296","@297","source_cit_sub","source_cit_link_sect","@298","@299","source_cit_link_subs",
"source_cit_link_sub","source_cit_page_sect","@300","@301","source_cit_even_sect",
"@302","@303","source_cit_even_subs","source_cit_even_sub","source_cit_even_role_sect",
"@304","@305","source_cit_data_sect","@306","@307","source_cit_data_subs","source_cit_data_sub",
"source_cit_data_date_sect","@308","@309","source_cit_text_sect","@310","@311",
"source_cit_text_subs","source_cit_text_sub","source_cit_quay_sect","@312","@313",
"source_cit_emb_sect","@314","@315","source_cit_emb_subs","source_cit_emb_sub",
"source_repos_cit_sub","source_repos_repo_txt_sect","@316","source_repos_repo_sect",
"@317","@318","source_repos_repo_subs","source_repos_repo_sub","caln_sect","@319",
"@320","caln_subs","caln_sub","caln_medi_sect","@321","@322","spou_fam_link_sub",
"spou_fam_fams_sect","@323","@324","spou_fam_fams_subs","spou_fam_fams_sub",
"no_std_subs","no_std_sub","no_std_rec","user_rec","@325","@326","@327","user_sect",
"@328","@329","@330","user_sects","opt_xref","opt_value","mand_pointer","mand_line_item",
"opt_line_item","line_item","anychar","error_subs","error_sect","gen_sect","@331",
"@332","gen_rec","gen_rec_norm","@333","gen_rec_top","@334","opt_sects","anytag",
"anytoptag","anystdtag", NULL
};
static const short yytoknum[] = { 0,
   256,     2,   257,   258,   259,   260,   261,   262,   263,   264,
   265,   266,   267,   268,   269,   270,   271,   272,   273,   274,
   275,   276,   277,   278,   279,   280,   281,   282,   283,   284,
   285,   286,   287,   288,   289,   290,   291,   292,   293,   294,
   295,   296,   297,   298,   299,   300,   301,   302,   303,   304,
   305,   306,   307,   308,   309,   310,   311,   312,   313,   314,
   315,   316,   317,   318,   319,   320,   321,   322,   323,   324,
   325,   326,   327,   328,   329,   330,   331,   332,   333,   334,
   335,   336,   337,   338,   339,   340,   341,   342,   343,   344,
   345,   346,   347,   348,   349,   350,   351,   352,   353,   354,
   355,   356,   357,   358,   359,   360,   361,   362,   363,   364,
   365,   366,   367,   368,   369,   370,   371,   372,   373,   374,
   375,   376,   377,   378,   379,   380,   381,   382,   383,   384,
   385,   386,   387,   388,   389,   390,   391,   392,   393,     0
};

static const short yyr1[] = {     0,
   140,   140,   141,   141,   142,   142,   142,   142,   142,   142,
   142,   142,   142,   144,   145,   143,   146,   146,   147,   147,
   147,   147,   147,   147,   147,   147,   147,   147,   147,   147,
   147,   147,   149,   150,   148,   151,   151,   152,   152,   152,
   152,   152,   154,   155,   153,   157,   158,   156,   160,   161,
   159,   162,   162,   163,   163,   165,   166,   164,   167,   167,
   168,   168,   168,   170,   171,   169,   173,   174,   172,   176,
   177,   175,   179,   180,   178,   181,   181,   182,   182,   184,
   185,   183,   187,   186,   189,   190,   188,   192,   193,   191,
   195,   196,   194,   198,   199,   197,   201,   202,   200,   203,
   203,   204,   204,   204,   206,   207,   205,   209,   210,   208,
   212,   213,   211,   214,   214,   215,   215,   217,   218,   216,
   220,   221,   219,   223,   224,   222,   225,   225,   226,   226,
   228,   229,   227,   231,   232,   230,   233,   233,   234,   234,
   235,   237,   238,   236,   239,   239,   240,   240,   240,   240,
   240,   240,   240,   240,   240,   240,   240,   240,   240,   242,
   243,   241,   245,   246,   244,   248,   249,   247,   251,   252,
   250,   254,   255,   253,   257,   258,   256,   259,   259,   260,
   260,   260,   260,   260,   260,   260,   260,   260,   260,   260,
   260,   260,   260,   260,   260,   260,   260,   260,   260,   260,
   260,   262,   263,   261,   265,   266,   264,   268,   269,   267,
   271,   272,   270,   274,   275,   273,   277,   278,   276,   280,
   281,   279,   283,   284,   282,   286,   287,   285,   288,   288,
   289,   289,   289,   291,   292,   290,   294,   295,   293,   296,
   296,   297,   297,   297,   297,   297,   297,   297,   297,   299,
   300,   298,   302,   303,   301,   305,   306,   304,   307,   307,
   308,   308,   310,   311,   309,   313,   314,   312,   316,   317,
   315,   318,   318,   319,   319,   320,   320,   320,   320,   320,
   320,   322,   323,   321,   325,   326,   324,   327,   327,   328,
   328,   328,   328,   328,   328,   330,   331,   329,   333,   334,
   332,   335,   335,   336,   336,   336,   336,   336,   336,   336,
   336,   336,   336,   336,   336,   336,   336,   336,   336,   336,
   336,   338,   339,   337,   340,   340,   341,   341,   341,   341,
   343,   344,   342,   345,   345,   346,   346,   346,   348,   349,
   347,   351,   352,   350,   354,   355,   353,   357,   358,   356,
   359,   359,   360,   360,   362,   363,   361,   364,   364,   365,
   365,   367,   368,   366,   370,   371,   369,   372,   372,   373,
   373,   375,   376,   374,   377,   377,   378,   378,   380,   379,
   382,   381,   384,   383,   386,   385,   388,   387,   390,   389,
   392,   393,   391,   394,   394,   395,   395,   395,   395,   395,
   395,   395,   395,   397,   398,   396,   400,   401,   399,   403,
   404,   402,   406,   407,   405,   409,   410,   408,   412,   413,
   411,   415,   416,   414,   418,   419,   417,   420,   420,   421,
   421,   421,   421,   421,   421,   421,   421,   421,   423,   424,
   422,   426,   427,   425,   429,   430,   428,   432,   433,   431,
   435,   434,   436,   436,   438,   439,   437,   440,   440,   441,
   441,   441,   441,   441,   441,   441,   441,   443,   444,   442,
   446,   447,   445,   449,   450,   448,   452,   453,   451,   455,
   456,   454,   458,   459,   457,   461,   462,   460,   464,   465,
   463,   466,   468,   469,   467,   470,   470,   470,   470,   470,
   470,   472,   473,   471,   475,   476,   474,   477,   479,   480,
   478,   481,   481,   482,   482,   482,   484,   485,   483,   486,
   486,   487,   487,   489,   490,   488,   491,   493,   494,   492,
   495,   495,   496,   496,   496,   498,   499,   497,   500,   500,
   502,   503,   501,   505,   506,   504,   507,   507,   508,   508,
   510,   509,   511,   511,   511,   511,   511,   511,   511,   511,
   511,   511,   513,   514,   512,   516,   517,   515,   519,   520,
   518,   522,   523,   521,   525,   526,   524,   527,   527,   529,
   530,   528,   531,   531,   531,   531,   531,   531,   531,   531,
   531,   531,   532,   532,   533,   533,   533,   533,   535,   536,
   534,   537,   537,   538,   538,   540,   541,   539,   543,   544,
   542,   546,   547,   545,   548,   548,   549,   549,   549,   549,
   550,   550,   552,   553,   551,   554,   554,   555,   555,   557,
   558,   556,   560,   561,   559,   562,   562,   564,   565,   563,
   566,   566,   566,   566,   566,   566,   566,   566,   566,   566,
   566,   566,   568,   569,   567,   570,   570,   571,   571,   572,
   572,   572,   572,   574,   575,   573,   576,   576,   577,   577,
   578,   578,   578,   580,   581,   579,   583,   584,   582,   585,
   585,   585,   585,   585,   585,   585,   585,   585,   585,   585,
   585,   585,   585,   585,   585,   585,   585,   585,   586,   586,
   587,   587,   589,   590,   588,   591,   591,   592,   592,   592,
   594,   595,   593,   596,   596,   597,   597,   599,   600,   598,
   602,   603,   601,   604,   604,   606,   607,   605,   608,   608,
   608,   609,   609,   610,   610,   610,   610,   610,   610,   610,
   612,   613,   611,   615,   616,   614,   618,   619,   617,   621,
   622,   620,   624,   625,   623,   626,   626,   627,   627,   629,
   630,   628,   631,   633,   634,   632,   635,   635,   636,   636,
   636,   636,   636,   636,   636,   638,   639,   637,   641,   642,
   640,   644,   645,   643,   647,   648,   646,   649,   649,   651,
   652,   650,   654,   655,   653,   656,   656,   657,   657,   657,
   657,   657,   659,   660,   658,   662,   663,   661,   665,   666,
   664,   667,   667,   669,   670,   668,   671,   671,   672,   672,
   674,   675,   673,   676,   676,   677,   677,   677,   678,   680,
   681,   679,   682,   682,   683,   683,   683,   683,   683,   683,
   683,   683,   683,   685,   686,   684,   688,   689,   687,   691,
   692,   690,   694,   695,   693,   697,   698,   696,   700,   701,
   699,   702,   704,   705,   703,   706,   706,   707,   707,   707,
   707,   709,   710,   708,   711,   711,   713,   714,   712,   715,
   715,   716,   716,   716,   716,   716,   716,   716,   718,   719,
   717,   721,   722,   720,   723,   723,   724,   724,   726,   727,
   725,   729,   730,   728,   731,   731,   732,   732,   732,   734,
   735,   733,   737,   738,   736,   739,   739,   740,   740,   742,
   743,   741,   745,   746,   744,   747,   747,   748,   748,   748,
   748,   749,   749,   751,   750,   753,   754,   752,   755,   755,
   756,   756,   756,   758,   759,   757,   760,   760,   761,   761,
   763,   764,   762,   765,   767,   768,   766,   769,   769,   770,
   770,   771,   771,   772,   772,   772,   773,   773,   773,   775,
   776,   777,   774,   779,   780,   781,   778,   782,   782,   782,
   783,   783,   784,   784,   784,   785,   785,   786,   786,   787,
   787,   788,   788,   788,   788,   788,   788,   789,   789,   790,
   790,   791,   793,   794,   792,   795,   795,   797,   796,   799,
   798,   800,   800,   801,   801,   802,   802,   802,   802,   802,
   802,   802,   802,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803,
   803,   803,   803,   803,   803,   803,   803,   803,   803,   803
};

static const short yyr2[] = {     0,
     3,     1,     0,     2,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     0,     0,     7,     0,     2,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     0,     0,     8,     0,     2,     1,     1,     1,
     1,     1,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     0,     2,     1,     1,     0,     0,     8,     0,     2,
     1,     1,     1,     0,     0,     8,     0,     0,     8,     0,
     0,     8,     0,     0,     8,     0,     2,     1,     1,     0,
     0,     8,     0,     6,     0,     0,     8,     0,     0,     8,
     0,     0,     8,     0,     0,     8,     0,     0,     7,     0,
     2,     1,     1,     1,     0,     0,     8,     0,     0,     8,
     0,     0,     8,     0,     2,     1,     1,     0,     0,     8,
     0,     0,     8,     0,     0,     7,     0,     2,     1,     1,
     0,     0,     8,     0,     0,     8,     0,     2,     1,     1,
     4,     0,     0,     9,     0,     2,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     0,
     0,     8,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     0,     0,     8,     0,     0,     9,     0,     2,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     0,     0,     8,     0,     0,     8,     0,     0,     8,
     0,     0,     8,     0,     0,     8,     0,     0,     8,     0,
     0,     8,     0,     0,     8,     0,     0,     8,     0,     2,
     1,     1,     1,     0,     0,     8,     0,     0,     9,     0,
     2,     1,     1,     1,     1,     1,     1,     1,     1,     0,
     0,     8,     0,     0,     8,     0,     0,     7,     0,     2,
     1,     1,     0,     0,     8,     0,     0,     8,     0,     0,
    10,     0,     2,     0,     2,     1,     1,     1,     1,     1,
     1,     0,     0,     8,     0,     0,     9,     0,     2,     1,
     1,     1,     1,     1,     1,     0,     0,     8,     0,     0,
     9,     0,     2,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     0,     0,     7,     0,     2,     1,     1,     1,     1,
     0,     0,     8,     0,     2,     1,     1,     1,     0,     0,
     8,     0,     0,     8,     0,     0,     8,     0,     0,     8,
     0,     2,     1,     1,     0,     0,     8,     0,     2,     1,
     1,     0,     0,     8,     0,     0,     8,     0,     2,     1,
     1,     0,     0,     8,     0,     2,     1,     1,     0,     6,
     0,     6,     0,     6,     0,     6,     0,     6,     0,     6,
     0,     0,     9,     0,     2,     1,     1,     1,     1,     1,
     1,     1,     1,     0,     0,     8,     0,     0,     8,     0,
     0,     8,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     0,     0,     8,     0,     0,     9,     0,     2,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     0,     0,
     8,     0,     0,     8,     0,     0,     8,     0,     0,     8,
     0,     6,     1,     1,     0,     0,     8,     0,     2,     1,
     1,     1,     1,     1,     1,     1,     1,     0,     0,     8,
     0,     0,     8,     0,     0,     8,     0,     0,     8,     0,
     0,     8,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     1,     0,     0,     8,     0,     1,     1,     1,     1,
     1,     0,     0,     8,     0,     0,     8,     1,     0,     0,
     7,     0,     2,     1,     1,     1,     0,     0,     8,     0,
     2,     1,     1,     0,     0,     8,     1,     0,     0,     8,
     0,     2,     1,     1,     1,     0,     0,     8,     1,     1,
     0,     0,     8,     0,     0,     8,     0,     2,     1,     1,
     0,     8,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     0,     0,     8,     0,     0,     8,     1,     1,     0,
     0,     8,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     0,     2,     1,     1,     1,     1,     0,     0,
     7,     0,     2,     1,     1,     0,     0,     8,     0,     0,
     7,     0,     0,     7,     0,     2,     1,     1,     1,     1,
     1,     1,     0,     0,     8,     0,     2,     1,     1,     0,
     0,     8,     0,     0,     8,     1,     1,     0,     0,     8,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     0,     0,     7,     0,     2,     1,     1,     1,
     1,     1,     1,     0,     0,     8,     1,     1,     0,     2,
     1,     1,     1,     0,     0,     8,     0,     0,     8,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     0,     2,
     1,     1,     0,     0,     8,     0,     2,     1,     1,     1,
     0,     0,     8,     0,     2,     1,     1,     0,     0,     8,
     0,     0,     7,     1,     1,     0,     0,     7,     1,     1,
     1,     0,     2,     1,     1,     1,     1,     1,     1,     1,
     0,     0,     8,     0,     0,     8,     0,     0,     8,     0,
     0,     8,     0,     0,     7,     0,     2,     1,     1,     0,
     0,     8,     1,     0,     0,     7,     0,     2,     1,     1,
     1,     1,     1,     1,     1,     0,     0,     8,     0,     0,
     8,     0,     0,     8,     0,     0,     8,     1,     1,     0,
     0,     9,     0,     0,     7,     0,     2,     1,     1,     1,
     1,     1,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     1,     1,     0,     0,     9,     0,     2,     1,     1,
     0,     0,     8,     0,     2,     1,     1,     1,     1,     0,
     0,     8,     0,     2,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     0,     0,     8,     0,     0,     8,     0,
     0,     8,     0,     0,     8,     0,     0,     8,     0,     0,
     8,     1,     0,     0,     8,     0,     2,     1,     1,     1,
     1,     0,     0,     8,     1,     1,     0,     0,     9,     0,
     2,     1,     1,     1,     1,     1,     1,     1,     0,     0,
     8,     0,     0,     8,     0,     2,     1,     1,     0,     0,
     8,     0,     0,     7,     0,     2,     1,     1,     1,     0,
     0,     8,     0,     0,     8,     0,     2,     1,     1,     0,
     0,     8,     0,     0,     8,     0,     2,     1,     1,     1,
     1,     1,     1,     0,     6,     0,     0,     9,     0,     2,
     1,     1,     1,     0,     0,     8,     0,     2,     1,     1,
     0,     0,     8,     1,     0,     0,     8,     0,     2,     1,
     1,     0,     2,     1,     1,     3,     1,     1,     3,     0,
     0,     0,    10,     0,     0,     0,    10,     0,     2,     2,
     0,     2,     0,     2,     2,     0,     2,     0,     2,     0,
     2,     1,     1,     2,     2,     3,     3,     1,     1,     0,
     2,     7,     0,     0,     9,     1,     1,     0,     8,     0,
     7,     0,     2,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1,
     1,     1,     1,     1,     1,     1,     1,     1,     1,     1
};

static const short yydefact[] = {     0,
     2,     0,     3,     0,     0,    14,  1000,     0,     4,     1,
     5,     6,     7,     8,     9,    10,    11,    12,    13,   967,
   968,  1007,  1006,    17,     0,   981,     0,     0,   969,  1001,
     0,  1016,  1017,  1019,  1018,  1020,  1021,  1023,  1022,     0,
     0,  1010,  1000,     0,     0,    18,    19,    20,    21,    22,
    23,    24,    25,    26,    27,    28,    29,    30,    31,    32,
   964,   965,   981,   982,   141,   970,  1024,  1025,  1026,  1027,
  1028,  1029,  1030,  1031,  1032,  1033,  1034,  1035,  1036,  1037,
  1038,  1039,  1040,  1041,  1042,  1043,  1044,  1045,  1046,  1047,
  1048,  1049,  1050,  1051,  1052,  1053,  1054,  1055,  1056,  1057,
  1058,  1059,  1060,  1061,  1062,  1063,  1064,  1065,  1066,  1067,
  1068,  1069,  1070,  1071,  1072,  1073,  1074,  1075,  1076,  1077,
  1078,  1079,  1080,  1081,  1082,  1083,  1084,  1085,  1086,  1087,
  1088,  1089,  1090,  1091,  1092,  1093,  1094,  1095,  1096,  1097,
  1098,  1099,  1100,  1101,  1102,  1103,  1104,  1105,  1106,  1107,
  1108,  1109,  1110,  1111,  1112,  1113,  1114,  1115,  1116,  1117,
  1118,  1119,  1120,  1121,  1122,  1123,  1124,  1125,  1126,  1127,
  1128,  1129,  1130,  1131,  1132,  1133,  1134,  1135,  1136,  1137,
  1138,  1139,  1140,  1141,  1142,  1143,  1144,  1145,  1146,  1147,
  1148,  1149,  1150,  1008,   983,     0,   981,    16,     0,     0,
   142,   175,   272,   237,   285,   299,   425,   391,   983,   983,
     0,  1012,   966,   988,   988,   988,   988,   988,    97,   988,
   988,   124,   988,   986,   986,   990,     0,   982,  1014,   983,
  1015,   145,   178,     0,   269,   240,   288,   302,   428,   394,
   971,  1012,   993,   999,   998,   984,     0,   992,     0,     0,
   111,    94,    73,    70,    91,   100,   121,   134,   127,    33,
     0,    85,    88,     0,    83,   974,  1003,  1000,     0,     0,
     0,   274,     0,     0,     0,     0,     0,   978,     0,     0,
   995,   994,     0,  1011,  1013,     0,   114,   962,    76,   962,
   962,     0,   962,   137,     0,    36,   987,   962,   962,     0,
     0,   983,   983,     0,     0,     0,   146,   148,   149,   150,
   151,   152,   158,   508,   147,   578,   579,   157,   621,   622,
   153,   763,   155,   788,   789,   156,   812,   813,   154,   875,
   876,   159,     0,     0,   179,   180,   182,   188,   190,   191,
   192,   196,   197,   200,   189,   492,   199,   186,   527,   198,
   184,   636,   637,   183,   660,   661,   662,   663,   185,   724,
   725,   194,   195,   181,   829,   193,   187,   954,   201,     0,
     0,     0,   241,   242,   243,   245,   246,   248,   247,   244,
   249,     0,     0,   289,   290,   291,   453,   454,   294,   293,
   292,   295,     0,     0,   303,   304,   305,   306,   307,   308,
   309,   310,   311,   312,   313,   314,   315,   320,   319,   317,
   318,   316,   933,   932,   321,     0,     0,   429,   430,   433,
   434,   435,   437,   431,   436,   432,   438,     0,     0,   395,
   396,   397,   398,   399,   400,   401,   402,   403,   972,  1009,
   997,   996,   981,     0,     0,     0,     0,     0,     0,     0,
   101,   102,   103,   104,     0,     0,     0,     0,   128,   129,
   130,     0,     0,     0,    84,   975,  1004,  1002,   981,   144,
   981,   177,     0,     0,   275,   280,   279,   276,   539,   540,
   278,   277,   281,   981,   239,   981,   287,   981,   301,   981,
   427,   981,   393,     0,     0,   979,   980,     0,     0,     0,
   115,   116,   117,     0,   963,     0,     0,    77,    78,    79,
     0,     0,   981,    99,     0,     0,     0,   138,   139,   140,
   981,   126,     0,     0,    37,    38,    39,    40,    41,    42,
     0,     0,   978,  1012,   583,   584,   509,   986,   585,   586,
   587,   612,   986,   589,   590,   591,   588,   592,   988,   990,
   793,   988,   988,   764,   988,   986,   986,   983,   990,   983,
   988,   986,   986,   986,   729,   683,   684,   685,   667,   686,
   681,   641,   694,   668,   687,   688,   730,   682,   680,   986,
   642,   643,   692,   731,   721,   986,   986,   689,   697,   644,
   693,   988,   645,   691,   646,   647,   648,   690,   695,   649,
   650,   653,   988,   698,   988,   988,   753,   651,   986,   652,
   696,   988,   983,   983,   726,   981,   271,   256,   988,   986,
   988,   988,   988,   988,   988,   988,   322,   990,   990,   990,
   990,   990,   988,   990,   988,   988,   990,   990,   988,   988,
   988,   988,   988,   988,   988,   988,   988,   986,   988,   981,
   973,   981,   113,    96,   981,    75,    72,    93,   988,   988,
   123,   981,   136,   988,   981,    35,    87,    90,   976,     0,
   512,   166,   615,   160,   169,     0,   821,     0,   796,   623,
   633,   767,     0,   923,   172,   163,   580,   226,   703,   223,
   211,   214,   493,   217,   699,   528,   955,   830,   656,   202,
   220,   205,   756,   208,   638,   664,   677,   732,   988,   990,
   990,   259,   250,   266,   253,   455,   296,   489,   362,   348,
   325,   385,   381,   387,   389,   383,   365,     0,   934,   372,
   355,   379,   451,   442,   439,   445,   448,   413,   416,   407,
   419,   422,   404,   410,   988,   988,   108,   105,   131,   988,
   988,   988,   988,     0,  1005,     0,   962,     0,   962,   962,
   814,   824,   790,     0,   626,   962,     0,   877,   926,   962,
   962,   593,   229,   706,   962,   962,   962,     0,   962,     0,
   531,   958,   833,     0,   962,   962,   962,     0,   962,   656,
   669,   699,     0,   544,   541,   282,     0,   962,   962,   962,
   458,   962,   962,   962,   351,     0,     0,     0,     0,     0,
     0,   368,   936,     0,   375,   358,     0,     0,   962,   962,
   962,   962,   962,   962,   962,   962,   962,   962,   962,   118,
    80,   962,   962,   962,    49,    56,    46,    43,   977,     0,
     0,   513,   514,   515,   516,     0,     0,   556,   617,   553,
   554,   557,   558,   559,   618,   619,     0,   616,   561,   562,
   555,   862,   560,   620,     0,     0,   817,     0,   962,     0,
     0,   797,   798,   799,   800,   801,   802,     0,     0,     0,
     0,   768,   769,   770,   771,   772,   774,   773,   775,   880,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
   494,   497,   498,   499,   500,   501,     0,     0,   701,   700,
     0,   702,     0,     0,     0,   658,     0,   657,   659,     0,
     0,     0,     0,   758,   734,   735,   736,   737,     0,   757,
   759,   739,   738,   740,     0,     0,     0,     0,     0,     0,
   733,   547,   547,   962,     0,     0,   260,   261,   262,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,   326,
   327,   328,   329,   330,   386,   382,   388,   390,   384,     0,
   939,   935,     0,     0,   380,   452,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,   962,   962,     0,
     0,     0,    52,    59,   962,   962,   981,   511,     0,   981,
   614,     0,     0,     0,     0,   826,     0,   825,   827,   828,
     0,   981,   795,     0,     0,   627,   628,   629,     0,   981,
   766,     0,     0,   928,   930,   929,     0,   927,   931,     0,
     0,   595,     0,   594,   596,   597,   598,     0,     0,   230,
   232,   231,   233,     0,   708,     0,   707,   709,   710,     0,
     0,     0,   981,     0,     0,   981,   723,     0,     0,   532,
   533,   534,   535,     0,   960,     0,   959,   961,     0,   842,
     0,   834,   835,   836,   837,   838,   839,   840,   841,   843,
   655,     0,     0,     0,   981,   755,     0,     0,     0,   671,
     0,   670,   672,   673,     0,   981,   728,     0,     0,     0,
   981,   258,     0,     0,     0,     0,     0,   459,   460,   461,
   462,   463,   464,   465,   466,   467,     0,     0,     0,     0,
   352,   353,   354,   981,   324,     0,   369,   370,   371,     0,
     0,   376,   377,   378,     0,   359,   360,   361,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,   988,   168,
   988,   988,   988,   988,   599,   988,   988,   609,   162,   171,
     0,     0,   818,   819,   820,   981,   823,     0,   988,   988,
   988,   981,   625,   635,   988,   988,   988,   988,     0,   886,
   887,     0,   881,   882,   883,   884,   885,   888,   981,   925,
   174,   165,   582,   981,   228,   981,   705,   225,   213,   216,
   988,   988,   495,   219,   981,   530,   981,   957,   981,   832,
   204,   222,   207,   988,   986,   988,   988,   988,   210,   640,
   981,   666,   679,     0,     0,   548,   549,   550,     0,     0,
   988,   252,   268,   255,   981,   457,   298,   491,   364,   350,
   988,   988,   367,     0,   941,     0,   940,   942,   943,   374,
   357,   444,   441,   447,   450,   415,   418,   409,   421,   424,
   406,   412,     0,     0,   110,   107,   133,     0,     0,    53,
    54,    55,     0,     0,    60,    61,    62,    63,     0,     0,
   517,   569,   572,   575,   566,   602,   863,   563,   602,   981,
   816,   792,   809,   803,   806,   988,   779,   785,   776,   782,
   981,   879,   988,   988,   986,   505,   502,   988,   988,   988,
   988,   988,   988,   988,   744,   760,   750,   741,   747,   986,
   981,   546,   543,   284,   263,   988,   988,   988,   988,   988,
   988,   988,   345,   331,   981,   938,   120,    82,   981,    51,
   981,    58,    48,    45,   520,   962,   962,   962,   962,     0,
   866,   962,     0,   962,   962,   962,   630,   962,   962,   962,
   962,   902,   988,   988,   988,   913,   234,   711,   962,   962,
   536,   847,   850,   844,   859,   853,   856,   962,   962,   962,
   962,   962,   674,     0,   962,   471,   474,   477,   468,   486,
   483,   480,   962,   334,   988,   988,   988,     0,     0,     0,
     0,     0,     0,     0,   603,   604,   605,     0,     0,     0,
     0,     0,     0,   962,     0,     0,     0,     0,   905,   892,
   889,   920,   916,   962,   714,     0,     0,   962,   962,   962,
   962,   962,   962,   962,     0,     0,     0,     0,     0,   962,
     0,     0,   962,   962,   962,   962,   962,   962,   962,     0,
     0,   944,    67,    64,     0,     0,   521,   522,   523,     0,
     0,     0,     0,   981,   601,     0,   870,     0,   867,   868,
   869,   871,     0,   611,     0,     0,     0,     0,     0,     0,
     0,     0,     0,   895,   962,   962,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,     0,     0,     0,     0,
     0,     0,     0,     0,   551,     0,     0,     0,     0,     0,
     0,     0,     0,     0,     0,     0,   335,   336,   337,   338,
   947,   962,   962,   981,   519,   571,   574,   577,   568,   988,
   981,   865,   565,   811,   805,   808,     0,   781,   787,   778,
   784,     0,     0,   906,   907,   908,   909,     0,     0,     0,
   918,     0,   917,   919,     0,     0,     0,   715,   716,   717,
   507,   504,     0,     0,     0,     0,     0,     0,     0,   746,
   762,   752,   743,   749,     0,   962,   265,     0,     0,     0,
     0,     0,     0,     0,   347,   981,   333,     0,     0,     0,
   988,   606,   988,   632,   981,   904,     0,     0,   896,   897,
   898,     0,     0,   915,   236,   981,   713,   538,   849,   852,
   846,   861,   855,   858,   676,     0,   473,   476,   479,   470,
   488,   485,   482,   988,   988,     0,     0,   948,   949,   950,
     0,     0,   524,   962,   872,   988,   981,   894,   891,   922,
   988,   552,   339,   342,   981,   946,    69,    66,   962,     0,
   962,   910,   988,   718,   962,   962,   988,     0,     0,     0,
   962,   899,   962,     0,     0,   951,     0,   608,     0,     0,
   962,     0,     0,     0,   962,   526,   874,     0,     0,     0,
   341,   344,     0,   912,     0,   720,     0,   901,   953,     0,
     0,     0
};

static const short yydefgoto[] = {  1700,
     5,     9,     3,    24,    45,    27,    46,    47,   296,   524,
   462,   525,   526,   996,  1290,   527,   995,  1289,   528,   993,
  1279,  1155,  1280,   529,   994,  1284,  1156,  1285,  1286,  1533,
  1642,  1287,  1532,  1641,    48,   290,   511,    49,   289,   507,
   446,   508,   509,   989,  1274,    50,   301,    51,   298,   531,
    52,   299,   532,    53,   291,   512,    54,   288,   504,    55,
   256,   450,   292,   451,   452,   833,  1153,   453,   832,  1152,
    56,   287,   500,   444,   501,   502,   988,  1273,    57,   293,
   515,    58,   259,   458,   295,   459,   460,   834,  1154,    59,
   294,   517,   456,   518,    10,    11,   232,   306,   269,   307,
   308,   759,  1002,   309,   771,  1031,   310,   757,   999,   311,
   760,  1003,   312,   770,  1030,    12,   233,   334,   270,   335,
   336,   785,  1082,   337,   787,  1084,   338,   789,  1087,   339,
   776,  1051,   340,   777,  1052,   341,   779,  1055,   342,   786,
  1083,   343,   775,  1050,   344,   773,  1039,   895,  1040,  1041,
  1434,  1565,    13,   236,   372,   273,   373,   374,   798,  1103,
   375,   800,  1105,   376,   712,   946,   797,   947,   948,  1395,
  1516,   377,   799,  1104,    14,   272,   474,   235,   370,   475,
   476,   944,  1240,    15,   237,   383,   274,   384,   385,   802,
  1117,    16,   238,   394,   275,   395,   396,   721,   959,   806,
   960,   961,  1404,  1526,  1461,  1527,  1528,  1665,  1683,  1529,
  1666,  1684,   962,  1403,  1524,   397,   805,  1120,   957,  1121,
   398,   816,  1135,   974,  1136,   399,   804,  1119,   400,   812,
  1126,   970,  1127,   401,   815,  1131,   973,  1132,   402,   817,
   403,   808,   404,   811,   405,   807,   406,   809,   407,   810,
    17,   240,   429,   277,   430,   431,   828,  1148,   432,   825,
  1145,   433,   829,  1149,   434,   823,  1143,   435,   824,  1144,
   436,   826,  1146,   437,   827,  1147,    18,   239,   417,   276,
   418,   419,   820,  1140,   420,   819,  1139,   421,   821,  1141,
   422,   822,  1142,   423,   818,   848,   387,   801,  1107,   953,
  1108,  1109,  1456,  1591,  1110,  1453,  1588,  1111,  1454,  1589,
  1112,  1455,  1590,  1113,  1459,  1594,  1114,  1458,  1593,  1115,
  1457,  1592,   388,   803,  1118,   345,   346,   778,  1054,   901,
   902,  1380,  1501,   903,  1379,  1500,   313,   314,   671,   841,
   756,   842,   843,  1355,  1466,  1408,  1467,  1468,  1659,  1677,
   348,   349,   781,  1059,   913,  1060,  1061,  1438,  1573,   478,
   479,   943,  1239,   480,   942,  1235,  1098,  1236,  1237,  1586,
   909,   850,  1362,  1483,   851,  1359,  1473,   852,  1356,  1470,
   853,  1357,  1471,   854,  1358,  1472,   315,   316,   772,  1033,
   558,   894,  1034,   855,  1296,  1414,  1360,  1415,  1416,  1644,
  1669,   856,  1299,  1420,   317,   673,   857,   758,   858,   318,
   319,   765,  1015,   878,  1016,  1017,  1424,  1547,   320,   766,
  1019,   351,   352,   790,  1088,   612,   353,   699,   917,   784,
   918,   354,   355,   791,  1091,   613,   937,  1092,  1093,  1450,
  1585,   356,   792,  1095,   614,   780,   910,   357,   774,  1046,
   896,  1047,  1048,  1435,  1567,  1499,  1568,  1569,  1673,  1690,
   358,   695,   911,   359,   360,   708,   940,   615,   793,   924,
   925,  1391,  1512,   926,  1388,  1509,   927,  1392,  1513,   928,
  1390,  1511,   361,   703,   929,   788,   930,   931,  1389,  1510,
   321,   322,   682,   881,   767,   882,   883,  1370,  1491,   884,
  1368,  1489,   885,  1371,  1492,   886,  1369,  1490,   859,   324,
   869,  1178,   325,   679,   871,   764,   872,   873,  1365,  1486,
   874,  1366,  1487,   875,  1364,  1485,   860,   327,   867,  1172,
  1004,  1173,   328,   762,  1007,   868,  1008,   364,   365,   783,
  1071,   915,  1072,  1073,  1441,  1576,  1074,  1439,  1574,  1075,
  1440,  1575,  1076,  1443,  1578,  1077,  1444,  1579,  1078,  1442,
  1577,   861,   862,  1361,  1478,  1418,  1479,  1480,  1661,  1679,
   863,   330,   890,  1192,  1022,  1193,  1194,  1495,  1612,  1195,
  1494,  1608,  1558,  1609,  1610,  1681,  1695,  1196,  1429,  1553,
  1493,  1554,  1555,  1671,  1688,  1026,  1433,  1562,  1497,  1563,
  1197,  1496,  1613,   331,   769,  1027,   891,  1028,   412,   413,
   814,   414,   971,  1256,  1130,  1257,  1258,  1531,  1637,  1598,
  1638,  1639,  1685,  1697,   367,   368,   782,  1066,   914,  1067,
   445,   505,    19,    20,   209,   278,   495,    61,   302,   533,
   754,   439,   227,   212,   262,   251,   265,   300,   248,    25,
    30,    62,   303,   534,    21,    22,   210,    23,   195,   249,
   230,    42,   267
};

static const short yypact[] = {   134,
-32768,    55,-32768,   -20,   204,-32768,-32768,    56,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,    71,    65,   228,    77,-32768,-32768,
    90,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,    60,
  1614,-32768,-32768,    97,   110,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,   108,   610,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,   154,    86,   257,-32768,   156,  1744,
-32768,-32768,   174,-32768,-32768,-32768,-32768,-32768,   154,   154,
  1196,-32768,-32768,   184,   184,   184,   184,   184,-32768,   184,
   184,-32768,   184,   199,   199,   210,  1874,-32768,-32768,   154,
-32768,-32768,-32768,   877,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,   516,-32768,   152,   877,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
   202,-32768,-32768,   877,-32768,-32768,-32768,-32768,   283,   327,
   664,-32768,   329,   378,   383,   468,   473,-32768,   215,   977,
-32768,-32768,   219,-32768,-32768,   692,-32768,-32768,-32768,-32768,
-32768,   488,-32768,-32768,   495,-32768,-32768,-32768,-32768,   720,
   223,   154,   154,   240,   231,   252,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,   269,   256,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   502,
   284,   273,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,   286,   294,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,   296,   306,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,   310,   314,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,   316,   331,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   258,-32768,
-32768,-32768,   108,   504,   531,   613,   627,   712,   334,   333,
-32768,-32768,-32768,-32768,   741,   743,   337,   343,-32768,-32768,
-32768,   755,   763,   770,-32768,-32768,-32768,-32768,    42,-32768,
  1484,-32768,   353,   359,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,   271,-32768,   600,-32768,   188,-32768,   655,
-32768,   187,-32768,   360,   361,-32768,-32768,  2003,   364,   368,
-32768,-32768,-32768,   370,-32768,   369,   389,-32768,-32768,-32768,
   390,   392,     6,-32768,   394,   393,   404,-32768,-32768,-32768,
    45,-32768,   405,   409,-32768,-32768,-32768,-32768,-32768,-32768,
   413,   423,-32768,-32768,-32768,-32768,-32768,   199,-32768,-32768,
-32768,-32768,   199,-32768,-32768,-32768,-32768,-32768,   184,   431,
   442,   184,   184,-32768,   447,   199,   199,   154,   210,   154,
   184,   199,   199,   199,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   199,
-32768,-32768,-32768,-32768,-32768,   199,   199,-32768,-32768,-32768,
-32768,   184,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,   184,-32768,   184,   184,-32768,-32768,   199,-32768,
-32768,   184,   154,   154,-32768,   365,-32768,-32768,   184,   199,
   184,   184,   184,   184,   184,   184,-32768,   210,   210,   210,
   210,   210,   184,   449,   184,   184,   210,   210,   184,   184,
   184,   184,   184,   184,   184,   184,   184,   199,   184,   108,
-32768,    11,-32768,-32768,    20,-32768,-32768,-32768,   184,   184,
-32768,   178,-32768,   184,    21,-32768,-32768,-32768,   258,   248,
-32768,-32768,-32768,-32768,-32768,  1482,-32768,   444,-32768,-32768,
-32768,-32768,  1548,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   184,   210,
   210,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,  1557,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,   184,   184,-32768,-32768,-32768,   184,
   184,   184,   184,   463,-32768,   776,-32768,   781,-32768,-32768,
-32768,-32768,-32768,   783,-32768,-32768,   789,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,   794,-32768,   796,
-32768,-32768,-32768,   801,-32768,-32768,-32768,   803,-32768,-32768,
-32768,-32768,   810,-32768,-32768,-32768,   817,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,   819,   465,   475,   482,   486,
   490,-32768,-32768,   492,-32768,-32768,   496,   506,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   511,
   508,-32768,-32768,-32768,-32768,   824,   520,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,   524,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,   826,   831,-32768,   833,-32768,   532,
   526,-32768,-32768,-32768,-32768,-32768,-32768,   838,   843,   535,
   533,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
   845,   851,   853,   858,   869,   871,   876,   888,   890,   548,
-32768,-32768,-32768,-32768,-32768,-32768,   897,   550,-32768,-32768,
   555,-32768,   902,   911,   913,-32768,   557,-32768,-32768,   918,
   920,   927,   558,-32768,-32768,-32768,-32768,-32768,   562,-32768,
-32768,-32768,-32768,-32768,   932,   934,   940,   947,   561,   567,
-32768,-32768,-32768,-32768,   568,   572,-32768,-32768,-32768,   949,
   954,   965,   970,   989,   995,   997,  1002,   576,   574,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,  1010,
-32768,-32768,  1015,  1017,-32768,-32768,  1029,  1031,  1036,  1042,
  1044,  1050,  1055,  1057,  1062,  1069,  1074,-32768,-32768,  1076,
  1081,  1083,-32768,-32768,-32768,-32768,   222,-32768,   579,   133,
-32768,   581,   583,  1088,   588,-32768,   594,-32768,-32768,-32768,
  1090,    52,-32768,   595,   599,-32768,-32768,-32768,   608,   363,
-32768,  1095,   615,-32768,-32768,-32768,   621,-32768,-32768,   622,
   628,-32768,   630,-32768,-32768,-32768,-32768,   629,   634,-32768,
-32768,-32768,-32768,   644,-32768,   651,-32768,-32768,-32768,   652,
   658,   668,    43,   671,   673,   255,-32768,   653,   677,-32768,
-32768,-32768,-32768,   679,-32768,   682,-32768,-32768,   684,-32768,
   690,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,   696,   697,   701,   507,-32768,   706,   707,   713,-32768,
   709,-32768,-32768,-32768,   714,   462,-32768,  1100,  1105,  1107,
    25,-32768,   717,   725,   727,   729,   744,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,   745,   749,   750,   757,
-32768,-32768,-32768,   261,-32768,   758,-32768,-32768,-32768,  1126,
   764,-32768,-32768,-32768,   771,-32768,-32768,-32768,   778,   784,
   786,   791,   798,   807,   808,   814,   821,   828,   835,  1131,
  1143,   840,   848,   855,  1145,  1152,  1157,  1159,   184,-32768,
   184,   184,   184,   184,-32768,   184,   184,-32768,-32768,-32768,
   854,   860,-32768,-32768,-32768,   158,-32768,   861,   184,   184,
   184,    19,-32768,-32768,   184,   184,   184,   184,   864,-32768,
-32768,   873,-32768,-32768,-32768,-32768,-32768,-32768,    37,-32768,
-32768,-32768,-32768,   254,-32768,   446,-32768,-32768,-32768,-32768,
   184,   184,-32768,-32768,   101,-32768,    27,-32768,   585,-32768,
-32768,-32768,-32768,   184,   199,   184,   184,   184,-32768,-32768,
   467,-32768,-32768,   872,   885,-32768,-32768,-32768,   891,   892,
   184,-32768,-32768,-32768,   209,-32768,-32768,-32768,-32768,-32768,
   184,   184,-32768,   898,-32768,   894,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,   899,   903,-32768,-32768,-32768,   906,   915,-32768,
-32768,-32768,   922,   929,-32768,-32768,-32768,-32768,   935,   937,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,    48,
-32768,-32768,-32768,-32768,-32768,   184,-32768,-32768,-32768,-32768,
   565,-32768,   184,   184,   199,-32768,-32768,   184,   184,   184,
   184,   184,   184,   184,-32768,-32768,-32768,-32768,-32768,   199,
    50,-32768,-32768,-32768,-32768,   184,   184,   184,   184,   184,
   184,   184,-32768,-32768,   183,-32768,-32768,-32768,    26,-32768,
    61,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,  1164,
-32768,-32768,  1166,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,   184,   184,   184,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,   942,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,   184,   184,   184,  1192,  1194,  1213,
  1218,  1224,   950,   951,-32768,-32768,-32768,  1226,  1231,   956,
  1233,  1238,  1243,-32768,  1245,  1252,  1265,  1280,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,  1282,  1287,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,  1289,  1294,  1296,  1301,  1303,-32768,
   606,  1308,-32768,-32768,-32768,-32768,-32768,-32768,-32768,  1310,
  1317,-32768,-32768,-32768,   966,   967,-32768,-32768,-32768,   971,
   973,   974,   986,    41,-32768,   985,-32768,   992,-32768,-32768,
-32768,-32768,   999,-32768,  1000,  1004,  1005,  1319,  1012,  1018,
  1019,  1021,  1324,-32768,-32768,-32768,  1326,  1333,  1338,  1026,
  1033,  1343,  1345,  1351,  1356,  1358,  1363,  1365,  1034,  1039,
  1045,  1052,  1059,  1370,-32768,  1060,  1372,  1378,  1383,  1385,
  1391,  1393,  1404,  1064,  1109,  1071,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,    44,-32768,-32768,-32768,-32768,-32768,   184,
   189,-32768,-32768,-32768,-32768,-32768,  1078,-32768,-32768,-32768,
-32768,  1110,  1085,-32768,-32768,-32768,-32768,  1409,  1411,  1416,
-32768,  1092,-32768,-32768,  1097,  1111,  1121,-32768,-32768,-32768,
-32768,-32768,  1128,  1129,  1140,  1146,  1147,  1149,  1154,-32768,
-32768,-32768,-32768,-32768,  1161,-32768,-32768,  1167,  1168,  1176,
  1177,  1179,  1189,  1210,-32768,    80,-32768,  1418,  1423,  1425,
   184,-32768,   184,-32768,    51,-32768,  1214,  1215,-32768,-32768,
-32768,  1221,  1228,-32768,-32768,    58,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,  1436,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,   184,   184,  1234,  1235,-32768,-32768,-32768,
  1246,  1247,-32768,-32768,-32768,   184,    57,-32768,-32768,-32768,
   184,-32768,-32768,-32768,    47,-32768,-32768,-32768,-32768,  1438,
-32768,-32768,   184,-32768,-32768,-32768,   184,  1444,  1249,  1449,
-32768,-32768,-32768,  1454,  1456,-32768,  1253,-32768,  1262,  1470,
-32768,  1472,  1263,  1267,-32768,-32768,-32768,  1268,  1480,  1277,
-32768,-32768,  1518,-32768,  1284,-32768,  1291,-32768,-32768,   734,
  1332,-32768
};

static const short yypgoto[] = {-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,  -273,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,  -188,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,  -429,
-32768,-32768,-32768,-32768,-32768,-32768,   -16,-32768,-32768,-32768,
  -747,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,   416,-32768,-32768,     4,-32768,-32768,-32768,
-32768,   425,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   -60,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   536,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,   543,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,   547,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,  -244,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,  -230,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
  -263,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,  -148,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,-32768,
  -179,   -27,-32768,-32768,-32768,-32768,-32768,  -434,-32768,-32768,
-32768,   818,   -22,  -162,  -217,  -199,  -536,  -201,   130,   -34,
-32768,  -237,-32768,-32768,-32768,-32768,-32768,-32768,-32768,  -240,
-32768,-32768,   -28
};


#define	YYLAST		2142


static const short yytable[] = {    60,
   386,   279,   424,    41,   496,   329,   366,   263,   196,   247,
   849,   285,   194,   677,   199,   252,   253,   254,   255,   199,
   257,   258,   688,   260,   323,   362,   519,   199,   199,   199,
   410,   426,   271,   199,   199,   199,   916,   622,   326,   363,
   200,   285,   380,   391,   411,   199,   241,   242,   286,   199,
   199,   199,   199,   199,     6,   199,   199,  1540,   199,   199,
   199,     4,    26,   535,    65,   199,   199,   268,   750,   199,
  1241,   751,  1651,    31,    28,    29,   659,   536,   537,   709,
   538,   347,   710,    63,   378,   389,   408,   425,   199,    28,
   213,   722,   723,   724,   725,   726,    64,   729,   539,   540,
   732,   733,  1646,   197,   541,   542,   482,  1406,   752,   199,
   447,   448,  1407,   455,   198,   664,   199,   543,   463,   464,
   550,  1179,  1180,   544,   545,   546,   547,   548,   624,    32,
   550,  1634,   549,  1667,     1,   550,   550,     2,   551,   466,
   467,   199,   660,    33,   622,   550,  1032,   745,  1045,  1161,
  1162,   552,   746,  1211,  1306,   283,   284,   753,    34,   553,
   211,    35,   228,   554,   555,   555,   199,  1163,  1313,   556,
   555,   231,  1394,   795,   796,  1663,  1601,    36,  1212,   557,
   234,   477,  1313,  1635,  1164,  1181,   199,    37,   916,  1090,
   250,   199,    38,    39,   550,   199,   199,   199,   625,    40,
   709,   497,  1318,   710,     7,   261,   643,     8,  1165,   350,
   297,   626,   379,   390,   409,  1405,   264,   199,   283,   440,
   709,  1336,  1337,   710,   537,   443,   550,   465,    43,   551,
   199,    44,   -15,   304,   496,   624,  1166,   469,   627,   628,
   644,   332,   369,    28,   468,   381,   392,   415,   427,   438,
  1338,   283,   755,   645,  1339,   555,   470,   629,  1340,  1603,
   472,   494,   199,   199,   454,   199,   622,   461,  1167,   199,
  1168,  1161,  1162,  1159,   630,   471,   550,   485,  1251,   199,
   555,   550,   550,    43,   551,   646,   305,  -143,   631,  1163,
   484,   632,   486,   670,   214,   633,   709,   552,   487,   710,
   634,   618,   488,   215,   647,   553,  1164,   537,   216,   481,
   489,   555,   217,  1341,   648,   550,   490,   649,   491,   635,
   672,   636,   492,   637,  1252,   674,   218,    43,   219,    43,
   333,  -176,   371,  -238,  1342,   493,   220,   514,   685,   686,
   513,   619,   483,   521,   691,   692,   693,   522,   550,   675,
   221,   551,   680,   681,   550,   684,  1314,   624,  1166,   616,
   222,   690,   694,   617,   550,   651,   650,   620,   696,   697,
   652,   199,   653,   199,   654,   655,   282,   555,    43,   223,
   552,   382,  -286,    43,   224,   225,   393,  -300,   553,   226,
  1167,   704,   698,   656,   657,   687,   658,   689,   661,   662,
   282,   537,   714,   700,   621,   701,   702,   709,   663,   442,
   710,   665,   705,   666,  1185,   282,   503,   667,   510,   713,
   498,   715,   716,   717,   718,   719,   720,   668,   520,   282,
   743,   497,   285,   727,   530,   730,   731,   676,  1006,   734,
   735,   736,   737,   738,   739,   740,   741,   742,   678,   744,
   706,   707,   763,   683,   199,   728,   550,   622,   711,   747,
   748,  1024,  1161,  1162,   749,  1042,  1186,   839,    43,   965,
   199,   416,  -426,    43,   552,   199,   428,  -392,   622,   966,
  1163,   286,   553,  1161,  1162,   555,   967,   555,    43,  1187,
   968,   449,   -98,  1188,   969,    43,   972,  1164,   457,  -125,
   975,  1163,    43,   888,    43,   473,  -270,   499,  -112,   794,
   976,  1315,   998,  1224,   905,   199,   280,   997,  1164,  -985,
  -985,   281,   244,   245,   933,   844,  1000,  1122,  1001,   933,
  1013,    43,  1330,   876,   494,   -95,   887,  1021,  1012,   550,
  1128,  1020,   551,  1133,  1137,   830,   831,   904,   624,  1166,
   835,   836,   837,   838,  1053,   550,  1056,   932,  1224,  1057,
   550,  1081,   932,   551,  1085,  1226,  1086,  1096,   555,   624,
  1166,  1097,  1225,   199,  1101,   963,  1102,   846,  1125,   865,
   866,  1167,  1124,  1160,   555,  1169,   879,  1170,  1227,   555,
   892,   893,  1228,   199,  1176,   897,   898,   899,  1177,   907,
   550,  1182,  1167,  1183,  1009,   920,   921,   922,   199,   935,
  1226,   622,  1184,    43,  1515,  1372,   506,   -74,   950,   951,
   952,  1199,   954,   955,   956,  1200,  1201,    43,  1373,   555,
   494,   -71,  1202,  1227,  1203,  1204,   537,  1228,  1205,   977,
   978,   979,   980,   981,   982,   983,   984,   985,   986,   987,
  1206,  1079,   990,   991,   992,  1207,  1208,  1319,   550,  1215,
  1025,   551,  1209,   199,   280,  1374,   622,  -273,  -273,   281,
   244,   245,  1210,  1375,   201,  1213,  1320,  1214,   550,  1321,
  1322,  1216,  1062,  1065,  1070,  1217,  1218,   623,   202,  1011,
  1219,   537,   280,   550,  1220,  -989,  -989,   281,   244,   245,
  1221,  1222,   624,   203,   638,  1223,   204,   555,  1323,   552,
  1229,  1230,    43,  1232,  1324,   494,   -92,   553,  1233,  1231,
   280,  1242,   205,  -991,  -991,   281,   244,   245,   845,  1243,
   864,  1244,   206,  1701,   639,  1245,   877,   207,   208,   889,
  1174,    43,   640,    43,   494,  -122,   516,  -135,  1246,  1247,
   906,   551,   912,  1248,  1249,    43,   919,   624,   523,   -34,
   934,  1250,  1253,    43,  1100,   934,   494,   -86,  1260,   949,
    43,   641,   642,   494,   -89,  1261,    43,  1190,   964,   840,
  -510,    43,  1262,    43,   847,  -613,   870,  -794,  1263,    43,
  1264,  1191,   880,  -765,    43,  1265,    43,   900,  -496,   908,
  -722,    43,  1266,    43,   908,  -654,   923,  -754,  1150,  1151,
    43,  1267,  1268,   939,  -727,  1157,  1158,    43,  1269,    43,
   945,  -257,   958,  -323,    43,  1270,    43,   494,  -167,   494,
  -161,    43,  1271,    43,   494,  -170,  1005,  -822,    43,  1272,
  1010,  1014,  -624,    43,  1275,    43,   494,  -634,  1023,  -924,
  1018,    43,  1276,    43,   494,  -173,   494,  -164,    43,  1277,
  1300,   847,  -581,  1029,  1301,  1302,  1037,  1043,  1049,    43,
  1311,    43,  1038,  -227,  1044,  -704,    43,  1312,  1331,   494,
  -224,  1281,   243,   244,   245,  1063,  1068,  1080,    43,  1332,
    43,   494,  -212,   494,  -215,  1333,  1334,    43,  1346,  1255,
   494,  -218,    43,  1347,  1345,  1058,  -529,  1348,   919,  1094,
   912,    43,  1349,    43,  1064,  -956,  1069,  -831,    43,  1350,
    43,   494,  -203,   494,  -221,  1116,  1099,    43,  1351,  1123,
   494,  -206,    43,  1352,    43,   494,  -209,   908,  -639,  1353,
    43,  1354,  1129,  1089,  -665,  1134,  1138,    43,  1451,    43,
   908,  -678,   494,  -251,    43,  1475,  1474,   494,  -267,  1291,
  1484,  1292,  1293,  1294,  1295,    43,  1297,  1298,   494,  -254,
    43,  1535,  1534,  1106,  -456,  1536,  1175,  1537,  1538,  1303,
  1304,  1305,   441,   244,   245,  1307,  1308,  1309,  1310,    43,
  1539,  1541,   494,  -297,  1198,    43,  1542,    43,   494,  -490,
   494,  -363,    43,  1543,  1544,   516,  -349,  1326,  1545,  1546,
    43,  1316,  1317,   516,  -366,    43,  1548,    43,   516,  -373,
   516,  -356,  1549,  1550,  1325,  1551,  1327,  1328,  1329,    43,
  1571,    43,   494,  -443,   494,  -440,    43,  1572,  1580,   494,
  -446,  1335,    43,  1581,    43,   494,  -449,   494,  -414,  1582,
    43,  1343,  1344,   494,  -417,    43,  1583,    43,   494,  -408,
   494,  -420,    43,  1584,  1587,   494,  -423,  1561,  1595,    43,
  1238,  1238,   494,  -405,    43,  1597,    43,   494,  -411,   494,
  -109,    43,  1604,    43,   494,  -106,   494,  -132,    43,  1606,
    43,  1171,  -815,   494,  -791,    43,  1614,  1378,  1189,  -878,
    43,  1615,  1259,  1234,  -545,    43,  1367,    43,  1234,  -542,
   494,  -283,  1393,  1376,  1377,  1596,  1605,  1616,  1381,  1382,
  1383,  1384,  1385,  1386,  1387,  1617,    43,  1282,  1288,  1254,
  -937,    43,  1618,  1619,   494,  -119,  1396,  1397,  1398,  1399,
  1400,  1401,  1402,    43,  1620,    43,   494,   -81,  1278,   -50,
  1621,  1622,    43,  1623,  1481,  1283,   -57,    43,  1624,    43,
   494,   -47,   494,   -44,    43,  1625,    43,  1413,  -600,  1413,
  -610,  1627,  1628,  1430,  1431,  1432,  1409,  1410,  1411,  1412,
  1629,  1630,  1419,  1631,  1421,  1422,  1423,  1477,  1425,  1426,
  1427,  1428,    43,  1632,    43,  1465,  -518,   494,  -570,  1436,
  1437,   243,   244,   245,   246,  1462,  1463,  1464,  1445,  1446,
  1447,  1448,  1449,    43,  1633,  1452,   494,  -573,    43,  1648,
  1647,   494,  -576,  1460,    43,  1649,    43,   494,  -567,  1476,
  -864,    43,  1650,    43,   494,  -564,   494,  -810,    43,  1656,
  1655,   494,  -804,    43,  1488,    43,   494,  -807,   494,  -780,
  1657,  1658,    43,  1678,  1498,   494,  -786,  1686,  1502,  1503,
  1504,  1505,  1506,  1507,  1508,    43,  1687,  1691,   494,  -777,
  1514,  1692,  1694,  1517,  1518,  1519,  1520,  1521,  1522,  1523,
    43,  1696,    43,   494,  -783,   494,  -506,    43,  1698,    43,
   494,  -503,   494,  -745,    43,  1699,    43,   494,  -761,   494,
  -751,    43,  1363,    43,   494,  -742,   494,  -748,    43,  1035,
    43,   494,  -264,   494,  -346,  1559,  1560,    43,  1036,    43,
  1525,  -332,   494,  -631,    43,   936,    43,  1552,  -903,   516,
  -914,  1702,  1417,    43,   938,  1417,   494,  -235,    43,   941,
  1602,  1566,  -712,    43,  1556,    43,   494,  -537,   494,  -848,
   669,    43,  1599,  1600,   494,  -851,    43,     0,    43,   494,
  -845,   494,  -860,    43,     0,    43,   494,  -854,   494,  -857,
    43,     0,    43,   494,  -675,   494,  -472,     0,    43,     0,
  1469,   494,  -475,    43,     0,    43,   494,  -478,   494,  -469,
  1482,    43,     0,    43,   494,  -487,   494,  -484,     0,     0,
     0,  1643,     0,  1645,    43,     0,  1626,   494,  -481,    43,
     0,    43,  1607,  -893,   494,  -890,    43,     0,    43,   494,
  -921,  1636,  -945,    43,     0,    43,   494,   -68,   494,   -65,
     0,     0,     0,  1530,  1653,  1654,    43,     0,    43,   494,
  1652,   494,  -607,     0,    43,     0,  1662,   494,  -525,    43,
     0,  1664,   494,  -873,    43,     0,    43,   494,  -340,   494,
  -343,     0,     0,  1672,  1660,  1557,     0,  1676,     0,  1564,
    43,  1570,    43,   494,  -911,   494,  -719,     0,     0,  1668,
    43,  1670,     0,   494,  -900,  1674,  1675,   243,   244,   245,
   761,  1680,   199,  1682,     0,   559,     0,     0,   560,   561,
     0,  1689,   562,     0,   563,  1693,   564,     0,   565,   566,
   567,   568,   569,   570,     0,   571,     0,   572,    43,   573,
   537,   494,  -952,   574,   575,     0,     0,   576,   577,     0,
  1611,     0,   578,     0,     0,     0,   579,     0,   580,     0,
     0,     0,   581,   582,   583,   584,     0,   585,     0,   586,
     0,   587,   588,   243,   244,   245,   768,   589,     0,     0,
   590,   591,   243,   244,   245,   813,     0,     0,     0,     0,
  1640,   592,   593,   594,   595,     0,   596,   550,     0,     0,
   551,   597,     0,   598,     0,     0,     0,     0,     0,   599,
   600,     0,     0,   552,     0,   601,     0,   602,   603,   604,
   605,   553,     0,   606,   607,     0,   555,     0,   608,     0,
     0,   609,     0,     0,     0,     0,     0,   610,     0,     0,
     0,     0,   611,    66,    67,    68,    69,    70,    71,    72,
    73,    74,    75,    76,    77,    78,    79,    80,    81,    82,
    83,    84,    85,    86,    87,    88,    89,    90,    91,    92,
    93,    94,    95,    96,    97,    98,    99,   100,   101,   102,
   103,   104,   105,   106,   107,   108,   109,   110,   111,   112,
   113,   114,   115,   116,   117,   118,   119,   120,   121,   122,
     0,   123,   124,   125,   126,   127,   128,   129,   130,   131,
   132,   133,   134,   135,   136,   137,   138,   139,   140,   141,
   142,   143,   144,     0,   145,   146,   147,   148,   149,   150,
   151,   152,   153,   154,   155,   156,   157,   158,   159,   160,
   161,   162,   163,   164,   165,   166,   167,   168,   169,   170,
   171,   172,   173,   174,   175,   176,   177,   178,   179,   180,
   181,   182,   183,   184,   185,   186,   187,   188,   189,   190,
   191,   192,   193,   229,    67,    68,    69,    70,    71,    72,
    73,    74,    75,    76,    77,    78,    79,    80,    81,    82,
    83,    84,    85,    86,    87,    88,    89,    90,    91,    92,
    93,    94,    95,    96,    97,    98,    99,   100,   101,   102,
   103,   104,   105,   106,   107,   108,   109,   110,   111,   112,
   113,   114,   115,   116,   117,   118,   119,   120,   121,   122,
     0,   123,   124,   125,   126,   127,   128,   129,   130,   131,
   132,   133,   134,   135,   136,   137,   138,   139,   140,   141,
   142,   143,   144,     0,   145,   146,   147,   148,   149,   150,
   151,   152,   153,   154,   155,   156,   157,   158,   159,   160,
   161,   162,   163,   164,   165,   166,   167,   168,   169,   170,
   171,   172,   173,   174,   175,   176,   177,   178,   179,   180,
   181,   182,   183,   184,   185,   186,   187,   188,   189,   190,
   191,   192,   193,   266,    67,    68,    69,    70,    71,    72,
    73,    74,    75,    76,    77,    78,    79,    80,    81,    82,
    83,    84,    85,    86,    87,    88,    89,    90,    91,    92,
    93,    94,    95,    96,    97,    98,    99,   100,   101,   102,
   103,   104,   105,   106,   107,   108,   109,   110,   111,   112,
   113,   114,   115,   116,   117,   118,   119,   120,   121,   122,
     0,   123,   124,   125,   126,   127,   128,   129,   130,   131,
   132,   133,   134,   135,   136,   137,   138,   139,   140,   141,
   142,   143,   144,     0,   145,   146,   147,   148,   149,   150,
   151,   152,   153,   154,   155,   156,   157,   158,   159,   160,
   161,   162,   163,   164,   165,   166,   167,   168,   169,   170,
   171,   172,   173,   174,   175,   176,   177,   178,   179,   180,
   181,   182,   183,   184,   185,   186,   187,   188,   189,   190,
   191,   192,   193,    67,    68,    69,    70,    71,    72,    73,
    74,    75,    76,    77,    78,    79,    80,    81,    82,    83,
    84,    85,    86,    87,    88,    89,    90,    91,    92,    93,
    94,    95,    96,    97,    98,    99,   100,   101,   102,   103,
   104,   105,   106,   107,   108,   109,   110,   111,   112,   113,
   114,   115,   116,   117,   118,   119,   120,   121,   122,     0,
   123,   124,   125,   126,   127,   128,   129,   130,   131,   132,
   133,   134,   135,   136,   137,   138,   139,   140,   141,   142,
   143,   144,     0,   145,   146,   147,   148,   149,   150,   151,
   152,   153,   154,   155,   156,   157,   158,   159,   160,   161,
   162,   163,   164,   165,   166,   167,   168,   169,   170,   171,
   172,   173,   174,   175,   176,   177,   178,   179,   180,   181,
   182,   183,   184,   185,   186,   187,   188,   189,   190,   191,
   192,   193
};

static const short yycheck[] = {    27,
   274,   242,   276,    26,   439,   269,   270,   225,    43,   211,
   758,   249,    41,   550,     9,   215,   216,   217,   218,     9,
   220,   221,   559,   223,   269,   270,   456,     9,     9,     9,
   275,   276,   234,     9,     9,     9,   784,    12,   269,   270,
    63,   279,   273,   274,   275,     9,   209,   210,   250,     9,
     9,     9,     9,     9,    75,     9,     9,    17,     9,     9,
     9,     7,     7,    22,     5,     9,     9,   230,    48,     9,
    46,    51,    15,     9,     4,     5,    71,    36,    37,    43,
    39,   270,    46,     7,   273,   274,   275,   276,     9,     4,
     5,   628,   629,   630,   631,   632,     7,   634,    57,    58,
   637,   638,    52,     7,    63,    64,   370,    47,    88,     9,
   290,   291,    52,   293,     5,    71,     9,    76,   298,   299,
    94,    70,    71,    82,    83,    84,    85,    86,   103,    65,
    94,    52,    91,    87,     1,    94,    94,     4,    97,   302,
   303,     9,   137,    79,    12,    94,   894,   137,   896,    17,
    18,   110,   133,   111,   136,     4,     5,   137,    94,   118,
     7,    97,     7,   122,   123,   123,     9,    35,   132,   128,
   123,   200,   123,   710,   711,   119,   133,   113,   136,   138,
     7,   370,   132,   104,    52,   134,     9,   123,   936,   937,
     7,     9,   128,   129,    94,     9,     9,     9,    11,   135,
    43,   439,   102,    46,     1,     7,    20,     4,    76,   270,
     9,    24,   273,   274,   275,    33,     7,     9,     4,     5,
    43,    13,    14,    46,    37,     7,    94,     5,     1,    97,
     9,     4,     5,   268,   669,   103,   104,     7,    51,    52,
    54,   269,   270,     4,     5,   273,   274,   275,   276,   277,
    42,     4,     5,    67,    46,   123,     5,    70,    50,    71,
     5,     4,     9,     9,   292,     9,    12,   295,   136,     9,
   138,    17,    18,    52,    87,     7,    94,     5,    18,     9,
   123,    94,    94,     1,    97,    99,     4,     5,   101,    35,
     7,   104,     7,   534,    38,   108,    43,   110,     5,    46,
   113,    31,     7,    47,   118,   118,    52,    37,    52,   370,
     5,   123,    56,   105,   128,    94,     7,   131,     5,   132,
   538,   134,     7,   136,    64,   543,    70,     1,    72,     1,
     4,     5,     4,     5,   126,     5,    80,     5,   556,   557,
     7,    71,   370,     7,   562,   563,   564,     5,    94,   549,
    94,    97,   552,   553,    94,   555,   103,   103,   104,     7,
   104,   561,   580,     5,    94,     5,     7,    97,   586,   587,
     7,     9,     5,     9,     5,     7,   247,   123,     1,   123,
   110,     4,     5,     1,   128,   129,     4,     5,   118,   133,
   136,   609,   592,     5,     5,   558,     5,   560,     5,     7,
   271,    37,   620,   603,   134,   605,   606,    43,     5,   280,
    46,     7,   612,     5,    52,   286,   444,     5,   446,   619,
   443,   621,   622,   623,   624,   625,   626,     5,   456,   300,
   648,   669,   670,   633,   462,   635,   636,     7,   868,   639,
   640,   641,   642,   643,   644,   645,   646,   647,     7,   649,
   613,   614,     9,     7,     9,     7,    94,    12,    94,   659,
   660,   891,    17,    18,   664,   895,   104,     5,     1,     5,
     9,     4,     5,     1,   110,     9,     4,     5,    12,     5,
    35,   683,   118,    17,    18,   123,     5,   123,     1,   127,
     5,     4,     5,   131,     5,     1,     5,    52,     4,     5,
     5,    35,     1,   767,     1,     4,     5,     4,     5,   709,
     5,    66,     5,    52,   778,     9,     1,     7,    52,     4,
     5,     6,     7,     8,   788,   756,     7,   957,     5,   793,
     5,     1,    66,   764,     4,     5,   767,     5,     7,    94,
   970,     7,    97,   973,   974,   745,   746,   778,   103,   104,
   750,   751,   752,   753,     7,    94,     7,   788,    52,     5,
    94,     5,   793,    97,     7,   104,     5,     7,   123,   103,
   104,     5,    66,     9,     7,   806,     5,   757,     5,   759,
   760,   136,     7,     5,   123,     5,   766,     5,   127,   123,
   770,   771,   131,     9,     7,   775,   776,   777,     5,   779,
    94,     7,   136,     5,   868,   785,   786,   787,     9,   789,
   104,    12,     5,     1,     9,    51,     4,     5,   798,   799,
   800,     7,   802,   803,   804,     5,     5,     1,    64,   123,
     4,     5,     5,   127,     5,     7,    37,   131,     5,   819,
   820,   821,   822,   823,   824,   825,   826,   827,   828,   829,
     7,   915,   832,   833,   834,     5,     5,    73,    94,     7,
   891,    97,     5,     9,     1,   101,    12,     4,     5,     6,
     7,     8,     5,   109,    65,     5,    92,     5,    94,    95,
    96,     5,   913,   914,   915,     7,     5,    88,    79,   869,
     7,    37,     1,    94,     5,     4,     5,     6,     7,     8,
     5,     5,   103,    94,    50,     5,    97,   123,   124,   110,
     5,     5,     1,     5,   130,     4,     5,   118,     5,     7,
     1,     5,   113,     4,     5,     6,     7,     8,   756,     5,
   758,     5,   123,     0,    80,     7,   764,   128,   129,   767,
  1004,     1,    88,     1,     4,     5,     4,     5,     5,     5,
   778,    97,   780,     5,     5,     1,   784,   103,     4,     5,
   788,     5,     5,     1,   944,   793,     4,     5,     5,   797,
     1,   117,   118,     4,     5,     5,     1,  1022,   806,     4,
     5,     1,     5,     1,     4,     5,     4,     5,     5,     1,
     5,  1022,     4,     5,     1,     5,     1,     4,     5,     4,
     5,     1,     5,     1,     4,     5,     4,     5,   988,   989,
     1,     5,     5,     4,     5,   995,   996,     1,     5,     1,
     4,     5,     4,     5,     1,     5,     1,     4,     5,     4,
     5,     1,     5,     1,     4,     5,     4,     5,     1,     5,
   868,     4,     5,     1,     5,     1,     4,     5,     4,     5,
   878,     1,     5,     1,     4,     5,     4,     5,     1,     5,
     7,     4,     5,   891,     5,     5,   894,   895,   896,     1,
     7,     1,     4,     5,     4,     5,     1,     5,     7,     4,
     5,  1155,     6,     7,     8,   913,   914,   915,     1,     5,
     1,     4,     5,     4,     5,     5,     5,     1,     5,  1130,
     4,     5,     1,     5,     7,     4,     5,     5,   936,   937,
   938,     1,     7,     1,     4,     5,     4,     5,     1,     5,
     1,     4,     5,     4,     5,   953,   943,     1,     7,   957,
     4,     5,     1,     5,     1,     4,     5,     4,     5,     5,
     1,     5,   970,     4,     5,   973,   974,     1,     7,     1,
     4,     5,     4,     5,     1,     5,     7,     4,     5,  1159,
     5,  1161,  1162,  1163,  1164,     1,  1166,  1167,     4,     5,
     1,     5,     7,     4,     5,     5,  1004,     5,     5,  1179,
  1180,  1181,     6,     7,     8,  1185,  1186,  1187,  1188,     1,
     5,     7,     4,     5,  1022,     1,     5,     1,     4,     5,
     4,     5,     1,     5,     5,     4,     5,  1225,     5,     5,
     1,  1211,  1212,     4,     5,     1,     5,     1,     4,     5,
     4,     5,     5,     5,  1224,     5,  1226,  1227,  1228,     1,
     5,     1,     4,     5,     4,     5,     1,     5,     5,     4,
     5,  1241,     1,     5,     1,     4,     5,     4,     5,     5,
     1,  1251,  1252,     4,     5,     1,     5,     1,     4,     5,
     4,     5,     1,     5,     5,     4,     5,  1497,     5,     1,
  1098,  1099,     4,     5,     1,     5,     1,     4,     5,     4,
     5,     1,     5,     1,     4,     5,     4,     5,     1,     5,
     1,     4,     5,     4,     5,     1,     5,  1315,     4,     5,
     1,     5,  1130,     4,     5,     1,  1306,     1,     4,     5,
     4,     5,  1330,  1313,  1314,     7,     7,     7,  1318,  1319,
  1320,  1321,  1322,  1323,  1324,     5,     1,  1155,  1156,     4,
     5,     1,     5,     5,     4,     5,  1336,  1337,  1338,  1339,
  1340,  1341,  1342,     1,     5,     1,     4,     5,     4,     5,
     5,     5,     1,     5,  1418,     4,     5,     1,     5,     1,
     4,     5,     4,     5,     1,     5,     1,     4,     5,     4,
     5,     5,     5,  1373,  1374,  1375,  1356,  1357,  1358,  1359,
     5,     5,  1362,     5,  1364,  1365,  1366,  1418,  1368,  1369,
  1370,  1371,     1,     5,     1,     4,     5,     4,     5,  1379,
  1380,     6,     7,     8,     9,  1405,  1406,  1407,  1388,  1389,
  1390,  1391,  1392,     1,     5,  1395,     4,     5,     1,     5,
     7,     4,     5,  1403,     1,     5,     1,     4,     5,     4,
     5,     1,     5,     1,     4,     5,     4,     5,     1,     5,
     7,     4,     5,     1,  1424,     1,     4,     5,     4,     5,
     5,     5,     1,     5,  1434,     4,     5,     5,  1438,  1439,
  1440,  1441,  1442,  1443,  1444,     1,     5,     5,     4,     5,
  1450,     5,     5,  1453,  1454,  1455,  1456,  1457,  1458,  1459,
     1,     5,     1,     4,     5,     4,     5,     1,     5,     1,
     4,     5,     4,     5,     1,     5,     1,     4,     5,     4,
     5,     1,  1299,     1,     4,     5,     4,     5,     1,   894,
     1,     4,     5,     4,     5,  1495,  1496,     1,   894,     1,
     4,     5,     4,     5,     1,   790,     1,     4,     5,     4,
     5,     0,  1360,     1,   792,  1363,     4,     5,     1,   793,
  1540,     4,     5,     1,  1493,     1,     4,     5,     4,     5,
   533,     1,  1532,  1533,     4,     5,     1,    -1,     1,     4,
     5,     4,     5,     1,    -1,     1,     4,     5,     4,     5,
     1,    -1,     1,     4,     5,     4,     5,    -1,     1,    -1,
  1408,     4,     5,     1,    -1,     1,     4,     5,     4,     5,
  1418,     1,    -1,     1,     4,     5,     4,     5,    -1,    -1,
    -1,  1601,    -1,  1603,     1,    -1,  1586,     4,     5,     1,
    -1,     1,     4,     5,     4,     5,     1,    -1,     1,     4,
     5,     4,     5,     1,    -1,     1,     4,     5,     4,     5,
    -1,    -1,    -1,  1461,  1634,  1635,     1,    -1,     1,     4,
     5,     4,     5,    -1,     1,    -1,  1646,     4,     5,     1,
    -1,  1651,     4,     5,     1,    -1,     1,     4,     5,     4,
     5,    -1,    -1,  1663,  1644,  1493,    -1,  1667,    -1,  1497,
     1,  1499,     1,     4,     5,     4,     5,    -1,    -1,  1659,
     1,  1661,    -1,     4,     5,  1665,  1666,     6,     7,     8,
     9,  1671,     9,  1673,    -1,    12,    -1,    -1,    15,    16,
    -1,  1681,    19,    -1,    21,  1685,    23,    -1,    25,    26,
    27,    28,    29,    30,    -1,    32,    -1,    34,     1,    36,
    37,     4,     5,    40,    41,    -1,    -1,    44,    45,    -1,
  1558,    -1,    49,    -1,    -1,    -1,    53,    -1,    55,    -1,
    -1,    -1,    59,    60,    61,    62,    -1,    64,    -1,    66,
    -1,    68,    69,     6,     7,     8,     9,    74,    -1,    -1,
    77,    78,     6,     7,     8,     9,    -1,    -1,    -1,    -1,
  1598,    88,    89,    90,    91,    -1,    93,    94,    -1,    -1,
    97,    98,    -1,   100,    -1,    -1,    -1,    -1,    -1,   106,
   107,    -1,    -1,   110,    -1,   112,    -1,   114,   115,   116,
   117,   118,    -1,   120,   121,    -1,   123,    -1,   125,    -1,
    -1,   128,    -1,    -1,    -1,    -1,    -1,   134,    -1,    -1,
    -1,    -1,   139,    10,    11,    12,    13,    14,    15,    16,
    17,    18,    19,    20,    21,    22,    23,    24,    25,    26,
    27,    28,    29,    30,    31,    32,    33,    34,    35,    36,
    37,    38,    39,    40,    41,    42,    43,    44,    45,    46,
    47,    48,    49,    50,    51,    52,    53,    54,    55,    56,
    57,    58,    59,    60,    61,    62,    63,    64,    65,    66,
    -1,    68,    69,    70,    71,    72,    73,    74,    75,    76,
    77,    78,    79,    80,    81,    82,    83,    84,    85,    86,
    87,    88,    89,    -1,    91,    92,    93,    94,    95,    96,
    97,    98,    99,   100,   101,   102,   103,   104,   105,   106,
   107,   108,   109,   110,   111,   112,   113,   114,   115,   116,
   117,   118,   119,   120,   121,   122,   123,   124,   125,   126,
   127,   128,   129,   130,   131,   132,   133,   134,   135,   136,
   137,   138,   139,    10,    11,    12,    13,    14,    15,    16,
    17,    18,    19,    20,    21,    22,    23,    24,    25,    26,
    27,    28,    29,    30,    31,    32,    33,    34,    35,    36,
    37,    38,    39,    40,    41,    42,    43,    44,    45,    46,
    47,    48,    49,    50,    51,    52,    53,    54,    55,    56,
    57,    58,    59,    60,    61,    62,    63,    64,    65,    66,
    -1,    68,    69,    70,    71,    72,    73,    74,    75,    76,
    77,    78,    79,    80,    81,    82,    83,    84,    85,    86,
    87,    88,    89,    -1,    91,    92,    93,    94,    95,    96,
    97,    98,    99,   100,   101,   102,   103,   104,   105,   106,
   107,   108,   109,   110,   111,   112,   113,   114,   115,   116,
   117,   118,   119,   120,   121,   122,   123,   124,   125,   126,
   127,   128,   129,   130,   131,   132,   133,   134,   135,   136,
   137,   138,   139,    10,    11,    12,    13,    14,    15,    16,
    17,    18,    19,    20,    21,    22,    23,    24,    25,    26,
    27,    28,    29,    30,    31,    32,    33,    34,    35,    36,
    37,    38,    39,    40,    41,    42,    43,    44,    45,    46,
    47,    48,    49,    50,    51,    52,    53,    54,    55,    56,
    57,    58,    59,    60,    61,    62,    63,    64,    65,    66,
    -1,    68,    69,    70,    71,    72,    73,    74,    75,    76,
    77,    78,    79,    80,    81,    82,    83,    84,    85,    86,
    87,    88,    89,    -1,    91,    92,    93,    94,    95,    96,
    97,    98,    99,   100,   101,   102,   103,   104,   105,   106,
   107,   108,   109,   110,   111,   112,   113,   114,   115,   116,
   117,   118,   119,   120,   121,   122,   123,   124,   125,   126,
   127,   128,   129,   130,   131,   132,   133,   134,   135,   136,
   137,   138,   139,    11,    12,    13,    14,    15,    16,    17,
    18,    19,    20,    21,    22,    23,    24,    25,    26,    27,
    28,    29,    30,    31,    32,    33,    34,    35,    36,    37,
    38,    39,    40,    41,    42,    43,    44,    45,    46,    47,
    48,    49,    50,    51,    52,    53,    54,    55,    56,    57,
    58,    59,    60,    61,    62,    63,    64,    65,    66,    -1,
    68,    69,    70,    71,    72,    73,    74,    75,    76,    77,
    78,    79,    80,    81,    82,    83,    84,    85,    86,    87,
    88,    89,    -1,    91,    92,    93,    94,    95,    96,    97,
    98,    99,   100,   101,   102,   103,   104,   105,   106,   107,
   108,   109,   110,   111,   112,   113,   114,   115,   116,   117,
   118,   119,   120,   121,   122,   123,   124,   125,   126,   127,
   128,   129,   130,   131,   132,   133,   134,   135,   136,   137,
   138,   139
};
/* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */
#line 3 "/usr/lib/bison.simple"
/* This file comes from bison-1.28.  */

/* Skeleton output parser for bison,
   Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2, or (at your option)
   any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 59 Temple Place - Suite 330,
   Boston, MA 02111-1307, USA.  */

/* As a special exception, when this file is copied by Bison into a
   Bison output file, you may use that output file without restriction.
   This special exception was added by the Free Software Foundation
   in version 1.24 of Bison.  */

/* This is the parser code that is written into each bison parser
  when the %semantic_parser declaration is not specified in the grammar.
  It was written by Richard Stallman by simplifying the hairy parser
  used when %semantic_parser is specified.  */

#ifndef YYSTACK_USE_ALLOCA
#ifdef alloca
#define YYSTACK_USE_ALLOCA
#else /* alloca not defined */
#ifdef __GNUC__
#define YYSTACK_USE_ALLOCA
#define alloca __builtin_alloca
#else /* not GNU C.  */
#if (!defined (__STDC__) && defined (sparc)) || defined (__sparc__) || defined (__sparc) || defined (__sgi) || (defined (__sun) && defined (__i386))
#define YYSTACK_USE_ALLOCA
#include <alloca.h>
#else /* not sparc */
/* We think this test detects Watcom and Microsoft C.  */
/* This used to test MSDOS, but that is a bad idea
   since that symbol is in the user namespace.  */
#if (defined (_MSDOS) || defined (_MSDOS_)) && !defined (__TURBOC__)
#if 0 /* No need for malloc.h, which pollutes the namespace;
	 instead, just don't use alloca.  */
#include <malloc.h>
#endif
#else /* not MSDOS, or __TURBOC__ */
#if defined(_AIX)
/* I don't know what this was needed for, but it pollutes the namespace.
   So I turned it off.   rms, 2 May 1997.  */
/* #include <malloc.h>  */
 #pragma alloca
#define YYSTACK_USE_ALLOCA
#else /* not MSDOS, or __TURBOC__, or _AIX */
#if 0
#ifdef __hpux /* haible@ilog.fr says this works for HPUX 9.05 and up,
		 and on HPUX 10.  Eventually we can turn this on.  */
#define YYSTACK_USE_ALLOCA
#define alloca __builtin_alloca
#endif /* __hpux */
#endif
#endif /* not _AIX */
#endif /* not MSDOS, or __TURBOC__ */
#endif /* not sparc */
#endif /* not GNU C */
#endif /* alloca not defined */
#endif /* YYSTACK_USE_ALLOCA not defined */

#ifdef YYSTACK_USE_ALLOCA
#define YYSTACK_ALLOC alloca
#else
#define YYSTACK_ALLOC malloc
#endif

/* Note: there must be only one dollar sign in this file.
   It is replaced by the list of actions, each action
   as one case of the switch.  */

#define yyerrok		(yyerrstatus = 0)
#define yyclearin	(yychar = YYEMPTY)
#define YYEMPTY		-2
#define YYEOF		0
#define YYACCEPT	goto yyacceptlab
#define YYABORT 	goto yyabortlab
#define YYERROR		goto yyerrlab1
/* Like YYERROR except do call yyerror.
   This remains here temporarily to ease the
   transition to the new meaning of YYERROR, for GCC.
   Once GCC version 2 has supplanted version 1, this can go.  */
#define YYFAIL		goto yyerrlab
#define YYRECOVERING()  (!!yyerrstatus)
#define YYBACKUP(token, value) \
do								\
  if (yychar == YYEMPTY && yylen == 1)				\
    { yychar = (token), yylval = (value);			\
      yychar1 = YYTRANSLATE (yychar);				\
      YYPOPSTACK;						\
      goto yybackup;						\
    }								\
  else								\
    { yyerror ("syntax error: cannot back up"); YYERROR; }	\
while (0)

#define YYTERROR	1
#define YYERRCODE	256

#ifndef YYPURE
#define YYLEX		yylex()
#endif

#ifdef YYPURE
#ifdef YYLSP_NEEDED
#ifdef YYLEX_PARAM
#define YYLEX		yylex(&yylval, &yylloc, YYLEX_PARAM)
#else
#define YYLEX		yylex(&yylval, &yylloc)
#endif
#else /* not YYLSP_NEEDED */
#ifdef YYLEX_PARAM
#define YYLEX		yylex(&yylval, YYLEX_PARAM)
#else
#define YYLEX		yylex(&yylval)
#endif
#endif /* not YYLSP_NEEDED */
#endif

/* If nonreentrant, generate the variables here */

#ifndef YYPURE

int	yychar;			/*  the lookahead symbol		*/
YYSTYPE	yylval;			/*  the semantic value of the		*/
				/*  lookahead symbol			*/

#ifdef YYLSP_NEEDED
YYLTYPE yylloc;			/*  location data for the lookahead	*/
				/*  symbol				*/
#endif

int yynerrs;			/*  number of parse errors so far       */
#endif  /* not YYPURE */

#if YYDEBUG != 0
int yydebug;			/*  nonzero means print parse trace	*/
/* Since this is uninitialized, it does not stop multiple parsers
   from coexisting.  */
#endif

/*  YYINITDEPTH indicates the initial size of the parser's stacks	*/

#ifndef	YYINITDEPTH
#define YYINITDEPTH 200
#endif

/*  YYMAXDEPTH is the maximum size the stacks can grow to
    (effective only if the built-in stack extension method is used).  */

#if YYMAXDEPTH == 0
#undef YYMAXDEPTH
#endif

#ifndef YYMAXDEPTH
#define YYMAXDEPTH 10000
#endif

/* Define __yy_memcpy.  Note that the size argument
   should be passed with type unsigned int, because that is what the non-GCC
   definitions require.  With GCC, __builtin_memcpy takes an arg
   of type size_t, but it can handle unsigned int.  */

#if __GNUC__ > 1		/* GNU C and GNU C++ define this.  */
#define __yy_memcpy(TO,FROM,COUNT)	__builtin_memcpy(TO,FROM,COUNT)
#else				/* not GNU C or C++ */
#ifndef __cplusplus

/* This is the most reliable way to avoid incompatibilities
   in available built-in functions on various systems.  */
static void
__yy_memcpy (to, from, count)
     char *to;
     char *from;
     unsigned int count;
{
  register char *f = from;
  register char *t = to;
  register int i = count;

  while (i-- > 0)
    *t++ = *f++;
}

#else /* __cplusplus */

/* This is the most reliable way to avoid incompatibilities
   in available built-in functions on various systems.  */
static void
__yy_memcpy (char *to, char *from, unsigned int count)
{
  register char *t = to;
  register char *f = from;
  register int i = count;

  while (i-- > 0)
    *t++ = *f++;
}

#endif
#endif

#line 217 "/usr/lib/bison.simple"

/* The user can define YYPARSE_PARAM as the name of an argument to be passed
   into yyparse.  The argument should have type void *.
   It should actually point to an object.
   Grammar actions can access the variable by casting it
   to the proper pointer type.  */

#ifdef YYPARSE_PARAM
#ifdef __cplusplus
#define YYPARSE_PARAM_ARG void *YYPARSE_PARAM
#define YYPARSE_PARAM_DECL
#else /* not __cplusplus */
#define YYPARSE_PARAM_ARG YYPARSE_PARAM
#define YYPARSE_PARAM_DECL void *YYPARSE_PARAM;
#endif /* not __cplusplus */
#else /* not YYPARSE_PARAM */
#define YYPARSE_PARAM_ARG
#define YYPARSE_PARAM_DECL
#endif /* not YYPARSE_PARAM */

/* Prevent warning if -Wstrict-prototypes.  */
#ifdef __GNUC__
#ifdef YYPARSE_PARAM
int yyparse (void *);
#else
int yyparse (void);
#endif
#endif

int
yyparse(YYPARSE_PARAM_ARG)
     YYPARSE_PARAM_DECL
{
  register int yystate;
  register int yyn;
  register short *yyssp;
  register YYSTYPE *yyvsp;
  int yyerrstatus;	/*  number of tokens to shift before error messages enabled */
  int yychar1 = 0;		/*  lookahead token as an internal (translated) token number */

  short	yyssa[YYINITDEPTH];	/*  the state stack			*/
  YYSTYPE yyvsa[YYINITDEPTH];	/*  the semantic value stack		*/

  short *yyss = yyssa;		/*  refer to the stacks thru separate pointers */
  YYSTYPE *yyvs = yyvsa;	/*  to allow yyoverflow to reallocate them elsewhere */

#ifdef YYLSP_NEEDED
  YYLTYPE yylsa[YYINITDEPTH];	/*  the location stack			*/
  YYLTYPE *yyls = yylsa;
  YYLTYPE *yylsp;

#define YYPOPSTACK   (yyvsp--, yyssp--, yylsp--)
#else
#define YYPOPSTACK   (yyvsp--, yyssp--)
#endif

  int yystacksize = YYINITDEPTH;
  int yyfree_stacks = 0;

#ifdef YYPURE
  int yychar;
  YYSTYPE yylval;
  int yynerrs;
#ifdef YYLSP_NEEDED
  YYLTYPE yylloc;
#endif
#endif

  YYSTYPE yyval;		/*  the variable used to return		*/
				/*  semantic values from the action	*/
				/*  routines				*/

  int yylen;

#if YYDEBUG != 0
  if (yydebug)
    fprintf(stderr, "Starting parse\n");
#endif

  yystate = 0;
  yyerrstatus = 0;
  yynerrs = 0;
  yychar = YYEMPTY;		/* Cause a token to be read.  */

  /* Initialize stack pointers.
     Waste one element of value and location stack
     so that they stay on the same level as the state stack.
     The wasted elements are never initialized.  */

  yyssp = yyss - 1;
  yyvsp = yyvs;
#ifdef YYLSP_NEEDED
  yylsp = yyls;
#endif

/* Push a new state, which is found in  yystate  .  */
/* In all cases, when you get here, the value and location stacks
   have just been pushed. so pushing a state here evens the stacks.  */
yynewstate:

  *++yyssp = yystate;

  if (yyssp >= yyss + yystacksize - 1)
    {
      /* Give user a chance to reallocate the stack */
      /* Use copies of these so that the &'s don't force the real ones into memory. */
      YYSTYPE *yyvs1 = yyvs;
      short *yyss1 = yyss;
#ifdef YYLSP_NEEDED
      YYLTYPE *yyls1 = yyls;
#endif

      /* Get the current used size of the three stacks, in elements.  */
      int size = yyssp - yyss + 1;

#ifdef yyoverflow
      /* Each stack pointer address is followed by the size of
	 the data in use in that stack, in bytes.  */
#ifdef YYLSP_NEEDED
      /* This used to be a conditional around just the two extra args,
	 but that might be undefined if yyoverflow is a macro.  */
      yyoverflow("parser stack overflow",
		 &yyss1, size * sizeof (*yyssp),
		 &yyvs1, size * sizeof (*yyvsp),
		 &yyls1, size * sizeof (*yylsp),
		 &yystacksize);
#else
      yyoverflow("parser stack overflow",
		 &yyss1, size * sizeof (*yyssp),
		 &yyvs1, size * sizeof (*yyvsp),
		 &yystacksize);
#endif

      yyss = yyss1; yyvs = yyvs1;
#ifdef YYLSP_NEEDED
      yyls = yyls1;
#endif
#else /* no yyoverflow */
      /* Extend the stack our own way.  */
      if (yystacksize >= YYMAXDEPTH)
	{
	  yyerror("parser stack overflow");
	  if (yyfree_stacks)
	    {
	      free (yyss);
	      free (yyvs);
#ifdef YYLSP_NEEDED
	      free (yyls);
#endif
	    }
	  return 2;
	}
      yystacksize *= 2;
      if (yystacksize > YYMAXDEPTH)
	yystacksize = YYMAXDEPTH;
#ifndef YYSTACK_USE_ALLOCA
      yyfree_stacks = 1;
#endif
      yyss = (short *) YYSTACK_ALLOC (yystacksize * sizeof (*yyssp));
      __yy_memcpy ((char *)yyss, (char *)yyss1,
		   size * (unsigned int) sizeof (*yyssp));
      yyvs = (YYSTYPE *) YYSTACK_ALLOC (yystacksize * sizeof (*yyvsp));
      __yy_memcpy ((char *)yyvs, (char *)yyvs1,
		   size * (unsigned int) sizeof (*yyvsp));
#ifdef YYLSP_NEEDED
      yyls = (YYLTYPE *) YYSTACK_ALLOC (yystacksize * sizeof (*yylsp));
      __yy_memcpy ((char *)yyls, (char *)yyls1,
		   size * (unsigned int) sizeof (*yylsp));
#endif
#endif /* no yyoverflow */

      yyssp = yyss + size - 1;
      yyvsp = yyvs + size - 1;
#ifdef YYLSP_NEEDED
      yylsp = yyls + size - 1;
#endif

#if YYDEBUG != 0
      if (yydebug)
	fprintf(stderr, "Stack size increased to %d\n", yystacksize);
#endif

      if (yyssp >= yyss + yystacksize - 1)
	YYABORT;
    }

#if YYDEBUG != 0
  if (yydebug)
    fprintf(stderr, "Entering state %d\n", yystate);
#endif

  goto yybackup;
 yybackup:

/* Do appropriate processing given the current state.  */
/* Read a lookahead token if we need one and don't already have one.  */
/* yyresume: */

  /* First try to decide what to do without reference to lookahead token.  */

  yyn = yypact[yystate];
  if (yyn == YYFLAG)
    goto yydefault;

  /* Not known => get a lookahead token if don't already have one.  */

  /* yychar is either YYEMPTY or YYEOF
     or a valid token in external form.  */

  if (yychar == YYEMPTY)
    {
#if YYDEBUG != 0
      if (yydebug)
	fprintf(stderr, "Reading a token: ");
#endif
      yychar = YYLEX;
    }

  /* Convert token to internal form (in yychar1) for indexing tables with */

  if (yychar <= 0)		/* This means end of input. */
    {
      yychar1 = 0;
      yychar = YYEOF;		/* Don't call YYLEX any more */

#if YYDEBUG != 0
      if (yydebug)
	fprintf(stderr, "Now at end of input.\n");
#endif
    }
  else
    {
      yychar1 = YYTRANSLATE(yychar);

#if YYDEBUG != 0
      if (yydebug)
	{
	  fprintf (stderr, "Next token is %d (%s", yychar, yytname[yychar1]);
	  /* Give the individual parser a way to print the precise meaning
	     of a token, for further debugging info.  */
#ifdef YYPRINT
	  YYPRINT (stderr, yychar, yylval);
#endif
	  fprintf (stderr, ")\n");
	}
#endif
    }

  yyn += yychar1;
  if (yyn < 0 || yyn > YYLAST || yycheck[yyn] != yychar1)
    goto yydefault;

  yyn = yytable[yyn];

  /* yyn is what to do for this token type in this state.
     Negative => reduce, -yyn is rule number.
     Positive => shift, yyn is new state.
       New state is final state => don't bother to shift,
       just return success.
     0, or most negative number => error.  */

  if (yyn < 0)
    {
      if (yyn == YYFLAG)
	goto yyerrlab;
      yyn = -yyn;
      goto yyreduce;
    }
  else if (yyn == 0)
    goto yyerrlab;

  if (yyn == YYFINAL)
    YYACCEPT;

  /* Shift the lookahead token.  */

#if YYDEBUG != 0
  if (yydebug)
    fprintf(stderr, "Shifting token %d (%s), ", yychar, yytname[yychar1]);
#endif

  /* Discard the token being shifted unless it is eof.  */
  if (yychar != YYEOF)
    yychar = YYEMPTY;

  *++yyvsp = yylval;
#ifdef YYLSP_NEEDED
  *++yylsp = yylloc;
#endif

  /* count tokens shifted since error; after three, turn off error status.  */
  if (yyerrstatus) yyerrstatus--;

  yystate = yyn;
  goto yynewstate;

/* Do the default action for the current state.  */
yydefault:

  yyn = yydefact[yystate];
  if (yyn == 0)
    goto yyerrlab;

/* Do a reduction.  yyn is the number of a rule to reduce with.  */
yyreduce:
  yylen = yyr2[yyn];
  if (yylen > 0)
    yyval = yyvsp[1-yylen]; /* implement default value of the action */

#if YYDEBUG != 0
  if (yydebug)
    {
      int i;

      fprintf (stderr, "Reducing via rule %d (line %d), ",
	       yyn, yyrline[yyn]);

      /* Print the symbols being reduced, and their result.  */
      for (i = yyprhs[yyn]; yyrhs[i] > 0; i++)
	fprintf (stderr, "%s ", yytname[yyrhs[i]]);
      fprintf (stderr, " -> %s\n", yytname[yyr1[yyn]]);
    }
#endif


  switch (yyn) {

case 1:
#line 425 "gedcom.y"
{ if (fail == 1) YYABORT; ;
    break;}
case 2:
#line 427 "gedcom.y"
{ clean_up(); ;
    break;}
case 14:
#line 449 "gedcom.y"
{ yyval.ctxt = start_record(REC_HEAD, yyvsp[-2].number, GEDCOM_MAKE_NULL(val1),
					 yyvsp[0].tag,
					 NULL, GEDCOM_MAKE_NULL(val2));
	         START(HEAD, yyvsp[-2].number, yyval.ctxt) ;
    break;}
case 15:
#line 454 "gedcom.y"
{ if (compat_mode(C_NO_SUBMITTER) && ! CHK_COND(SUBM))
		   compat_generate_submitter_link(yyvsp[-1].ctxt);
	         else CHK(SUBM);

	         if (compat_mode(C_NO_GEDC) && ! CHK_COND(GEDC))
		   compat_generate_gedcom(yyvsp[-1].ctxt);
		 else CHK(GEDC);

		 if (compat_mode(C_NO_CHAR) && ! CHK_COND(CHAR)) {
		   if (compat_generate_char(yyvsp[-1].ctxt)) HANDLE_ERROR;
		 }
		 else CHK(CHAR);

		 CHECK1(SOUR);
	       ;
    break;}
case 16:
#line 470 "gedcom.y"
{ end_record(REC_HEAD, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
	         if (compat_mode(C_NO_SUBMITTER))
	           compat_generate_submitter();
	       ;
    break;}
case 19:
#line 480 "gedcom.y"
{ OCCUR2(SOUR, 1, 1) ;
    break;}
case 20:
#line 481 "gedcom.y"
{ OCCUR2(DEST, 0, 1) ;
    break;}
case 21:
#line 482 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 22:
#line 483 "gedcom.y"
{ if (!compat_mode(C_HEAD_TIME))
	                          INVALID_TAG("TIME");
	                         OCCUR2(TIME, 0, 1) ;
    break;}
case 23:
#line 486 "gedcom.y"
{ OCCUR2(SUBM, 1, 1) ;
    break;}
case 24:
#line 487 "gedcom.y"
{ OCCUR2(SUBN, 0, 1) ;
    break;}
case 25:
#line 488 "gedcom.y"
{ OCCUR2(FILE, 0, 1) ;
    break;}
case 26:
#line 489 "gedcom.y"
{ OCCUR2(COPR, 0, 1) ;
    break;}
case 27:
#line 490 "gedcom.y"
{ OCCUR2(GEDC, 1, 1) ;
    break;}
case 28:
#line 491 "gedcom.y"
{ OCCUR2(CHAR, 1, 1) ;
    break;}
case 29:
#line 492 "gedcom.y"
{ OCCUR2(LANG, 0, 1) ;
    break;}
case 30:
#line 493 "gedcom.y"
{ OCCUR2(PLAC, 0, 1) ;
    break;}
case 31:
#line 494 "gedcom.y"
{ OCCUR2(NOTE, 0, 1) ;
    break;}
case 33:
#line 500 "gedcom.y"
{ set_compatibility_program(yyvsp[0].string);
		   yyval.ctxt = start_element(ELT_HEAD_SOUR, PARENT,
					    yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(SOUR, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 34:
#line 507 "gedcom.y"
{ CHECK0 ;
    break;}
case 35:
#line 509 "gedcom.y"
{ compute_compatibility();
		   end_element(ELT_HEAD_SOUR, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 38:
#line 518 "gedcom.y"
{ OCCUR2(VERS, 0, 1) ;
    break;}
case 39:
#line 519 "gedcom.y"
{ OCCUR2(NAME, 0, 1) ;
    break;}
case 40:
#line 520 "gedcom.y"
{ OCCUR2(CORP, 0, 1) ;
    break;}
case 41:
#line 521 "gedcom.y"
{ OCCUR2(DATA, 0, 1) ;
    break;}
case 43:
#line 526 "gedcom.y"
{ set_compatibility_version(yyvsp[0].string);
			yyval.ctxt = start_element(ELT_HEAD_SOUR_VERS, PARENT,
						 yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(VERS, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 44:
#line 533 "gedcom.y"
{ CHECK0 ;
    break;}
case 45:
#line 535 "gedcom.y"
{ end_element(ELT_HEAD_SOUR_VERS,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 46:
#line 540 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_SOUR_NAME, PARENT,
						 yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			START(NAME, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 47:
#line 546 "gedcom.y"
{ CHECK0 ;
    break;}
case 48:
#line 548 "gedcom.y"
{ end_element(ELT_HEAD_SOUR_NAME,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 49:
#line 553 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_SOUR_CORP, PARENT,
						 yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			START(CORP, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 50:
#line 559 "gedcom.y"
{ CHECK0 ;
    break;}
case 51:
#line 561 "gedcom.y"
{ end_element(ELT_HEAD_SOUR_CORP,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 56:
#line 575 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_SOUR_DATA, PARENT,
						 yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			START(DATA, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 57:
#line 581 "gedcom.y"
{ CHECK0 ;
    break;}
case 58:
#line 583 "gedcom.y"
{ end_element(ELT_HEAD_SOUR_DATA,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 61:
#line 592 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 62:
#line 593 "gedcom.y"
{ OCCUR2(COPR, 0, 1) ;
    break;}
case 64:
#line 598 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
			     yyval.ctxt
			       = start_element(ELT_HEAD_SOUR_DATA_DATE,
					       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					       GEDCOM_MAKE_DATE(val1, dv));
			     START(DATE, yyvsp[-3].number, yyval.ctxt)
			   ;
    break;}
case 65:
#line 606 "gedcom.y"
{ CHECK0 ;
    break;}
case 66:
#line 608 "gedcom.y"
{ end_element(ELT_HEAD_SOUR_DATA_DATE,
					 PARENT, yyvsp[-3].ctxt,
					 GEDCOM_MAKE_NULL(val1));
			   ;
    break;}
case 67:
#line 614 "gedcom.y"
{ yyval.ctxt
			       = start_element(ELT_HEAD_SOUR_DATA_COPR,
					       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					       GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			     START(COPR, yyvsp[-3].number, yyval.ctxt)
			   ;
    break;}
case 68:
#line 621 "gedcom.y"
{ CHECK0 ;
    break;}
case 69:
#line 623 "gedcom.y"
{ end_element(ELT_HEAD_SOUR_DATA_COPR,
					 PARENT, yyvsp[-3].ctxt,
					 GEDCOM_MAKE_NULL(val1));
			   ;
    break;}
case 70:
#line 631 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_DEST,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(DEST, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 71:
#line 637 "gedcom.y"
{ CHECK0 ;
    break;}
case 72:
#line 639 "gedcom.y"
{ end_element(ELT_HEAD_DEST,
			       PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 73:
#line 646 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
		   yyval.ctxt = start_element(ELT_HEAD_DATE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_DATE(val1, dv));
		   if (compat_mode(C_HEAD_TIME))
		     compat_save_head_date_context(yyval.ctxt);
		   START(DATE, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 74:
#line 655 "gedcom.y"
{ CHECK0 ;
    break;}
case 75:
#line 657 "gedcom.y"
{ end_element(ELT_HEAD_DATE,
			       PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 78:
#line 666 "gedcom.y"
{ OCCUR2(TIME, 0, 1) ;
    break;}
case 80:
#line 671 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_DATE_TIME,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(TIME, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 81:
#line 677 "gedcom.y"
{ CHECK0 ;
    break;}
case 82:
#line 679 "gedcom.y"
{ end_element(ELT_HEAD_DATE_TIME,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 83:
#line 686 "gedcom.y"
{ if (compat_mode(C_HEAD_TIME)) {
		     yyval.ctxt = compat_generate_head_time_start(yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string);
                   }
                 ;
    break;}
case 84:
#line 691 "gedcom.y"
{ if (compat_mode (C_HEAD_TIME)) {
		     compat_generate_head_time_end(yyvsp[-1].ctxt);
		   }
                 ;
    break;}
case 85:
#line 699 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_SUBM);
	           if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_HEAD_SUBM,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(SUBM, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 86:
#line 708 "gedcom.y"
{ CHECK0 ;
    break;}
case 87:
#line 710 "gedcom.y"
{ end_element(ELT_HEAD_SUBM,
			       PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 88:
#line 716 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_SUBN);
	           if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_HEAD_SUBN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(SUBN, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 89:
#line 725 "gedcom.y"
{ CHECK0 ;
    break;}
case 90:
#line 727 "gedcom.y"
{ end_element(ELT_HEAD_SUBN,
			       PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 91:
#line 733 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_FILE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(FILE, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 92:
#line 739 "gedcom.y"
{ CHECK0 ;
    break;}
case 93:
#line 741 "gedcom.y"
{ end_element(ELT_HEAD_FILE, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 94:
#line 747 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_COPR,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(COPR, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 95:
#line 753 "gedcom.y"
{ CHECK0 ;
    break;}
case 96:
#line 755 "gedcom.y"
{ end_element(ELT_HEAD_COPR, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 97:
#line 761 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_GEDC,
					    PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					    GEDCOM_MAKE_NULL(val1));
		   START(GEDC, yyvsp[-2].number, yyval.ctxt)
		 ;
    break;}
case 98:
#line 767 "gedcom.y"
{ if (compat_mode(C_NO_GEDC_FORM) && ! CHK_COND(FORM))
		     compat_generate_gedcom_form(yyvsp[-1].ctxt);
		   else CHK(FORM);
		 
		   CHECK1(VERS)  
		 ;
    break;}
case 99:
#line 775 "gedcom.y"
{ end_element(ELT_HEAD_GEDC, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 102:
#line 784 "gedcom.y"
{ OCCUR2(VERS, 1, 1) ;
    break;}
case 103:
#line 785 "gedcom.y"
{ OCCUR2(FORM, 1, 1) ;
    break;}
case 105:
#line 789 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_GEDC_VERS,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(VERS, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 106:
#line 795 "gedcom.y"
{ CHECK0 ;
    break;}
case 107:
#line 797 "gedcom.y"
{ end_element(ELT_HEAD_GEDC_VERS,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 108:
#line 802 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_GEDC_FORM,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(FORM, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 109:
#line 808 "gedcom.y"
{ CHECK0 ;
    break;}
case 110:
#line 810 "gedcom.y"
{ end_element(ELT_HEAD_GEDC_FORM,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 111:
#line 817 "gedcom.y"
{ /* Don't allow to continue if conversion context couldn't
		      be opened */
		   if (open_conv_to_internal(yyvsp[0].string) == 0) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_HEAD_CHAR,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(CHAR, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 112:
#line 826 "gedcom.y"
{ CHECK0 ;
    break;}
case 113:
#line 828 "gedcom.y"
{ end_element(ELT_HEAD_CHAR, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 116:
#line 837 "gedcom.y"
{ OCCUR2(VERS, 0, 1) ;
    break;}
case 118:
#line 841 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_CHAR_VERS,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(VERS, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 119:
#line 847 "gedcom.y"
{ CHECK0 ;
    break;}
case 120:
#line 849 "gedcom.y"
{ end_element(ELT_HEAD_CHAR_VERS,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 121:
#line 856 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_LANG,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(LANG, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 122:
#line 862 "gedcom.y"
{ CHECK0 ;
    break;}
case 123:
#line 864 "gedcom.y"
{ end_element(ELT_HEAD_LANG, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 124:
#line 870 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_PLAC,
					    PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					    GEDCOM_MAKE_NULL(val1));
		   START(PLAC, yyvsp[-2].number, yyval.ctxt)
		 ;
    break;}
case 125:
#line 876 "gedcom.y"
{ CHECK1(FORM) ;
    break;}
case 126:
#line 878 "gedcom.y"
{ end_element(ELT_HEAD_PLAC, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 129:
#line 887 "gedcom.y"
{ OCCUR2(FORM, 1, 1) ;
    break;}
case 131:
#line 891 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_PLAC_FORM,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(FORM, yyvsp[-3].number, yyval.ctxt)
		      ;
    break;}
case 132:
#line 897 "gedcom.y"
{ CHECK0 ;
    break;}
case 133:
#line 899 "gedcom.y"
{ end_element(ELT_HEAD_PLAC_FORM,
				    PARENT, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 134:
#line 906 "gedcom.y"
{ yyval.ctxt = start_element(ELT_HEAD_NOTE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   reset_buffer(&concat_buffer);
		   safe_buf_append(&concat_buffer, yyvsp[0].string);
		   START(NOTE, yyvsp[-3].number, yyval.ctxt)
		 ;
    break;}
case 135:
#line 914 "gedcom.y"
{ CHECK0 ;
    break;}
case 136:
#line 916 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		   end_element(ELT_HEAD_NOTE, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_STRING(val1, complete));
		 ;
    break;}
case 141:
#line 934 "gedcom.y"
{ ;
    break;}
case 142:
#line 941 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							   XREF_FAM);
	         if (xr == NULL) HANDLE_ERROR;
		 yyval.ctxt = start_record(REC_FAM,
					 yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr),
					 yyvsp[0].tag,
					 NULL, GEDCOM_MAKE_NULL(val2));
		 START(FAM, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 143:
#line 950 "gedcom.y"
{ CHECK0 ;
    break;}
case 144:
#line 952 "gedcom.y"
{ end_record(REC_FAM, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 148:
#line 960 "gedcom.y"
{ OCCUR2(HUSB, 0, 1) ;
    break;}
case 149:
#line 961 "gedcom.y"
{ OCCUR2(WIFE, 0, 1) ;
    break;}
case 151:
#line 963 "gedcom.y"
{ OCCUR2(NCHI, 0, 1) ;
    break;}
case 160:
#line 976 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							    XREF_INDI);
		  if (xr == NULL) HANDLE_ERROR;
		  yyval.ctxt = start_element(ELT_FAM_HUSB,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		  START(HUSB, yyvsp[-3].number, yyval.ctxt)
		;
    break;}
case 161:
#line 985 "gedcom.y"
{ CHECK0 ;
    break;}
case 162:
#line 987 "gedcom.y"
{ end_element(ELT_FAM_HUSB, PARENT, yyvsp[-3].ctxt,
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 163:
#line 994 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							    XREF_INDI);
		  if (xr == NULL) HANDLE_ERROR;
		  yyval.ctxt = start_element(ELT_FAM_WIFE,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		  START(WIFE, yyvsp[-3].number, yyval.ctxt)
		;
    break;}
case 164:
#line 1003 "gedcom.y"
{ CHECK0 ;
    break;}
case 165:
#line 1005 "gedcom.y"
{ end_element(ELT_FAM_WIFE, PARENT, yyvsp[-3].ctxt,
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 166:
#line 1012 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							    XREF_INDI);
		  if (xr == NULL) HANDLE_ERROR;
		  yyval.ctxt = start_element(ELT_FAM_CHIL,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		  START(CHIL, yyvsp[-3].number, yyval.ctxt) 
		;
    break;}
case 167:
#line 1021 "gedcom.y"
{ CHECK0 ;
    break;}
case 168:
#line 1023 "gedcom.y"
{ end_element(ELT_FAM_CHIL, PARENT, yyvsp[-3].ctxt,
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 169:
#line 1030 "gedcom.y"
{ yyval.ctxt = start_element(ELT_FAM_NCHI,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		  START(NCHI, yyvsp[-3].number, yyval.ctxt)  
		;
    break;}
case 170:
#line 1036 "gedcom.y"
{ CHECK0 ;
    break;}
case 171:
#line 1038 "gedcom.y"
{ end_element(ELT_FAM_NCHI, PARENT, yyvsp[-3].ctxt,
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 172:
#line 1045 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							    XREF_SUBM);
		  if (xr == NULL) HANDLE_ERROR;
		  yyval.ctxt = start_element(ELT_FAM_SUBM,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		  START(SUBM, yyvsp[-3].number, yyval.ctxt)   
		;
    break;}
case 173:
#line 1054 "gedcom.y"
{ CHECK0 ;
    break;}
case 174:
#line 1056 "gedcom.y"
{ end_element(ELT_FAM_SUBM, PARENT, yyvsp[-3].ctxt,
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 175:
#line 1065 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							  XREF_INDI);
	        if (xr == NULL) HANDLE_ERROR;
		yyval.ctxt = start_record(REC_INDI,
					yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[0].tag,
					NULL, GEDCOM_MAKE_NULL(val2));
		START(INDI, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 176:
#line 1073 "gedcom.y"
{ CHECK0 ;
    break;}
case 177:
#line 1075 "gedcom.y"
{ end_record(REC_INDI, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
	        if (compat_mode(C_NO_SLGC_FAMC))
		  compat_generate_slgc_famc_fam();
	      ;
    break;}
case 180:
#line 1085 "gedcom.y"
{ OCCUR2(RESN, 0, 1) ;
    break;}
case 182:
#line 1087 "gedcom.y"
{ OCCUR2(SEX, 0, 1) ;
    break;}
case 196:
#line 1101 "gedcom.y"
{ OCCUR2(RFN, 0, 1) ;
    break;}
case 200:
#line 1105 "gedcom.y"
{ if (!compat_mode(C_INDI_ADDR))
	                          INVALID_TAG("ADDR");
	                      ;
    break;}
case 202:
#line 1113 "gedcom.y"
{ yyval.ctxt = start_element(ELT_INDI_RESN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(RESN, yyvsp[-3].number, yyval.ctxt)    
		 ;
    break;}
case 203:
#line 1119 "gedcom.y"
{ CHECK0 ;
    break;}
case 204:
#line 1121 "gedcom.y"
{ end_element(ELT_INDI_RESN, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 205:
#line 1128 "gedcom.y"
{ yyval.ctxt = start_element(ELT_INDI_SEX,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(SEX, yyvsp[-3].number, yyval.ctxt)     
		 ;
    break;}
case 206:
#line 1134 "gedcom.y"
{ CHECK0 ;
    break;}
case 207:
#line 1136 "gedcom.y"
{ end_element(ELT_INDI_SEX, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 208:
#line 1143 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_SUBM);
		   if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_INDI_SUBM,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(SUBM, yyvsp[-3].number, yyval.ctxt)      
		 ;
    break;}
case 209:
#line 1152 "gedcom.y"
{ CHECK0 ;
    break;}
case 210:
#line 1154 "gedcom.y"
{ end_element(ELT_INDI_SUBM, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 211:
#line 1161 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_INDI);
		   if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_INDI_ALIA,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(ALIA, yyvsp[-3].number, yyval.ctxt)       
		 ;
    break;}
case 212:
#line 1170 "gedcom.y"
{ CHECK0 ;
    break;}
case 213:
#line 1172 "gedcom.y"
{ end_element(ELT_INDI_ALIA, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 214:
#line 1179 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_SUBM);
		   if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_INDI_ANCI,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(ANCI, yyvsp[-3].number, yyval.ctxt)        
		 ;
    break;}
case 215:
#line 1188 "gedcom.y"
{ CHECK0 ;
    break;}
case 216:
#line 1190 "gedcom.y"
{ end_element(ELT_INDI_ANCI, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 217:
#line 1197 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_SUBM);
		   if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_INDI_DESI,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(DESI, yyvsp[-3].number, yyval.ctxt)         
		 ;
    break;}
case 218:
#line 1206 "gedcom.y"
{ CHECK0 ;
    break;}
case 219:
#line 1208 "gedcom.y"
{ end_element(ELT_INDI_DESI, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 220:
#line 1215 "gedcom.y"
{ yyval.ctxt = start_element(ELT_INDI_RFN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(RFN, yyvsp[-3].number, yyval.ctxt)          
		 ;
    break;}
case 221:
#line 1221 "gedcom.y"
{ CHECK0 ;
    break;}
case 222:
#line 1223 "gedcom.y"
{ end_element(ELT_INDI_RFN, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 223:
#line 1230 "gedcom.y"
{ yyval.ctxt = start_element(ELT_INDI_AFN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(AFN, yyvsp[-3].number, yyval.ctxt)           
		 ;
    break;}
case 224:
#line 1236 "gedcom.y"
{ CHECK0 ;
    break;}
case 225:
#line 1238 "gedcom.y"
{ end_element(ELT_INDI_AFN, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 226:
#line 1245 "gedcom.y"
{ if (compat_mode(C_INDI_ADDR)) {
		      Gedcom_ctxt par = compat_generate_resi_start(PARENT);
		      START(RESI, yyvsp[-3].number, par);
		      yyval.ctxt
			= start_element(ELT_SUB_ADDR,
					par, yyvsp[-3].number + 1, yyvsp[-1].tag, yyvsp[0].string,
					GEDCOM_MAKE_NULL_OR_STRING(val2, yyvsp[0].string));
		      reset_buffer(&concat_buffer);
		      safe_buf_append(&concat_buffer, yyvsp[0].string);
		      START(ADDR, yyvsp[-3].number + 1, yyval.ctxt);
		    }
		  else { START(ADDR, yyvsp[-3].number, NULL) }
		  ;
    break;}
case 227:
#line 1259 "gedcom.y"
{ CHECK0 ;
    break;}
case 228:
#line 1261 "gedcom.y"
{ if (compat_mode(C_INDI_ADDR)) {
		      Gedcom_ctxt par = PARENT;
		      char* complete = get_buf_string(&concat_buffer);
		      end_element(ELT_SUB_ADDR, par, yyvsp[-3].ctxt,
				  GEDCOM_MAKE_STRING(val1, complete));
		      CHECK0;
		      compat_generate_resi_end(PARENT, par);
		    } 
		  ;
    break;}
case 234:
#line 1282 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_PHON,
					   GRANDPARENT(1), yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
	                 START(PHON, yyvsp[-3].number, yyval.ctxt)               
		       ;
    break;}
case 235:
#line 1289 "gedcom.y"
{ CHECK0 ;
    break;}
case 236:
#line 1291 "gedcom.y"
{ end_element(ELT_SUB_PHON, GRANDPARENT(1),
				     yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
	               ;
    break;}
case 237:
#line 1300 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							  XREF_OBJE);
	        if (xr == NULL) HANDLE_ERROR;
		yyval.ctxt = start_record(REC_OBJE,
					yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[0].tag,
					NULL, GEDCOM_MAKE_NULL(val2));
		START(OBJE, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 238:
#line 1308 "gedcom.y"
{ CHECK2(FORM, BLOB) ;
    break;}
case 239:
#line 1310 "gedcom.y"
{ end_record(REC_OBJE, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 242:
#line 1317 "gedcom.y"
{ OCCUR2(FORM, 1, 1) ;
    break;}
case 243:
#line 1318 "gedcom.y"
{ OCCUR2(TITL, 0, 1) ;
    break;}
case 245:
#line 1320 "gedcom.y"
{ OCCUR2(BLOB, 1, 1) ;
    break;}
case 246:
#line 1321 "gedcom.y"
{ OCCUR2(OBJE, 0, 1) ;
    break;}
case 250:
#line 1329 "gedcom.y"
{ yyval.ctxt = start_element(ELT_OBJE_FORM,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(FORM, yyvsp[-3].number, yyval.ctxt)            
		 ;
    break;}
case 251:
#line 1335 "gedcom.y"
{ CHECK0 ;
    break;}
case 252:
#line 1337 "gedcom.y"
{ end_element(ELT_OBJE_FORM, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 253:
#line 1344 "gedcom.y"
{ yyval.ctxt = start_element(ELT_OBJE_TITL,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(TITL, yyvsp[-3].number, yyval.ctxt)             
		 ;
    break;}
case 254:
#line 1350 "gedcom.y"
{ CHECK0 ;
    break;}
case 255:
#line 1352 "gedcom.y"
{ end_element(ELT_OBJE_TITL, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 256:
#line 1359 "gedcom.y"
{ yyval.ctxt = start_element(ELT_OBJE_BLOB,
					    PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					    GEDCOM_MAKE_NULL(val1));
		   reset_buffer(&concat_buffer);
		   START(BLOB, yyvsp[-2].number, yyval.ctxt)              
		 ;
    break;}
case 257:
#line 1366 "gedcom.y"
{ CHECK1(CONT) ;
    break;}
case 258:
#line 1368 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		   end_element(ELT_OBJE_BLOB, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_STRING(val1, complete));
		 ;
    break;}
case 261:
#line 1378 "gedcom.y"
{ OCCUR1(CONT, 1) ;
    break;}
case 263:
#line 1383 "gedcom.y"
{ yyval.ctxt = start_element(ELT_OBJE_BLOB_CONT,
					         PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        safe_buf_append(&concat_buffer, yyvsp[0].string);
		        START(CONT, yyvsp[-3].number, yyval.ctxt)               
		      ;
    break;}
case 264:
#line 1390 "gedcom.y"
{ CHECK0 ;
    break;}
case 265:
#line 1392 "gedcom.y"
{ end_element(ELT_OBJE_BLOB_CONT, PARENT,
				    yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 266:
#line 1399 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_OBJE);
		   if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_OBJE_OBJE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(OBJE, yyvsp[-3].number, yyval.ctxt)  
                 ;
    break;}
case 267:
#line 1408 "gedcom.y"
{ CHECK0 ;
    break;}
case 268:
#line 1410 "gedcom.y"
{ end_element(ELT_OBJE_OBJE, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 269:
#line 1419 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-3].string, XREF_DEFINED,
							  XREF_NOTE);
	        if (xr == NULL) HANDLE_ERROR;
		yyval.ctxt = start_record(REC_NOTE,
					yyvsp[-5].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[-1].tag,
					yyvsp[0].string, GEDCOM_MAKE_STRING(val2, yyvsp[0].string));
		reset_buffer(&concat_buffer);
		safe_buf_append(&concat_buffer, yyvsp[0].string);
		START(NOTE, yyvsp[-5].number, yyval.ctxt) ;
    break;}
case 270:
#line 1429 "gedcom.y"
{ CHECK0 ;
    break;}
case 271:
#line 1431 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		end_record(REC_NOTE, yyvsp[-3].ctxt,
			   GEDCOM_MAKE_STRING(val1, complete)); ;
    break;}
case 272:
#line 1437 "gedcom.y"
{ if (!compat_mode(C_NOTE_NO_VALUE)) {
		       gedcom_error(_("Missing value")); YYERROR;
		     }
		     else {
		       yyval.string = VALUE_IF_MISSING;
		     }
		   ;
    break;}
case 273:
#line 1445 "gedcom.y"
{ gedcom_debug_print("==Val: %s==", yyvsp[0].string);
		     yyval.string = yyvsp[0].string; ;
    break;}
case 280:
#line 1457 "gedcom.y"
{ if (!compat_mode(C_NOTE_NOTE))
	                          INVALID_TAG("NOTE");
                              ;
    break;}
case 282:
#line 1465 "gedcom.y"
{ yyvsp[-1].tag.string = "CONT";
	      yyvsp[-1].tag.value  = TAG_CONT;
	      yyval.ctxt = start_element(ELT_SUB_CONT,
				       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
				       GEDCOM_MAKE_NULL_OR_STRING(val1, yyvsp[0].string));
	      SAFE_BUF_ADDCHAR(&concat_buffer, '\n');
	      if (GEDCOM_IS_STRING(&val1))
	        safe_buf_append(&concat_buffer, yyvsp[0].string);
	      START(CONT, yyvsp[-3].number, yyval.ctxt)  
            ;
    break;}
case 283:
#line 1476 "gedcom.y"
{ CHECK0 ;
    break;}
case 284:
#line 1478 "gedcom.y"
{ end_element(ELT_SUB_CONT, PARENT, yyvsp[-3].ctxt,
			  GEDCOM_MAKE_NULL(val1));
	    ;
    break;}
case 285:
#line 1487 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							  XREF_REPO);
	        if (xr == NULL) HANDLE_ERROR;
		yyval.ctxt = start_record(REC_REPO,
					yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[0].tag,
					NULL, GEDCOM_MAKE_NULL(val2));
		START(REPO, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 286:
#line 1495 "gedcom.y"
{ CHECK0 ;
    break;}
case 287:
#line 1497 "gedcom.y"
{ end_record(REC_REPO, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 290:
#line 1504 "gedcom.y"
{ OCCUR2(NAME, 0, 1) ;
    break;}
case 296:
#line 1514 "gedcom.y"
{ yyval.ctxt = start_element(ELT_REPO_NAME,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(NAME, yyvsp[-3].number, yyval.ctxt)          
                 ;
    break;}
case 297:
#line 1520 "gedcom.y"
{ CHECK0 ;
    break;}
case 298:
#line 1522 "gedcom.y"
{ end_element(ELT_REPO_NAME, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 299:
#line 1531 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							  XREF_SOUR);
	        if (xr == NULL) HANDLE_ERROR;
		yyval.ctxt = start_record(REC_SOUR,
					yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[0].tag,
					NULL, GEDCOM_MAKE_NULL(val2));
		START(SOUR, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 300:
#line 1539 "gedcom.y"
{ CHECK0 ;
    break;}
case 301:
#line 1541 "gedcom.y"
{ end_record(REC_SOUR, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 304:
#line 1548 "gedcom.y"
{ OCCUR2(DATA, 0, 1) ;
    break;}
case 305:
#line 1549 "gedcom.y"
{ OCCUR2(AUTH, 0, 1) ;
    break;}
case 306:
#line 1550 "gedcom.y"
{ OCCUR2(TITL, 0, 1) ;
    break;}
case 307:
#line 1551 "gedcom.y"
{ OCCUR2(ABBR, 0, 1) ;
    break;}
case 308:
#line 1552 "gedcom.y"
{ OCCUR2(PUBL, 0, 1) ;
    break;}
case 309:
#line 1553 "gedcom.y"
{ OCCUR2(TEXT, 0, 1) ;
    break;}
case 310:
#line 1554 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
	                          INVALID_TAG("TYPE");
	                        OCCUR2(TYPE, 0, 1) ;
    break;}
case 311:
#line 1557 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
	                          INVALID_TAG("FILE");
	                        OCCUR2(FILE, 0, 1) ;
    break;}
case 312:
#line 1560 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
	                          INVALID_TAG("PLAC");
	                        OCCUR2(PLAC, 0, 1) ;
    break;}
case 313:
#line 1563 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
	                          INVALID_TAG("DATE");
	                        OCCUR2(DATE, 0, 1) ;
    break;}
case 314:
#line 1566 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
	                          INVALID_TAG("MEDI");
	                        OCCUR2(MEDI, 0, 1) ;
    break;}
case 315:
#line 1569 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
	                          INVALID_TAG("PAGE");
	                        OCCUR2(PAGE, 0, 1) ;
    break;}
case 322:
#line 1582 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_DATA,
					    PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					    GEDCOM_MAKE_NULL(val1));
		   START(DATA, yyvsp[-2].number, yyval.ctxt) 
                 ;
    break;}
case 323:
#line 1588 "gedcom.y"
{ CHECK0 ;
    break;}
case 324:
#line 1590 "gedcom.y"
{ end_element(ELT_SOUR_DATA, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 328:
#line 1600 "gedcom.y"
{ OCCUR2(AGNC, 0, 1) ;
    break;}
case 331:
#line 1606 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_DATA_EVEN,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(EVEN, yyvsp[-3].number, yyval.ctxt)  
                      ;
    break;}
case 332:
#line 1612 "gedcom.y"
{ CHECK0 ;
    break;}
case 333:
#line 1614 "gedcom.y"
{ end_element(ELT_SOUR_DATA_EVEN, PARENT,
				    yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 336:
#line 1623 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 337:
#line 1624 "gedcom.y"
{ OCCUR2(PLAC, 0, 1) ;
    break;}
case 339:
#line 1629 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
			     yyval.ctxt
			       = start_element(ELT_SOUR_DATA_EVEN_DATE,
					       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					       GEDCOM_MAKE_DATE(val1, dv));
		             START(DATE, yyvsp[-3].number, yyval.ctxt)           
                           ;
    break;}
case 340:
#line 1637 "gedcom.y"
{ CHECK0 ;
    break;}
case 341:
#line 1639 "gedcom.y"
{ end_element(ELT_SOUR_DATA_EVEN_DATE, PARENT,
					 yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		           ;
    break;}
case 342:
#line 1645 "gedcom.y"
{ yyval.ctxt
			       = start_element(ELT_SOUR_DATA_EVEN_PLAC,
					       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					       GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		             START(PLAC, yyvsp[-3].number, yyval.ctxt)           
                           ;
    break;}
case 343:
#line 1652 "gedcom.y"
{ CHECK0 ;
    break;}
case 344:
#line 1654 "gedcom.y"
{ end_element(ELT_SOUR_DATA_EVEN_PLAC, PARENT,
					 yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		           ;
    break;}
case 345:
#line 1660 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_DATA_AGNC,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(AGNC, yyvsp[-3].number, yyval.ctxt)           
                      ;
    break;}
case 346:
#line 1666 "gedcom.y"
{ CHECK0 ;
    break;}
case 347:
#line 1668 "gedcom.y"
{ end_element(ELT_SOUR_DATA_AGNC, PARENT,
				    yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 348:
#line 1675 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_AUTH,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   reset_buffer(&concat_buffer);
		   safe_buf_append(&concat_buffer, yyvsp[0].string);
		   START(AUTH, yyvsp[-3].number, yyval.ctxt) 
                 ;
    break;}
case 349:
#line 1683 "gedcom.y"
{ CHECK0 ;
    break;}
case 350:
#line 1685 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		   end_element(ELT_SOUR_AUTH, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_STRING(val1, complete));
		 ;
    break;}
case 355:
#line 1701 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_TITL,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   reset_buffer(&concat_buffer);
		   safe_buf_append(&concat_buffer, yyvsp[0].string);
		   START(TITL, yyvsp[-3].number, yyval.ctxt)   
                 ;
    break;}
case 356:
#line 1709 "gedcom.y"
{ CHECK0 ;
    break;}
case 357:
#line 1711 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		   end_element(ELT_SOUR_TITL, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_STRING(val1, complete));
		 ;
    break;}
case 362:
#line 1727 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_ABBR,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(ABBR, yyvsp[-3].number, yyval.ctxt)            
                 ;
    break;}
case 363:
#line 1733 "gedcom.y"
{ CHECK0 ;
    break;}
case 364:
#line 1735 "gedcom.y"
{ end_element(ELT_SOUR_ABBR, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 365:
#line 1742 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_PUBL,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   reset_buffer(&concat_buffer);
		   safe_buf_append(&concat_buffer, yyvsp[0].string);
		   START(PUBL, yyvsp[-3].number, yyval.ctxt)            
                 ;
    break;}
case 366:
#line 1750 "gedcom.y"
{ CHECK0 ;
    break;}
case 367:
#line 1752 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		   end_element(ELT_SOUR_PUBL, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_STRING(val1, complete));
		 ;
    break;}
case 372:
#line 1768 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SOUR_TEXT,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   reset_buffer(&concat_buffer);
		   safe_buf_append(&concat_buffer, yyvsp[0].string);
		   START(TEXT, yyvsp[-3].number, yyval.ctxt)    
                 ;
    break;}
case 373:
#line 1776 "gedcom.y"
{ CHECK0 ;
    break;}
case 374:
#line 1778 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		   end_element(ELT_SOUR_TEXT, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_STRING(val1, complete));
		 ;
    break;}
case 379:
#line 1794 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 380:
#line 1801 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 381:
#line 1808 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 382:
#line 1815 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 383:
#line 1822 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 384:
#line 1829 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 385:
#line 1836 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 386:
#line 1843 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 387:
#line 1850 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 388:
#line 1857 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 389:
#line 1864 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 390:
#line 1871 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 391:
#line 1880 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							  XREF_SUBN);
	        if (xr == NULL) HANDLE_ERROR;
		yyval.ctxt = start_record(REC_SUBN,
					yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[0].tag,
					NULL, GEDCOM_MAKE_NULL(val2));
		START(SUBN, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 392:
#line 1888 "gedcom.y"
{ CHECK0 ;
    break;}
case 393:
#line 1890 "gedcom.y"
{ end_record(REC_SUBN, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 396:
#line 1897 "gedcom.y"
{ OCCUR2(SUBM, 0, 1) ;
    break;}
case 397:
#line 1898 "gedcom.y"
{ OCCUR2(FAMF, 0, 1) ;
    break;}
case 398:
#line 1899 "gedcom.y"
{ OCCUR2(TEMP, 0, 1) ;
    break;}
case 399:
#line 1900 "gedcom.y"
{ OCCUR2(ANCE, 0, 1) ;
    break;}
case 400:
#line 1901 "gedcom.y"
{ OCCUR2(DESC, 0, 1) ;
    break;}
case 401:
#line 1902 "gedcom.y"
{ OCCUR2(ORDI, 0, 1) ;
    break;}
case 402:
#line 1903 "gedcom.y"
{ OCCUR2(RIN, 0, 1) ;
    break;}
case 404:
#line 1909 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							     XREF_SUBM);
		   if (xr == NULL) HANDLE_ERROR;
		   yyval.ctxt = start_element(ELT_SUBN_SUBM,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
		   START(SUBM, yyvsp[-3].number, yyval.ctxt) 
                 ;
    break;}
case 405:
#line 1918 "gedcom.y"
{ CHECK0 ;
    break;}
case 406:
#line 1920 "gedcom.y"
{ end_element(ELT_SUBN_SUBM, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 407:
#line 1927 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBN_FAMF,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(FAMF, yyvsp[-3].number, yyval.ctxt)             
                 ;
    break;}
case 408:
#line 1933 "gedcom.y"
{ CHECK0 ;
    break;}
case 409:
#line 1935 "gedcom.y"
{ end_element(ELT_SUBN_FAMF, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 410:
#line 1942 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBN_TEMP,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(TEMP, yyvsp[-3].number, yyval.ctxt)             
                 ;
    break;}
case 411:
#line 1948 "gedcom.y"
{ CHECK0 ;
    break;}
case 412:
#line 1950 "gedcom.y"
{ end_element(ELT_SUBN_TEMP, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 413:
#line 1957 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBN_ANCE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(ANCE, yyvsp[-3].number, yyval.ctxt)             
                 ;
    break;}
case 414:
#line 1963 "gedcom.y"
{ CHECK0 ;
    break;}
case 415:
#line 1965 "gedcom.y"
{ end_element(ELT_SUBN_ANCE, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 416:
#line 1972 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBN_DESC,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(DESC, yyvsp[-3].number, yyval.ctxt)             
                 ;
    break;}
case 417:
#line 1978 "gedcom.y"
{ CHECK0 ;
    break;}
case 418:
#line 1980 "gedcom.y"
{ end_element(ELT_SUBN_DESC, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 419:
#line 1987 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBN_ORDI,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(ORDI, yyvsp[-3].number, yyval.ctxt)             
                 ;
    break;}
case 420:
#line 1993 "gedcom.y"
{ CHECK0 ;
    break;}
case 421:
#line 1995 "gedcom.y"
{ end_element(ELT_SUBN_ORDI, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 422:
#line 2002 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBN_RIN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(RIN, yyvsp[-3].number, yyval.ctxt)             
                 ;
    break;}
case 423:
#line 2008 "gedcom.y"
{ CHECK0 ;
    break;}
case 424:
#line 2010 "gedcom.y"
{ end_element(ELT_SUBN_RIN, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 425:
#line 2019 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[-2].string, XREF_DEFINED,
							 XREF_SUBM);
	       if (xr == NULL) HANDLE_ERROR;
	       yyval.ctxt = start_record(REC_SUBM,
				       yyvsp[-4].number, GEDCOM_MAKE_XREF_PTR(val1, xr), yyvsp[0].tag,
				       NULL, GEDCOM_MAKE_NULL(val2));
	       START(SUBM, yyvsp[-4].number, yyval.ctxt) ;
    break;}
case 426:
#line 2027 "gedcom.y"
{ CHECK1(NAME) ;
    break;}
case 427:
#line 2029 "gedcom.y"
{ end_record(REC_SUBM, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1));
	       if (compat_mode(C_SUBM_CTRY))
		 compat_free_ctry_parent_context();
	     ;
    break;}
case 430:
#line 2039 "gedcom.y"
{ OCCUR2(NAME, 1, 1) ;
    break;}
case 433:
#line 2042 "gedcom.y"
{ OCCUR2(LANG, 0, 3) ;
    break;}
case 434:
#line 2043 "gedcom.y"
{ OCCUR2(RFN, 0, 1) ;
    break;}
case 435:
#line 2044 "gedcom.y"
{ OCCUR2(RIN, 0, 1) ;
    break;}
case 437:
#line 2046 "gedcom.y"
{ if (!compat_mode(C_SUBM_CTRY))
	                          INVALID_TAG("CTRY");
	                       OCCUR2(CTRY, 0, 1) ;
    break;}
case 439:
#line 2054 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBM_NAME,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(NAME, yyvsp[-3].number, yyval.ctxt)              
                 ;
    break;}
case 440:
#line 2060 "gedcom.y"
{ CHECK0 ;
    break;}
case 441:
#line 2062 "gedcom.y"
{ end_element(ELT_SUBM_NAME, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 442:
#line 2069 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBM_LANG,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(LANG, yyvsp[-3].number, yyval.ctxt)              
                 ;
    break;}
case 443:
#line 2075 "gedcom.y"
{ CHECK0 ;
    break;}
case 444:
#line 2077 "gedcom.y"
{ end_element(ELT_SUBM_LANG, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 445:
#line 2084 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBM_RFN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(RFN, yyvsp[-3].number, yyval.ctxt)              
                 ;
    break;}
case 446:
#line 2090 "gedcom.y"
{ CHECK0 ;
    break;}
case 447:
#line 2092 "gedcom.y"
{ end_element(ELT_SUBM_RFN, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 448:
#line 2099 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUBM_RIN,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(RIN, yyvsp[-3].number, yyval.ctxt)              
                 ;
    break;}
case 449:
#line 2105 "gedcom.y"
{ CHECK0 ;
    break;}
case 450:
#line 2107 "gedcom.y"
{ end_element(ELT_SUBM_RIN, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 451:
#line 2114 "gedcom.y"
{ if (compat_mode(C_SUBM_CTRY)) {
		     yyval.ctxt = compat_generate_addr_ctry_start(yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string);
                   }
                 ;
    break;}
case 452:
#line 2119 "gedcom.y"
{ if (compat_mode (C_SUBM_CTRY)) {
		     compat_generate_addr_ctry_end(yyvsp[-1].ctxt);
		   }
                 ;
    break;}
case 453:
#line 2130 "gedcom.y"
{ OCCUR2(ADDR, 0, 1) ;
    break;}
case 454:
#line 2131 "gedcom.y"
{ OCCUR2(PHON, 0, 3) ;
    break;}
case 455:
#line 2135 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR,
					 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
	        reset_buffer(&concat_buffer);
		safe_buf_append(&concat_buffer, yyvsp[0].string);
	        START(ADDR, yyvsp[-3].number, yyval.ctxt);
		if (compat_mode(C_SUBM_CTRY))
		  compat_save_ctry_parent_context(yyval.ctxt);
              ;
    break;}
case 456:
#line 2145 "gedcom.y"
{ CHECK0 ;
    break;}
case 457:
#line 2147 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
		end_element(ELT_SUB_ADDR, PARENT, yyvsp[-3].ctxt,
			    GEDCOM_MAKE_STRING(val1, complete));
	      ;
    break;}
case 461:
#line 2158 "gedcom.y"
{ OCCUR2(ADR1, 0, 1) ;
    break;}
case 462:
#line 2159 "gedcom.y"
{ OCCUR2(ADR2, 0, 1) ;
    break;}
case 463:
#line 2160 "gedcom.y"
{ OCCUR2(CITY, 0, 1) ;
    break;}
case 464:
#line 2161 "gedcom.y"
{ OCCUR2(STAE, 0, 1) ;
    break;}
case 465:
#line 2162 "gedcom.y"
{ OCCUR2(POST, 0, 1) ;
    break;}
case 466:
#line 2163 "gedcom.y"
{ OCCUR2(CTRY, 0, 1) ;
    break;}
case 468:
#line 2168 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_CONT,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   SAFE_BUF_ADDCHAR(&concat_buffer, '\n');
		   safe_buf_append(&concat_buffer, yyvsp[0].string);
		   START(CONT, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 469:
#line 2176 "gedcom.y"
{ CHECK0 ;
    break;}
case 470:
#line 2178 "gedcom.y"
{ end_element(ELT_SUB_ADDR_CONT, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 471:
#line 2183 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_ADR1,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(ADR1, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 472:
#line 2189 "gedcom.y"
{ CHECK0 ;
    break;}
case 473:
#line 2191 "gedcom.y"
{ end_element(ELT_SUB_ADDR_ADR1, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 474:
#line 2196 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_ADR2,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(ADR2, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 475:
#line 2202 "gedcom.y"
{ CHECK0 ;
    break;}
case 476:
#line 2204 "gedcom.y"
{ end_element(ELT_SUB_ADDR_ADR2, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 477:
#line 2209 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_CITY,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(CITY, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 478:
#line 2215 "gedcom.y"
{ CHECK0 ;
    break;}
case 479:
#line 2217 "gedcom.y"
{ end_element(ELT_SUB_ADDR_CITY, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 480:
#line 2222 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_STAE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(STAE, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 481:
#line 2228 "gedcom.y"
{ CHECK0 ;
    break;}
case 482:
#line 2230 "gedcom.y"
{ end_element(ELT_SUB_ADDR_STAE, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 483:
#line 2235 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_POST,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(POST, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 484:
#line 2241 "gedcom.y"
{ CHECK0 ;
    break;}
case 485:
#line 2243 "gedcom.y"
{ end_element(ELT_SUB_ADDR_POST, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 486:
#line 2248 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ADDR_CTRY,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(CTRY, yyvsp[-3].number, yyval.ctxt)               
                 ;
    break;}
case 487:
#line 2254 "gedcom.y"
{ CHECK0 ;
    break;}
case 488:
#line 2256 "gedcom.y"
{ end_element(ELT_SUB_ADDR_CTRY, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 489:
#line 2262 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PHON,
					 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
	        START(PHON, yyvsp[-3].number, yyval.ctxt)               
              ;
    break;}
case 490:
#line 2268 "gedcom.y"
{ CHECK0 ;
    break;}
case 491:
#line 2270 "gedcom.y"
{ end_element(ELT_SUB_PHON, PARENT, yyvsp[-3].ctxt,
			    GEDCOM_MAKE_NULL(val1));
	      ;
    break;}
case 493:
#line 2280 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							XREF_ANY);
	      if (xr == NULL) HANDLE_ERROR;
	      yyval.ctxt = start_element(ELT_SUB_ASSO,
				       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
				       GEDCOM_MAKE_XREF_PTR(val1, xr));
	      START(ASSO, yyvsp[-3].number, yyval.ctxt) 
            ;
    break;}
case 494:
#line 2289 "gedcom.y"
{ CHECK2(TYPE,RELA) ;
    break;}
case 495:
#line 2291 "gedcom.y"
{ end_element(ELT_SUB_ASSO, PARENT, yyvsp[-3].ctxt,
			  GEDCOM_MAKE_NULL(val1));
	    ;
    break;}
case 497:
#line 2297 "gedcom.y"
{ OCCUR2(TYPE, 1, 1) ;
    break;}
case 498:
#line 2298 "gedcom.y"
{ OCCUR2(RELA, 1, 1) ;
    break;}
case 502:
#line 2305 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ASSO_TYPE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(TYPE, yyvsp[-3].number, yyval.ctxt)                
                 ;
    break;}
case 503:
#line 2311 "gedcom.y"
{ CHECK0 ;
    break;}
case 504:
#line 2313 "gedcom.y"
{ end_element(ELT_SUB_ASSO_TYPE, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 505:
#line 2319 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_ASSO_RELA,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(RELA, yyvsp[-3].number, yyval.ctxt)                
                 ;
    break;}
case 506:
#line 2325 "gedcom.y"
{ CHECK0 ;
    break;}
case 507:
#line 2327 "gedcom.y"
{ end_element(ELT_SUB_ASSO_RELA, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 508:
#line 2333 "gedcom.y"
{ OCCUR2(CHAN, 0, 1) ;
    break;}
case 509:
#line 2337 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_CHAN,
						   PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL, 
						   GEDCOM_MAKE_NULL(val1));
			  START(CHAN, yyvsp[-2].number, yyval.ctxt) 
                        ;
    break;}
case 510:
#line 2343 "gedcom.y"
{ CHECK1(DATE) ;
    break;}
case 511:
#line 2345 "gedcom.y"
{ end_element(ELT_SUB_CHAN, PARENT, yyvsp[-3].ctxt,
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 514:
#line 2354 "gedcom.y"
{ OCCUR2(DATE, 1, 1) ;
    break;}
case 517:
#line 2360 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
			  yyval.ctxt = start_element(ELT_SUB_CHAN_DATE,
						   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
						   GEDCOM_MAKE_DATE(val1, dv));
			  START(DATE, yyvsp[-3].number, yyval.ctxt) ;
    break;}
case 518:
#line 2366 "gedcom.y"
{ CHECK0 ;
    break;}
case 519:
#line 2368 "gedcom.y"
{ end_element(ELT_SUB_CHAN_DATE, PARENT, yyvsp[-3].ctxt,
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 522:
#line 2377 "gedcom.y"
{ OCCUR2(TIME, 0, 1) ;
    break;}
case 524:
#line 2382 "gedcom.y"
{ yyval.ctxt
				 = start_element(ELT_SUB_CHAN_TIME,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			       START(TIME, yyvsp[-3].number, yyval.ctxt) 
                             ;
    break;}
case 525:
#line 2389 "gedcom.y"
{ CHECK0 ;
    break;}
case 526:
#line 2391 "gedcom.y"
{ end_element(ELT_SUB_CHAN_TIME, PARENT, yyvsp[-3].ctxt,
					   GEDCOM_MAKE_NULL(val1));
			     ;
    break;}
case 528:
#line 2401 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							  XREF_FAM);
	      if (xr == NULL) HANDLE_ERROR;
	      yyval.ctxt = start_element(ELT_SUB_FAMC,
				       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
				       GEDCOM_MAKE_XREF_PTR(val1, xr));
	      START(FAMC, yyvsp[-3].number, yyval.ctxt) 
            ;
    break;}
case 529:
#line 2410 "gedcom.y"
{ CHECK0 ;
    break;}
case 530:
#line 2412 "gedcom.y"
{ end_element(ELT_SUB_FAMC, PARENT, yyvsp[-3].ctxt,
			  GEDCOM_MAKE_NULL(val1));
	    ;
    break;}
case 536:
#line 2427 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_FAMC_PEDI,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(PEDI, yyvsp[-3].number, yyval.ctxt)  
                 ;
    break;}
case 537:
#line 2433 "gedcom.y"
{ CHECK0 ;
    break;}
case 538:
#line 2435 "gedcom.y"
{ end_element(ELT_SUB_FAMC_PEDI, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 541:
#line 2446 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_CONT,
				       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
				       GEDCOM_MAKE_NULL_OR_STRING(val1, yyvsp[0].string));
	      SAFE_BUF_ADDCHAR(&concat_buffer, '\n');
	      if (GEDCOM_IS_STRING(&val1))
	        safe_buf_append(&concat_buffer, yyvsp[0].string);
	      START(CONT, yyvsp[-3].number, yyval.ctxt)  
            ;
    break;}
case 542:
#line 2455 "gedcom.y"
{ CHECK0 ;
    break;}
case 543:
#line 2457 "gedcom.y"
{ end_element(ELT_SUB_CONT, PARENT, yyvsp[-3].ctxt,
			  GEDCOM_MAKE_NULL(val1));
	    ;
    break;}
case 544:
#line 2463 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_CONC,
				       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
				       GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
	      if (compat_mode(C_CONC_NEEDS_SPACE)) {
		safe_buf_append(&concat_buffer, " ");
	      }
	      safe_buf_append(&concat_buffer, yyvsp[0].string);
	      START(CONC, yyvsp[-3].number, yyval.ctxt)  
            ;
    break;}
case 545:
#line 2473 "gedcom.y"
{ CHECK0 ;
    break;}
case 546:
#line 2475 "gedcom.y"
{ end_element(ELT_SUB_CONC, PARENT, yyvsp[-3].ctxt,
			  GEDCOM_MAKE_NULL(val1));
	    ;
    break;}
case 549:
#line 2484 "gedcom.y"
{ if (!compat_mode(C_NOTE_CONC_SOUR))
	                                 INVALID_TAG("SOUR");
	                               OCCUR2(SOUR, 0, 1) ;
    break;}
case 551:
#line 2492 "gedcom.y"
{ if (compat_mode(C_NOTE_CONC_SOUR)) {
		          yyval.ctxt
			    = compat_generate_note_sour_start(GRANDPARENT(1),
							      yyvsp[-4].number, yyvsp[-2].tag, yyvsp[0].string);
			  if (yyval.ctxt == (void*)-1) HANDLE_ERROR;
                        }
                      ;
    break;}
case 552:
#line 2501 "gedcom.y"
{ if (compat_mode(C_NOTE_CONC_SOUR)) {
		          compat_generate_note_sour_end(yyvsp[-2].ctxt);
		        }
                      ;
    break;}
case 553:
#line 2508 "gedcom.y"
{ OCCUR2(TYPE, 0, 1) ;
    break;}
case 554:
#line 2509 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 557:
#line 2512 "gedcom.y"
{ OCCUR2(AGE, 0, 1) ;
    break;}
case 558:
#line 2513 "gedcom.y"
{ OCCUR2(AGNC, 0, 1) ;
    break;}
case 559:
#line 2514 "gedcom.y"
{ OCCUR2(CAUS, 0, 1) ;
    break;}
case 563:
#line 2521 "gedcom.y"
{ yyval.ctxt
			     = start_element(ELT_SUB_EVT_TYPE,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					     GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			   START(TYPE, yyvsp[-3].number, yyval.ctxt)  
                         ;
    break;}
case 564:
#line 2528 "gedcom.y"
{ CHECK0 ;
    break;}
case 565:
#line 2530 "gedcom.y"
{ end_element(ELT_SUB_EVT_TYPE, PARENT, yyvsp[-3].ctxt,
				       GEDCOM_MAKE_NULL(val1));
			 ;
    break;}
case 566:
#line 2535 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
			   yyval.ctxt
			     = start_element(ELT_SUB_EVT_DATE,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					     GEDCOM_MAKE_DATE(val1, dv));
			   START(DATE, yyvsp[-3].number, yyval.ctxt)  
                         ;
    break;}
case 567:
#line 2543 "gedcom.y"
{ CHECK0 ;
    break;}
case 568:
#line 2545 "gedcom.y"
{ end_element(ELT_SUB_EVT_DATE, PARENT, yyvsp[-3].ctxt,
				       GEDCOM_MAKE_NULL(val1));
			 ;
    break;}
case 569:
#line 2550 "gedcom.y"
{ struct age_value age = gedcom_parse_age(yyvsp[0].string);
			   yyval.ctxt
			     = start_element(ELT_SUB_EVT_AGE,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					     GEDCOM_MAKE_AGE(val1, age));
			   START(AGE, yyvsp[-3].number, yyval.ctxt)  
                         ;
    break;}
case 570:
#line 2558 "gedcom.y"
{ CHECK0 ;
    break;}
case 571:
#line 2560 "gedcom.y"
{ end_element(ELT_SUB_EVT_AGE, PARENT, yyvsp[-3].ctxt,
				       GEDCOM_MAKE_NULL(val1));
			 ;
    break;}
case 572:
#line 2565 "gedcom.y"
{ yyval.ctxt
			     = start_element(ELT_SUB_EVT_AGNC,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					     GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			   START(AGNC, yyvsp[-3].number, yyval.ctxt)  
                         ;
    break;}
case 573:
#line 2572 "gedcom.y"
{ CHECK0 ;
    break;}
case 574:
#line 2574 "gedcom.y"
{ end_element(ELT_SUB_EVT_AGNC, PARENT, yyvsp[-3].ctxt,
				       GEDCOM_MAKE_NULL(val1));
			 ;
    break;}
case 575:
#line 2579 "gedcom.y"
{ yyval.ctxt
			     = start_element(ELT_SUB_EVT_CAUS,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string, 
					     GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			   START(CAUS, yyvsp[-3].number, yyval.ctxt)  
                         ;
    break;}
case 576:
#line 2586 "gedcom.y"
{ CHECK0 ;
    break;}
case 577:
#line 2588 "gedcom.y"
{ end_element(ELT_SUB_EVT_CAUS, PARENT, yyvsp[-3].ctxt,
				       GEDCOM_MAKE_NULL(val1));
			 ;
    break;}
case 580:
#line 2599 "gedcom.y"
{ yyval.ctxt
		     = start_element(ELT_SUB_FAM_EVT,
				     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
				     GEDCOM_MAKE_NULL_OR_STRING(val1, yyvsp[0].string));
		   START2(yyvsp[-3].number, yyval.ctxt);
		 ;
    break;}
case 581:
#line 2606 "gedcom.y"
{ CHECK0 ;
    break;}
case 582:
#line 2608 "gedcom.y"
{ end_element(ELT_SUB_FAM_EVT, PARENT, yyvsp[-3].ctxt,
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 583:
#line 2613 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(ANUL) ;
    break;}
case 584:
#line 2614 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CENS) ;
    break;}
case 585:
#line 2615 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(DIV) ;
    break;}
case 586:
#line 2616 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(DIVF) ;
    break;}
case 587:
#line 2617 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(ENGA) ;
    break;}
case 588:
#line 2618 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(MARR) ;
    break;}
case 589:
#line 2619 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(MARB) ;
    break;}
case 590:
#line 2620 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(MARC) ;
    break;}
case 591:
#line 2621 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(MARL) ;
    break;}
case 592:
#line 2622 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(MARS) ;
    break;}
case 596:
#line 2630 "gedcom.y"
{ OCCUR2(HUSB, 0, 1) ;
    break;}
case 597:
#line 2631 "gedcom.y"
{ OCCUR2(WIFE, 0, 1) ;
    break;}
case 599:
#line 2636 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_FAM_EVT_HUSB,
						PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
						GEDCOM_MAKE_NULL(val1));
		       START(HUSB, yyvsp[-2].number, yyval.ctxt) 
                     ;
    break;}
case 600:
#line 2642 "gedcom.y"
{ CHECK1(AGE) ;
    break;}
case 601:
#line 2644 "gedcom.y"
{ end_element(ELT_SUB_FAM_EVT_HUSB, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 604:
#line 2653 "gedcom.y"
{ OCCUR2(AGE, 1, 1) ;
    break;}
case 606:
#line 2658 "gedcom.y"
{ struct age_value age = gedcom_parse_age(yyvsp[0].string);
		      yyval.ctxt = start_element(ELT_SUB_FAM_EVT_AGE,
					       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					       GEDCOM_MAKE_AGE(val1, age));
		      START(AGE, yyvsp[-3].number, yyval.ctxt)   
                    ;
    break;}
case 607:
#line 2665 "gedcom.y"
{ CHECK0 ;
    break;}
case 608:
#line 2667 "gedcom.y"
{ end_element(ELT_SUB_FAM_EVT_AGE, PARENT, yyvsp[-3].ctxt,
				  GEDCOM_MAKE_NULL(val1));
		    ;
    break;}
case 609:
#line 2673 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_FAM_EVT_WIFE,
						PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
						GEDCOM_MAKE_NULL(val1));
		       START(WIFE, yyvsp[-2].number, yyval.ctxt) 
                     ;
    break;}
case 610:
#line 2679 "gedcom.y"
{ CHECK1(AGE) ;
    break;}
case 611:
#line 2681 "gedcom.y"
{ end_element(ELT_SUB_FAM_EVT_WIFE, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 612:
#line 2687 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_FAM_EVT_EVEN,
						PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
						GEDCOM_MAKE_NULL(val1));
		       START(EVEN, yyvsp[-2].number, yyval.ctxt) 
                    ;
    break;}
case 613:
#line 2693 "gedcom.y"
{ CHECK0 ;
    break;}
case 614:
#line 2695 "gedcom.y"
{ end_element(ELT_SUB_FAM_EVT_EVEN, PARENT, yyvsp[-3].ctxt,
				  GEDCOM_MAKE_NULL(val1));
		    ;
    break;}
case 618:
#line 2705 "gedcom.y"
{ OCCUR2(HUSB, 0, 1) ;
    break;}
case 619:
#line 2706 "gedcom.y"
{ OCCUR2(WIFE, 0, 1) ;
    break;}
case 622:
#line 2712 "gedcom.y"
{ OCCUR2(RIN, 0, 1) ;
    break;}
case 623:
#line 2716 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_IDENT_REFN,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					     GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		    START(REFN, yyvsp[-3].number, yyval.ctxt)  
                  ;
    break;}
case 624:
#line 2722 "gedcom.y"
{ CHECK0 ;
    break;}
case 625:
#line 2724 "gedcom.y"
{ end_element(ELT_SUB_IDENT_REFN, PARENT, yyvsp[-3].ctxt,
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 628:
#line 2733 "gedcom.y"
{ OCCUR2(TYPE, 0, 1) ;
    break;}
case 630:
#line 2738 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_IDENT_REFN_TYPE,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		         START(TYPE, yyvsp[-3].number, yyval.ctxt)    
                       ;
    break;}
case 631:
#line 2745 "gedcom.y"
{ CHECK0 ;
    break;}
case 632:
#line 2747 "gedcom.y"
{ end_element(ELT_SUB_IDENT_REFN_TYPE, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 633:
#line 2753 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_IDENT_RIN,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					     GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		    START(RIN, yyvsp[-3].number, yyval.ctxt)    
                  ;
    break;}
case 634:
#line 2759 "gedcom.y"
{ CHECK0 ;
    break;}
case 635:
#line 2761 "gedcom.y"
{ end_element(ELT_SUB_IDENT_RIN, PARENT, yyvsp[-3].ctxt,
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 638:
#line 2772 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_INDIV_ATTR,
					     PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					     GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		    START2(yyvsp[-3].number, yyval.ctxt);
		  ;
    break;}
case 639:
#line 2778 "gedcom.y"
{ CHECK0 ;
    break;}
case 640:
#line 2780 "gedcom.y"
{ end_element(ELT_SUB_INDIV_ATTR, PARENT, yyvsp[-3].ctxt,
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 641:
#line 2785 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CAST) ;
    break;}
case 642:
#line 2786 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(DSCR) ;
    break;}
case 643:
#line 2787 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(EDUC) ;
    break;}
case 644:
#line 2788 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(IDNO) ;
    break;}
case 645:
#line 2789 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(NATI) ;
    break;}
case 646:
#line 2790 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(NCHI) ;
    break;}
case 647:
#line 2791 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(NMR) ;
    break;}
case 648:
#line 2792 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(OCCU) ;
    break;}
case 649:
#line 2793 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(PROP) ;
    break;}
case 650:
#line 2794 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(RELI) ;
    break;}
case 651:
#line 2795 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(SSN) ;
    break;}
case 652:
#line 2796 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(TITL) ;
    break;}
case 653:
#line 2800 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_INDIV_RESI,
					     PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					     GEDCOM_MAKE_NULL(val1));
		    START(RESI, yyvsp[-2].number, yyval.ctxt)  
                  ;
    break;}
case 654:
#line 2806 "gedcom.y"
{ CHECK0 ;
    break;}
case 655:
#line 2808 "gedcom.y"
{ end_element(ELT_SUB_INDIV_RESI, PARENT, yyvsp[-3].ctxt,
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 664:
#line 2829 "gedcom.y"
{ yyval.ctxt
		      = start_element(ELT_SUB_INDIV_BIRT,
				      PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
				      GEDCOM_MAKE_NULL_OR_STRING(val1, yyvsp[0].string));
		    START2(yyvsp[-3].number, yyval.ctxt);
		  ;
    break;}
case 665:
#line 2836 "gedcom.y"
{ CHECK0 ;
    break;}
case 666:
#line 2838 "gedcom.y"
{ end_element(ELT_SUB_INDIV_BIRT, PARENT, yyvsp[-3].ctxt,
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 667:
#line 2843 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BIRT) ;
    break;}
case 668:
#line 2844 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CHR) ;
    break;}
case 672:
#line 2852 "gedcom.y"
{ OCCUR2(FAMC,0, 1) ;
    break;}
case 674:
#line 2857 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string,
								   XREF_USED,
								   XREF_FAM);
		         if (xr == NULL) HANDLE_ERROR;
			 yyval.ctxt
			   = start_element(ELT_SUB_INDIV_BIRT_FAMC,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		         START(FAMC, yyvsp[-3].number, yyval.ctxt) 
                       ;
    break;}
case 675:
#line 2868 "gedcom.y"
{ CHECK0 ;
    break;}
case 676:
#line 2870 "gedcom.y"
{ end_element(ELT_SUB_INDIV_BIRT_FAMC, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 677:
#line 2876 "gedcom.y"
{ yyval.ctxt
		      = start_element(ELT_SUB_INDIV_GEN,
				      PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
				      GEDCOM_MAKE_NULL_OR_STRING(val1, yyvsp[0].string));
		    START2(yyvsp[-3].number, yyval.ctxt);
		  ;
    break;}
case 678:
#line 2883 "gedcom.y"
{ CHECK0 ;
    break;}
case 679:
#line 2885 "gedcom.y"
{ end_element(ELT_SUB_INDIV_GEN, PARENT, yyvsp[-3].ctxt, 
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 680:
#line 2890 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(DEAT) ;
    break;}
case 681:
#line 2891 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BURI) ;
    break;}
case 682:
#line 2892 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CREM) ;
    break;}
case 683:
#line 2893 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BAPM) ;
    break;}
case 684:
#line 2894 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BARM) ;
    break;}
case 685:
#line 2895 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BASM) ;
    break;}
case 686:
#line 2896 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BLES) ;
    break;}
case 687:
#line 2897 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CHRA) ;
    break;}
case 688:
#line 2898 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CONF) ;
    break;}
case 689:
#line 2899 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(FCOM) ;
    break;}
case 690:
#line 2900 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(ORDN) ;
    break;}
case 691:
#line 2901 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(NATU) ;
    break;}
case 692:
#line 2902 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(EMIG) ;
    break;}
case 693:
#line 2903 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(IMMI) ;
    break;}
case 694:
#line 2904 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CENS) ;
    break;}
case 695:
#line 2905 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(PROB) ;
    break;}
case 696:
#line 2906 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(WILL) ;
    break;}
case 697:
#line 2907 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(GRAD) ;
    break;}
case 698:
#line 2908 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(RETI) ;
    break;}
case 703:
#line 2920 "gedcom.y"
{ yyval.ctxt
		      = start_element(ELT_SUB_INDIV_ADOP,
				      PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
				      GEDCOM_MAKE_NULL_OR_STRING(val1, yyvsp[0].string));
		    START(ADOP, yyvsp[-3].number, yyval.ctxt) ;
    break;}
case 704:
#line 2926 "gedcom.y"
{ CHECK0 ;
    break;}
case 705:
#line 2928 "gedcom.y"
{ end_element(ELT_SUB_INDIV_ADOP, PARENT, yyvsp[-3].ctxt, 
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 709:
#line 2938 "gedcom.y"
{ OCCUR2(FAMC,0, 1) ;
    break;}
case 711:
#line 2943 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string,
								   XREF_USED,
								   XREF_FAM);
		         if (xr == NULL) HANDLE_ERROR;
			 yyval.ctxt
			   = start_element(ELT_SUB_INDIV_ADOP_FAMC,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		         START(FAMC, yyvsp[-3].number, yyval.ctxt) ;
    break;}
case 712:
#line 2953 "gedcom.y"
{ CHECK0 ;
    break;}
case 713:
#line 2955 "gedcom.y"
{ end_element(ELT_SUB_INDIV_ADOP_FAMC, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 716:
#line 2964 "gedcom.y"
{ OCCUR2(ADOP,0, 1) ;
    break;}
case 718:
#line 2969 "gedcom.y"
{ yyval.ctxt
				= start_element(ELT_SUB_INDIV_ADOP_FAMC_ADOP,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			      START(ADOP, yyvsp[-3].number, yyval.ctxt) ;
    break;}
case 719:
#line 2975 "gedcom.y"
{ CHECK0 ;
    break;}
case 720:
#line 2977 "gedcom.y"
{ end_element(ELT_SUB_INDIV_ADOP_FAMC_ADOP,
					  PARENT, yyvsp[-3].ctxt, 
					  GEDCOM_MAKE_NULL(val1));
			    ;
    break;}
case 721:
#line 2984 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_INDIV_EVEN,
					     PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					     GEDCOM_MAKE_NULL(val1));
		    START(EVEN, yyvsp[-2].number, yyval.ctxt) ;
    break;}
case 722:
#line 2989 "gedcom.y"
{ CHECK0 ;
    break;}
case 723:
#line 2991 "gedcom.y"
{ end_element(ELT_SUB_INDIV_EVEN, PARENT, yyvsp[-3].ctxt, 
				GEDCOM_MAKE_NULL(val1));
		  ;
    break;}
case 726:
#line 3002 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LIO_BAPL,
					   PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					   GEDCOM_MAKE_NULL(val1));
		  START2(yyvsp[-2].number, yyval.ctxt);
		;
    break;}
case 727:
#line 3008 "gedcom.y"
{ CHECK0 ;
    break;}
case 728:
#line 3010 "gedcom.y"
{ end_element(ELT_SUB_LIO_BAPL, PARENT, yyvsp[-3].ctxt, 
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 729:
#line 3015 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(BAPL) ;
    break;}
case 730:
#line 3016 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(CONL) ;
    break;}
case 731:
#line 3017 "gedcom.y"
{ yyval.tag = yyvsp[0].tag; START1(ENDL) ;
    break;}
case 734:
#line 3024 "gedcom.y"
{ OCCUR2(STAT, 0, 1) ;
    break;}
case 735:
#line 3025 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 736:
#line 3026 "gedcom.y"
{ OCCUR2(TEMP, 0, 1) ;
    break;}
case 737:
#line 3027 "gedcom.y"
{ OCCUR2(PLAC, 0, 1) ;
    break;}
case 741:
#line 3034 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LIO_BAPL_STAT,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		       START(STAT, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 742:
#line 3040 "gedcom.y"
{ CHECK0 ;
    break;}
case 743:
#line 3042 "gedcom.y"
{ end_element(ELT_SUB_LIO_BAPL_STAT, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 744:
#line 3047 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
		       yyval.ctxt = start_element(ELT_SUB_LIO_BAPL_DATE,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_DATE(val1, dv));
		       START(DATE, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 745:
#line 3054 "gedcom.y"
{ CHECK0 ;
    break;}
case 746:
#line 3056 "gedcom.y"
{ end_element(ELT_SUB_LIO_BAPL_DATE, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 747:
#line 3061 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LIO_BAPL_TEMP,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		       START(TEMP, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 748:
#line 3067 "gedcom.y"
{ CHECK0 ;
    break;}
case 749:
#line 3069 "gedcom.y"
{ end_element(ELT_SUB_LIO_BAPL_TEMP, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 750:
#line 3074 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LIO_BAPL_PLAC,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		       START(PLAC, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 751:
#line 3080 "gedcom.y"
{ CHECK0 ;
    break;}
case 752:
#line 3082 "gedcom.y"
{ end_element(ELT_SUB_LIO_BAPL_PLAC, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 753:
#line 3088 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LIO_SLGC,
					   PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					   GEDCOM_MAKE_NULL(val1));
		  START(SLGC, yyvsp[-2].number, yyval.ctxt) 
                ;
    break;}
case 754:
#line 3094 "gedcom.y"
{ if (compat_mode(C_NO_SLGC_FAMC) && ! CHK_COND(FAMC))
		    compat_generate_slgc_famc_link(yyvsp[-1].ctxt);
		  else CHK(FAMC);
		  CHECK0;
		;
    break;}
case 755:
#line 3100 "gedcom.y"
{ end_element(ELT_SUB_LIO_SLGC, PARENT, yyvsp[-3].ctxt, 
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 759:
#line 3110 "gedcom.y"
{ OCCUR2(FAMC, 1, 1) ;
    break;}
case 760:
#line 3114 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
								 XREF_FAM);
		       if (xr == NULL) HANDLE_ERROR;
		       yyval.ctxt
			 = start_element(ELT_SUB_LIO_SLGC_FAMC,
					 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					 GEDCOM_MAKE_XREF_PTR(val1, xr));
		       START(FAMC, yyvsp[-3].number, yyval.ctxt) 
                     ;
    break;}
case 761:
#line 3124 "gedcom.y"
{ CHECK0 ;
    break;}
case 762:
#line 3126 "gedcom.y"
{ end_element(ELT_SUB_LIO_SLGC_FAMC, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 764:
#line 3136 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LSS_SLGS,
					   PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
					   GEDCOM_MAKE_NULL(val1));
		  START(SLGS, yyvsp[-2].number, yyval.ctxt) ;
    break;}
case 765:
#line 3141 "gedcom.y"
{ CHECK0 ;
    break;}
case 766:
#line 3143 "gedcom.y"
{ end_element(ELT_SUB_LIO_SLGC, PARENT, yyvsp[-3].ctxt, 
			      GEDCOM_MAKE_NULL(val1));
		;
    break;}
case 769:
#line 3152 "gedcom.y"
{ OCCUR2(STAT, 0, 1) ;
    break;}
case 770:
#line 3153 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 771:
#line 3154 "gedcom.y"
{ OCCUR2(TEMP, 0, 1) ;
    break;}
case 772:
#line 3155 "gedcom.y"
{ OCCUR2(PLAC, 0, 1) ;
    break;}
case 776:
#line 3162 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LSS_SLGS_STAT,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		       START(STAT, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 777:
#line 3168 "gedcom.y"
{ CHECK0 ;
    break;}
case 778:
#line 3170 "gedcom.y"
{ end_element(ELT_SUB_LSS_SLGS_STAT, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 779:
#line 3175 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
		       yyval.ctxt = start_element(ELT_SUB_LSS_SLGS_DATE,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_DATE(val1, dv));
		       START(DATE, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 780:
#line 3182 "gedcom.y"
{ CHECK0 ;
    break;}
case 781:
#line 3184 "gedcom.y"
{ end_element(ELT_SUB_LSS_SLGS_DATE, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 782:
#line 3189 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LSS_SLGS_TEMP,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		       START(TEMP, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 783:
#line 3195 "gedcom.y"
{ CHECK0 ;
    break;}
case 784:
#line 3197 "gedcom.y"
{ end_element(ELT_SUB_LSS_SLGS_TEMP, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 785:
#line 3202 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_LSS_SLGS_PLAC,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		       START(PLAC, yyvsp[-3].number, yyval.ctxt)    
                     ;
    break;}
case 786:
#line 3208 "gedcom.y"
{ CHECK0 ;
    break;}
case 787:
#line 3210 "gedcom.y"
{ end_element(ELT_SUB_LSS_SLGS_PLAC, PARENT, yyvsp[-3].ctxt,
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 790:
#line 3221 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string,
								    XREF_USED,
								    XREF_OBJE);
			  if (xr == NULL) HANDLE_ERROR;
			  yyval.ctxt
			    = start_element(ELT_SUB_MULTIM_OBJE,
					    PARENT, yyvsp[-4].number, yyvsp[-2].tag, yyvsp[0].string,
					    GEDCOM_MAKE_XREF_PTR(val1, xr));
			  START(OBJE, yyvsp[-4].number, yyval.ctxt)     
                        ;
    break;}
case 791:
#line 3232 "gedcom.y"
{ CHECK0 ;
    break;}
case 792:
#line 3234 "gedcom.y"
{ end_element(ELT_SUB_MULTIM_OBJE, PARENT, yyvsp[-3].ctxt,
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 793:
#line 3240 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_MULTIM_OBJE,
						  PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
						  GEDCOM_MAKE_NULL(val1));
		         START(OBJE, yyvsp[-2].number, yyval.ctxt) 
                       ;
    break;}
case 794:
#line 3246 "gedcom.y"
{ CHECK2(FORM,FILE) ;
    break;}
case 795:
#line 3248 "gedcom.y"
{ end_element(ELT_SUB_MULTIM_OBJE, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 798:
#line 3257 "gedcom.y"
{ OCCUR2(FORM, 1, 1) ;
    break;}
case 799:
#line 3258 "gedcom.y"
{ OCCUR2(TITL, 0, 1) ;
    break;}
case 800:
#line 3259 "gedcom.y"
{ OCCUR2(FILE, 1, 1) ;
    break;}
case 803:
#line 3265 "gedcom.y"
{ yyval.ctxt
			    = start_element(ELT_SUB_MULTIM_OBJE_FORM,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		          START(FORM, yyvsp[-3].number, yyval.ctxt)     
                        ;
    break;}
case 804:
#line 3272 "gedcom.y"
{ CHECK0 ;
    break;}
case 805:
#line 3274 "gedcom.y"
{ end_element(ELT_SUB_MULTIM_OBJE_FORM,
				      PARENT, yyvsp[-3].ctxt, 
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 806:
#line 3280 "gedcom.y"
{ yyval.ctxt
			    = start_element(ELT_SUB_MULTIM_OBJE_TITL,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		          START(TITL, yyvsp[-3].number, yyval.ctxt)     
                        ;
    break;}
case 807:
#line 3287 "gedcom.y"
{ CHECK0 ;
    break;}
case 808:
#line 3289 "gedcom.y"
{ end_element(ELT_SUB_MULTIM_OBJE_TITL,
				      PARENT, yyvsp[-3].ctxt, 
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 809:
#line 3295 "gedcom.y"
{ yyval.ctxt
			    = start_element(ELT_SUB_MULTIM_OBJE_FILE,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		          START(FILE, yyvsp[-3].number, yyval.ctxt)     
                        ;
    break;}
case 810:
#line 3302 "gedcom.y"
{ CHECK0 ;
    break;}
case 811:
#line 3304 "gedcom.y"
{ end_element(ELT_SUB_MULTIM_OBJE_FILE,
				      PARENT, yyvsp[-3].ctxt, 
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 814:
#line 3316 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string,
								   XREF_USED,
								   XREF_NOTE);
		         if (xr == NULL) HANDLE_ERROR;
		         yyval.ctxt
			   = start_element(ELT_SUB_NOTE,
					   PARENT, yyvsp[-4].number, yyvsp[-2].tag, yyvsp[0].string,
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
			 START(NOTE, yyvsp[-4].number, yyval.ctxt) 
                       ;
    break;}
case 815:
#line 3327 "gedcom.y"
{ CHECK0 ;
    break;}
case 816:
#line 3329 "gedcom.y"
{ end_element(ELT_SUB_NOTE, PARENT, yyvsp[-3].ctxt, 
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 821:
#line 3343 "gedcom.y"
{ char* str = yyvsp[0].string;
		        if (compat_mode(C_NOTE_TOO_LONG))
			  str = compat_long_line_get_prefix(yyvsp[0].string);
			yyval.ctxt
			  = start_element(ELT_SUB_NOTE,
					  PARENT, yyvsp[-3].number, yyvsp[-1].tag, str,
					GEDCOM_MAKE_NULL_OR_STRING(val1, str));
		        reset_buffer(&concat_buffer);
			if (yyvsp[0].string)
			  safe_buf_append(&concat_buffer, yyvsp[0].string);
		        START(NOTE, yyvsp[-3].number, yyval.ctxt);
			if (compat_mode(C_NOTE_TOO_LONG))
			  compat_long_line_finish(yyval.ctxt, yyvsp[-3].number);
                      ;
    break;}
case 822:
#line 3358 "gedcom.y"
{ CHECK0 ;
    break;}
case 823:
#line 3360 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
			end_element(ELT_SUB_NOTE, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_STRING(val1, complete));
		      ;
    break;}
case 830:
#line 3380 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(NAME, yyvsp[-3].number, yyval.ctxt)  
                 ;
    break;}
case 831:
#line 3386 "gedcom.y"
{ CHECK0 ;
    break;}
case 832:
#line 3388 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME, PARENT, yyvsp[-3].ctxt, 
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 835:
#line 3397 "gedcom.y"
{ OCCUR2(NPFX, 0, 1) ;
    break;}
case 836:
#line 3398 "gedcom.y"
{ OCCUR2(GIVN, 0, 1) ;
    break;}
case 837:
#line 3399 "gedcom.y"
{ OCCUR2(NICK, 0, 1) ;
    break;}
case 838:
#line 3400 "gedcom.y"
{ OCCUR2(SPFX, 0, 1) ;
    break;}
case 839:
#line 3401 "gedcom.y"
{ OCCUR2(SURN, 0, 1) ;
    break;}
case 840:
#line 3402 "gedcom.y"
{ OCCUR2(NSFX, 0, 1) ;
    break;}
case 844:
#line 3409 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME_NPFX,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(NPFX, yyvsp[-3].number, yyval.ctxt)     
                      ;
    break;}
case 845:
#line 3415 "gedcom.y"
{ CHECK0 ;
    break;}
case 846:
#line 3417 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME_NPFX, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 847:
#line 3422 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME_GIVN,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(GIVN, yyvsp[-3].number, yyval.ctxt)     
                      ;
    break;}
case 848:
#line 3428 "gedcom.y"
{ CHECK0 ;
    break;}
case 849:
#line 3430 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME_GIVN, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 850:
#line 3435 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME_NICK,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(NICK, yyvsp[-3].number, yyval.ctxt)     
                      ;
    break;}
case 851:
#line 3441 "gedcom.y"
{ CHECK0 ;
    break;}
case 852:
#line 3443 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME_NICK, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 853:
#line 3448 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME_SPFX,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(SPFX, yyvsp[-3].number, yyval.ctxt)     
                      ;
    break;}
case 854:
#line 3454 "gedcom.y"
{ CHECK0 ;
    break;}
case 855:
#line 3456 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME_SPFX, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 856:
#line 3461 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME_SURN,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(SURN, yyvsp[-3].number, yyval.ctxt)     
                      ;
    break;}
case 857:
#line 3467 "gedcom.y"
{ CHECK0 ;
    break;}
case 858:
#line 3469 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME_SURN, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 859:
#line 3474 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_PERS_NAME_NSFX,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        START(NSFX, yyvsp[-3].number, yyval.ctxt)     
                      ;
    break;}
case 860:
#line 3480 "gedcom.y"
{ CHECK0 ;
    break;}
case 861:
#line 3482 "gedcom.y"
{ end_element(ELT_SUB_PERS_NAME_NSFX, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_NULL(val1));
		      ;
    break;}
case 863:
#line 3492 "gedcom.y"
{ yyval.ctxt
			    = start_element(ELT_SUB_PLAC,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		          START(PLAC, yyvsp[-3].number, yyval.ctxt)  
                        ;
    break;}
case 864:
#line 3499 "gedcom.y"
{ CHECK0 ;
    break;}
case 865:
#line 3501 "gedcom.y"
{ end_element(ELT_SUB_PLAC, PARENT, yyvsp[-3].ctxt, 
				      GEDCOM_MAKE_NULL(val1));
			;
    break;}
case 868:
#line 3510 "gedcom.y"
{ OCCUR2(FORM, 0, 1) ;
    break;}
case 872:
#line 3517 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_PLAC_FORM,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		         START(FORM, yyvsp[-3].number, yyval.ctxt)     
                       ;
    break;}
case 873:
#line 3524 "gedcom.y"
{ CHECK0 ;
    break;}
case 874:
#line 3526 "gedcom.y"
{ end_element(ELT_SUB_PLAC_FORM, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 877:
#line 3537 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string,
								   XREF_USED,
								   XREF_SOUR);
		         if (xr == NULL) HANDLE_ERROR;
			 yyval.ctxt
			   = start_element(ELT_SUB_SOUR,
					   PARENT, yyvsp[-4].number, yyvsp[-2].tag, yyvsp[0].string,
					   GEDCOM_MAKE_XREF_PTR(val1, xr));
		         START(SOUR, yyvsp[-4].number, yyval.ctxt) 
                       ;
    break;}
case 878:
#line 3548 "gedcom.y"
{ CHECK0 ;
    break;}
case 879:
#line 3550 "gedcom.y"
{ end_element(ELT_SUB_SOUR, PARENT, yyvsp[-3].ctxt, 
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 882:
#line 3559 "gedcom.y"
{ OCCUR2(PAGE, 0, 1) ;
    break;}
case 883:
#line 3560 "gedcom.y"
{ OCCUR2(EVEN, 0, 1) ;
    break;}
case 884:
#line 3561 "gedcom.y"
{ OCCUR2(DATA, 0, 1) ;
    break;}
case 885:
#line 3562 "gedcom.y"
{ OCCUR2(QUAY, 0, 1) ;
    break;}
case 889:
#line 3569 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_SOUR_PAGE,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		         START(PAGE, yyvsp[-3].number, yyval.ctxt)     
                       ;
    break;}
case 890:
#line 3576 "gedcom.y"
{ CHECK0 ;
    break;}
case 891:
#line 3578 "gedcom.y"
{ end_element(ELT_SUB_SOUR_PAGE, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 892:
#line 3584 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_SOUR_EVEN,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		         START(EVEN, yyvsp[-3].number, yyval.ctxt)     
                       ;
    break;}
case 893:
#line 3591 "gedcom.y"
{ CHECK0 ;
    break;}
case 894:
#line 3593 "gedcom.y"
{ end_element(ELT_SUB_SOUR_EVEN, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 897:
#line 3602 "gedcom.y"
{ OCCUR2(ROLE, 0, 1) ;
    break;}
case 899:
#line 3607 "gedcom.y"
{ yyval.ctxt
			      = start_element(ELT_SUB_SOUR_EVEN_ROLE,
					      PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					      GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
			    START(ROLE, yyvsp[-3].number, yyval.ctxt)     
                          ;
    break;}
case 900:
#line 3614 "gedcom.y"
{ CHECK0 ;
    break;}
case 901:
#line 3616 "gedcom.y"
{ end_element(ELT_SUB_SOUR_EVEN_ROLE,
					PARENT, yyvsp[-3].ctxt, 
					GEDCOM_MAKE_NULL(val1));
			  ;
    break;}
case 902:
#line 3623 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_SOUR_DATA,
						  PARENT, yyvsp[-2].number, yyvsp[0].tag, NULL,
						  GEDCOM_MAKE_NULL(val1));
		         START(DATA, yyvsp[-2].number, yyval.ctxt) 
                       ;
    break;}
case 903:
#line 3629 "gedcom.y"
{ CHECK0 ;
    break;}
case 904:
#line 3631 "gedcom.y"
{ end_element(ELT_SUB_SOUR_DATA, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 907:
#line 3640 "gedcom.y"
{ OCCUR2(DATE, 0, 1) ;
    break;}
case 910:
#line 3646 "gedcom.y"
{ struct date_value dv = gedcom_parse_date(yyvsp[0].string);
			      yyval.ctxt
				= start_element(ELT_SUB_SOUR_DATA_DATE,
						PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						GEDCOM_MAKE_DATE(val1, dv));
			      START(DATE, yyvsp[-3].number, yyval.ctxt)     
                            ;
    break;}
case 911:
#line 3654 "gedcom.y"
{ CHECK0 ;
    break;}
case 912:
#line 3656 "gedcom.y"
{ end_element(ELT_SUB_SOUR_DATA_DATE,
					  PARENT, yyvsp[-3].ctxt, 
					  GEDCOM_MAKE_NULL(val1));
			    ;
    break;}
case 913:
#line 3663 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_SOUR_TEXT,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        reset_buffer(&concat_buffer);
		        safe_buf_append(&concat_buffer, yyvsp[0].string);
		        START(TEXT, yyvsp[-3].number, yyval.ctxt)  
                       ;
    break;}
case 914:
#line 3672 "gedcom.y"
{ CHECK0 ;
    break;}
case 915:
#line 3674 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
			 end_element(ELT_SUB_SOUR_TEXT, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_STRING(val1, complete));
		       ;
    break;}
case 920:
#line 3689 "gedcom.y"
{ yyval.ctxt
			   = start_element(ELT_SUB_SOUR_QUAY,
					   PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					   GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		         START(QUAY, yyvsp[-3].number, yyval.ctxt)     
                       ;
    break;}
case 921:
#line 3696 "gedcom.y"
{ CHECK0 ;
    break;}
case 922:
#line 3698 "gedcom.y"
{ end_element(ELT_SUB_SOUR_QUAY, PARENT, yyvsp[-3].ctxt,
				     GEDCOM_MAKE_NULL(val1));
		       ;
    break;}
case 923:
#line 3704 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_SOUR,
						 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
						 GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		        reset_buffer(&concat_buffer);
		        safe_buf_append(&concat_buffer, yyvsp[0].string);
		        START(SOUR, yyvsp[-3].number, yyval.ctxt) 
                      ;
    break;}
case 924:
#line 3712 "gedcom.y"
{ CHECK0 ;
    break;}
case 925:
#line 3714 "gedcom.y"
{ char* complete = get_buf_string(&concat_buffer);
			end_element(ELT_SUB_SOUR, PARENT, yyvsp[-3].ctxt,
				    GEDCOM_MAKE_STRING(val1, complete));
		      ;
    break;}
case 932:
#line 3731 "gedcom.y"
{ OCCUR2(REPO, 0, 1) ;
    break;}
case 933:
#line 3733 "gedcom.y"
{ if (!compat_mode(C_NONSTD_SOUR_TAGS))
			   INVALID_TAG("REPO");
		         OCCUR2(REPO, 0, 1)
		       ;
    break;}
case 934:
#line 3741 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS)) {
		     yyval.ctxt =
		       compat_generate_nonstd_sour_start(PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
							 &usertag_buffer);
		   }
                 ;
    break;}
case 935:
#line 3748 "gedcom.y"
{ if (compat_mode(C_NONSTD_SOUR_TAGS))
		     compat_generate_nonstd_sour_end(PARENT, yyvsp[-1].ctxt);
		 ;
    break;}
case 936:
#line 3754 "gedcom.y"
{ struct xref_value *xr
			     = gedcom_parse_xref(yyvsp[0].string, XREF_USED, XREF_REPO);
			   if (xr == NULL) HANDLE_ERROR;
			   yyval.ctxt
			     = start_element(ELT_SUB_REPO,
					     PARENT, yyvsp[-4].number, yyvsp[-2].tag, yyvsp[0].string,
					     GEDCOM_MAKE_XREF_PTR(val1, xr));
			   START(REPO, yyvsp[-4].number, yyval.ctxt);
			 ;
    break;}
case 937:
#line 3764 "gedcom.y"
{ CHECK0 ;
    break;}
case 938:
#line 3766 "gedcom.y"
{ end_element(ELT_SUB_REPO, PARENT, yyvsp[-3].ctxt, 
				       GEDCOM_MAKE_NULL(val1));
			 ;
    break;}
case 944:
#line 3781 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_REPO_CALN,
				       PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
				       GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
	      START(CALN, yyvsp[-3].number, yyval.ctxt) 
	    ;
    break;}
case 945:
#line 3787 "gedcom.y"
{ CHECK0 ;
    break;}
case 946:
#line 3789 "gedcom.y"
{ end_element(ELT_SUB_REPO_CALN, PARENT, yyvsp[-3].ctxt, 
			  GEDCOM_MAKE_NULL(val1));
	    ;
    break;}
case 949:
#line 3798 "gedcom.y"
{ OCCUR2(MEDI, 0, 1) ;
    break;}
case 951:
#line 3803 "gedcom.y"
{ yyval.ctxt = start_element(ELT_SUB_REPO_CALN_MEDI,
					    PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					    GEDCOM_MAKE_STRING(val1, yyvsp[0].string));
		   START(MEDI, yyvsp[-3].number, yyval.ctxt)  
		 ;
    break;}
case 952:
#line 3809 "gedcom.y"
{ CHECK0 ;
    break;}
case 953:
#line 3811 "gedcom.y"
{ end_element(ELT_SUB_REPO_CALN_MEDI, PARENT, yyvsp[-3].ctxt, 
			       GEDCOM_MAKE_NULL(val1));
		 ;
    break;}
case 955:
#line 3821 "gedcom.y"
{ struct xref_value *xr = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
								 XREF_FAM);
		       if (xr == NULL) HANDLE_ERROR;
		       yyval.ctxt
			 = start_element(ELT_SUB_FAMS,
					 PARENT, yyvsp[-3].number, yyvsp[-1].tag, yyvsp[0].string,
					 GEDCOM_MAKE_XREF_PTR(val1, xr));
		       START(FAMS, yyvsp[-3].number, yyval.ctxt) 
                     ;
    break;}
case 956:
#line 3831 "gedcom.y"
{ CHECK0 ;
    break;}
case 957:
#line 3833 "gedcom.y"
{ end_element(ELT_SUB_FAMS, PARENT, yyvsp[-3].ctxt, 
				   GEDCOM_MAKE_NULL(val1));
		     ;
    break;}
case 966:
#line 3857 "gedcom.y"
{ HANDLE_ERROR ;
    break;}
case 969:
#line 3863 "gedcom.y"
{ HANDLE_ERROR ;
    break;}
case 970:
#line 3867 "gedcom.y"
{ if (yyvsp[0].tag.string[0] != '_') {
		  if ((compat_mode(C_551_TAGS)
		       && compat_check_551_tag(yyvsp[0].tag.string, &usertag_buffer))
		      ||
		      (compat_mode(C_NONSTD_SOUR_TAGS)
		       && compat_check_sour_tag(yyvsp[0].tag.string, &usertag_buffer))) {
		    yyvsp[0].tag.string = get_buf_string(&usertag_buffer);
		  }
		  else {		  
		    gedcom_error(_("Undefined tag (and not a valid user tag): %s"),
				 yyvsp[0].tag);
		    YYERROR;
		  }
	        }
	      ;
    break;}
case 971:
#line 3883 "gedcom.y"
{ struct xref_value *xr = NULL;
	        if (yyvsp[-3].string != NULL) {
		  xr = gedcom_parse_xref(yyvsp[-3].string, XREF_DEFINED, XREF_USER);
		  if (xr == NULL) HANDLE_ERROR;
		}
		yyval.ctxt = start_record(REC_USER,
					yyvsp[-5].number,
					GEDCOM_MAKE_NULL_OR_XREF_PTR(val1, xr),
					yyvsp[-2].tag, yyvsp[0].string, &val2);
	        START(yyvsp[-2].tag, yyvsp[-5].number, yyval.ctxt)
	      ;
    break;}
case 972:
#line 3895 "gedcom.y"
{ CHECK0 ;
    break;}
case 973:
#line 3897 "gedcom.y"
{ end_record(REC_USER, yyvsp[-3].ctxt, GEDCOM_MAKE_NULL(val1)); ;
    break;}
case 974:
#line 3900 "gedcom.y"
{ if (yyvsp[0].tag.string[0] != '_') {
		  if ((compat_mode(C_551_TAGS)
		       && compat_check_551_tag(yyvsp[0].tag.string, &usertag_buffer))
		      ||
		      (compat_mode(C_SUBM_COMM)
		       && compat_check_subm_comm(yyvsp[0].tag.string, get_parenttag(0),
						 &usertag_buffer))
		      ||
		      (compat_mode(C_NONSTD_SOUR_TAGS)
		       && compat_check_sour_tag(yyvsp[0].tag.string, &usertag_buffer))) {
		    yyvsp[0].tag.string = get_buf_string(&usertag_buffer);
		  }
		  else {
		    gedcom_error(_("Undefined tag (and not a valid user tag): %s"),
				 yyvsp[0].tag);
		    YYERROR;
		  }
	        }
	      ;
    break;}
case 975:
#line 3920 "gedcom.y"
{ yyval.ctxt = start_element(ELT_USER, PARENT, yyvsp[-5].number, yyvsp[-2].tag, yyvsp[0].string, &val2);
		START(yyvsp[-2].tag, yyvsp[-5].number, yyval.ctxt);
	      ;
    break;}
case 976:
#line 3924 "gedcom.y"
{ CHECK0 ;
    break;}
case 977:
#line 3926 "gedcom.y"
{ end_element(ELT_USER, PARENT, yyvsp[-3].ctxt, 
			    GEDCOM_MAKE_NULL(val1));
	        if (compat_mode(C_SUBM_COMM))
	          compat_close_subm_comm();
	      ;
    break;}
case 978:
#line 3933 "gedcom.y"
{ ;
    break;}
case 979:
#line 3934 "gedcom.y"
{ ;
    break;}
case 980:
#line 3936 "gedcom.y"
{ if (compat_mode(C_SUBM_COMM)) {
                }
	        else {
		  gedcom_error(_("Standard tag not allowed in user section"));
		  YYERROR;
		}
	      ;
    break;}
case 981:
#line 3945 "gedcom.y"
{ yyval.string = NULL; ;
    break;}
case 982:
#line 3946 "gedcom.y"
{ yyval.string = yyvsp[-1].string; ;
    break;}
case 983:
#line 3949 "gedcom.y"
{ GEDCOM_MAKE_NULL(val2);
                                   yyval.string = NULL; ;
    break;}
case 984:
#line 3951 "gedcom.y"
{ struct xref_value *xr
				     = gedcom_parse_xref(yyvsp[0].string, XREF_USED,
							 XREF_USER);
	                           GEDCOM_MAKE_XREF_PTR(val2, xr);
	                           yyval.string = yyvsp[0].string; ;
    break;}
case 985:
#line 3956 "gedcom.y"
{ GEDCOM_MAKE_STRING(val2, yyvsp[0].string);
	                           yyval.string = yyvsp[0].string; ;
    break;}
case 986:
#line 3960 "gedcom.y"
{ gedcom_error(_("Missing pointer")); YYERROR; ;
    break;}
case 987:
#line 3961 "gedcom.y"
{ gedcom_debug_print("==Ptr: %s==", yyvsp[0].string);
                               yyval.string = yyvsp[0].string; ;
    break;}
case 988:
#line 3966 "gedcom.y"
{ if (compat_mode(C_NO_REQUIRED_VALUES)) {
                     gedcom_debug_print("==Val: ==");
		     yyval.string = VALUE_IF_MISSING;
		   }
		   else {
		     gedcom_error(_("Missing value")); YYERROR;
		   }
		 ;
    break;}
case 989:
#line 3974 "gedcom.y"
{ gedcom_debug_print("==Val: %s==", yyvsp[0].string);
                                   yyval.string = yyvsp[0].string; ;
    break;}
case 990:
#line 3978 "gedcom.y"
{ yyval.string = NULL; ;
    break;}
case 991:
#line 3979 "gedcom.y"
{ gedcom_debug_print("==Val: %s==", yyvsp[0].string);
	                          yyval.string = yyvsp[0].string; ;
    break;}
case 992:
#line 3983 "gedcom.y"
{ size_t i;
                         reset_buffer(&line_item_buffer); 
		         /* The following also takes care of '@@' */
			 if (!strncmp(yyvsp[0].string, "@@", 3))
			   SAFE_BUF_ADDCHAR(&line_item_buffer, '@')
			 else
			   for (i=0; i < strlen(yyvsp[0].string); i++)
			     SAFE_BUF_ADDCHAR(&line_item_buffer, yyvsp[0].string[i])
			 yyval.string = get_buf_string(&line_item_buffer);
                       ;
    break;}
case 993:
#line 3993 "gedcom.y"
{ size_t i;
                         reset_buffer(&line_item_buffer); 
		         for (i=0; i < strlen(yyvsp[0].string); i++)
			   SAFE_BUF_ADDCHAR(&line_item_buffer, yyvsp[0].string[i])
			 yyval.string = get_buf_string(&line_item_buffer);
	               ;
    break;}
case 994:
#line 4000 "gedcom.y"
{ size_t i;
		    /* The following also takes care of '@@' */
		    if (!strncmp(yyvsp[0].string, "@@", 3))
		      SAFE_BUF_ADDCHAR(&line_item_buffer, '@')
		    else
		      for (i=0; i < strlen(yyvsp[0].string); i++)
			SAFE_BUF_ADDCHAR(&line_item_buffer, yyvsp[0].string[i])
		    yyval.string = get_buf_string(&line_item_buffer);
		  ;
    break;}
case 995:
#line 4010 "gedcom.y"
{ size_t i;
		    for (i=0; i < strlen(yyvsp[0].string); i++)
		      SAFE_BUF_ADDCHAR(&line_item_buffer, yyvsp[0].string[i])
		    yyval.string = get_buf_string(&line_item_buffer);
		  ;
    break;}
case 996:
#line 4015 "gedcom.y"
{ HANDLE_ERROR; ;
    break;}
case 997:
#line 4016 "gedcom.y"
{ HANDLE_ERROR; ;
    break;}
case 998:
#line 4019 "gedcom.y"
{ ;
    break;}
case 999:
#line 4020 "gedcom.y"
{ ;
    break;}
case 1002:
#line 4027 "gedcom.y"
{ ;
    break;}
case 1003:
#line 4031 "gedcom.y"
{ if (compat_mode(C_SUBM_COMM)
		    && compat_check_subm_comm_cont(yyvsp[0].tag.string)) {
		  /* Will pass here */
		}
	        else {
		  INVALID_TAG(yyvsp[0].tag.string);
		}
	      ;
    break;}
case 1004:
#line 4040 "gedcom.y"
{ if (compat_mode(C_SUBM_COMM)) {
		  yyval.ctxt = compat_subm_comm_cont_start(PARENT, yyvsp[0].string);
                }
	      ;
    break;}
case 1005:
#line 4045 "gedcom.y"
{ if (compat_mode(C_SUBM_COMM))
		  compat_subm_comm_cont_end(PARENT, yyvsp[-2].ctxt);
	      ;
    break;}
case 1008:
#line 4055 "gedcom.y"
{ INVALID_TOP_TAG(yyvsp[0].tag.string) ;
    break;}
case 1009:
#line 4057 "gedcom.y"
{ ;
    break;}
case 1010:
#line 4061 "gedcom.y"
{ gedcom_error(_("Missing cross-reference")); YYERROR; ;
    break;}
case 1011:
#line 4063 "gedcom.y"
{ ;
    break;}
case 1012:
#line 4066 "gedcom.y"
{ ;
    break;}
case 1013:
#line 4067 "gedcom.y"
{ ;
    break;}
case 1014:
#line 4070 "gedcom.y"
{ ;
    break;}
case 1015:
#line 4071 "gedcom.y"
{ ;
    break;}
case 1027:
#line 4087 "gedcom.y"
{ ;
    break;}
case 1028:
#line 4088 "gedcom.y"
{ ;
    break;}
case 1029:
#line 4089 "gedcom.y"
{ ;
    break;}
case 1030:
#line 4090 "gedcom.y"
{ ;
    break;}
case 1031:
#line 4091 "gedcom.y"
{ ;
    break;}
case 1032:
#line 4092 "gedcom.y"
{ ;
    break;}
case 1033:
#line 4093 "gedcom.y"
{ ;
    break;}
case 1034:
#line 4094 "gedcom.y"
{ ;
    break;}
case 1035:
#line 4095 "gedcom.y"
{ ;
    break;}
case 1036:
#line 4096 "gedcom.y"
{ ;
    break;}
case 1037:
#line 4097 "gedcom.y"
{ ;
    break;}
case 1038:
#line 4098 "gedcom.y"
{ ;
    break;}
case 1039:
#line 4099 "gedcom.y"
{ ;
    break;}
case 1040:
#line 4100 "gedcom.y"
{ ;
    break;}
case 1041:
#line 4101 "gedcom.y"
{ ;
    break;}
case 1042:
#line 4102 "gedcom.y"
{ ;
    break;}
case 1043:
#line 4103 "gedcom.y"
{ ;
    break;}
case 1044:
#line 4104 "gedcom.y"
{ ;
    break;}
case 1045:
#line 4105 "gedcom.y"
{ ;
    break;}
case 1046:
#line 4106 "gedcom.y"
{ ;
    break;}
case 1047:
#line 4107 "gedcom.y"
{ ;
    break;}
case 1048:
#line 4108 "gedcom.y"
{ ;
    break;}
case 1049:
#line 4109 "gedcom.y"
{ ;
    break;}
case 1050:
#line 4110 "gedcom.y"
{ ;
    break;}
case 1051:
#line 4111 "gedcom.y"
{ ;
    break;}
case 1052:
#line 4112 "gedcom.y"
{ ;
    break;}
case 1053:
#line 4113 "gedcom.y"
{ ;
    break;}
case 1054:
#line 4114 "gedcom.y"
{ ;
    break;}
case 1055:
#line 4115 "gedcom.y"
{ ;
    break;}
case 1056:
#line 4116 "gedcom.y"
{ ;
    break;}
case 1057:
#line 4117 "gedcom.y"
{ ;
    break;}
case 1058:
#line 4118 "gedcom.y"
{ ;
    break;}
case 1059:
#line 4119 "gedcom.y"
{ ;
    break;}
case 1060:
#line 4120 "gedcom.y"
{ ;
    break;}
case 1061:
#line 4121 "gedcom.y"
{ ;
    break;}
case 1062:
#line 4122 "gedcom.y"
{ ;
    break;}
case 1063:
#line 4123 "gedcom.y"
{ ;
    break;}
case 1064:
#line 4124 "gedcom.y"
{ ;
    break;}
case 1065:
#line 4125 "gedcom.y"
{ ;
    break;}
case 1066:
#line 4126 "gedcom.y"
{ ;
    break;}
case 1067:
#line 4127 "gedcom.y"
{ ;
    break;}
case 1068:
#line 4128 "gedcom.y"
{ ;
    break;}
case 1069:
#line 4129 "gedcom.y"
{ ;
    break;}
case 1070:
#line 4130 "gedcom.y"
{ ;
    break;}
case 1071:
#line 4131 "gedcom.y"
{ ;
    break;}
case 1072:
#line 4132 "gedcom.y"
{ ;
    break;}
case 1073:
#line 4133 "gedcom.y"
{ ;
    break;}
case 1074:
#line 4134 "gedcom.y"
{ ;
    break;}
case 1075:
#line 4135 "gedcom.y"
{ ;
    break;}
case 1076:
#line 4136 "gedcom.y"
{ ;
    break;}
case 1077:
#line 4137 "gedcom.y"
{ ;
    break;}
case 1078:
#line 4138 "gedcom.y"
{ ;
    break;}
case 1079:
#line 4139 "gedcom.y"
{ ;
    break;}
case 1080:
#line 4140 "gedcom.y"
{ ;
    break;}
case 1081:
#line 4141 "gedcom.y"
{ ;
    break;}
case 1082:
#line 4142 "gedcom.y"
{ ;
    break;}
case 1083:
#line 4143 "gedcom.y"
{ ;
    break;}
case 1084:
#line 4144 "gedcom.y"
{ ;
    break;}
case 1085:
#line 4145 "gedcom.y"
{ ;
    break;}
case 1086:
#line 4146 "gedcom.y"
{ ;
    break;}
case 1087:
#line 4147 "gedcom.y"
{ ;
    break;}
case 1088:
#line 4148 "gedcom.y"
{ ;
    break;}
case 1089:
#line 4149 "gedcom.y"
{ ;
    break;}
case 1090:
#line 4150 "gedcom.y"
{ ;
    break;}
case 1091:
#line 4151 "gedcom.y"
{ ;
    break;}
case 1092:
#line 4152 "gedcom.y"
{ ;
    break;}
case 1093:
#line 4153 "gedcom.y"
{ ;
    break;}
case 1094:
#line 4154 "gedcom.y"
{ ;
    break;}
case 1095:
#line 4155 "gedcom.y"
{ ;
    break;}
case 1096:
#line 4156 "gedcom.y"
{ ;
    break;}
case 1097:
#line 4157 "gedcom.y"
{ ;
    break;}
case 1098:
#line 4158 "gedcom.y"
{ ;
    break;}
case 1099:
#line 4159 "gedcom.y"
{ ;
    break;}
case 1100:
#line 4160 "gedcom.y"
{ ;
    break;}
case 1101:
#line 4161 "gedcom.y"
{ ;
    break;}
case 1102:
#line 4162 "gedcom.y"
{ ;
    break;}
case 1103:
#line 4163 "gedcom.y"
{ ;
    break;}
case 1104:
#line 4164 "gedcom.y"
{ ;
    break;}
case 1105:
#line 4165 "gedcom.y"
{ ;
    break;}
case 1106:
#line 4166 "gedcom.y"
{ ;
    break;}
case 1107:
#line 4167 "gedcom.y"
{ ;
    break;}
case 1108:
#line 4168 "gedcom.y"
{ ;
    break;}
case 1109:
#line 4169 "gedcom.y"
{ ;
    break;}
case 1110:
#line 4170 "gedcom.y"
{ ;
    break;}
case 1111:
#line 4171 "gedcom.y"
{ ;
    break;}
case 1112:
#line 4172 "gedcom.y"
{ ;
    break;}
case 1113:
#line 4173 "gedcom.y"
{ ;
    break;}
case 1114:
#line 4174 "gedcom.y"
{ ;
    break;}
case 1115:
#line 4175 "gedcom.y"
{ ;
    break;}
case 1116:
#line 4176 "gedcom.y"
{ ;
    break;}
case 1117:
#line 4177 "gedcom.y"
{ ;
    break;}
case 1118:
#line 4178 "gedcom.y"
{ ;
    break;}
case 1119:
#line 4179 "gedcom.y"
{ ;
    break;}
case 1120:
#line 4180 "gedcom.y"
{ ;
    break;}
case 1121:
#line 4181 "gedcom.y"
{ ;
    break;}
case 1122:
#line 4182 "gedcom.y"
{ ;
    break;}
case 1123:
#line 4183 "gedcom.y"
{ ;
    break;}
case 1124:
#line 4184 "gedcom.y"
{ ;
    break;}
case 1125:
#line 4185 "gedcom.y"
{ ;
    break;}
case 1126:
#line 4186 "gedcom.y"
{ ;
    break;}
case 1127:
#line 4187 "gedcom.y"
{ ;
    break;}
case 1128:
#line 4188 "gedcom.y"
{ ;
    break;}
case 1129:
#line 4189 "gedcom.y"
{ ;
    break;}
case 1130:
#line 4190 "gedcom.y"
{ ;
    break;}
case 1131:
#line 4191 "gedcom.y"
{ ;
    break;}
case 1132:
#line 4192 "gedcom.y"
{ ;
    break;}
case 1133:
#line 4193 "gedcom.y"
{ ;
    break;}
case 1134:
#line 4194 "gedcom.y"
{ ;
    break;}
case 1135:
#line 4195 "gedcom.y"
{ ;
    break;}
case 1136:
#line 4196 "gedcom.y"
{ ;
    break;}
case 1137:
#line 4197 "gedcom.y"
{ ;
    break;}
case 1138:
#line 4198 "gedcom.y"
{ ;
    break;}
case 1139:
#line 4199 "gedcom.y"
{ ;
    break;}
case 1140:
#line 4200 "gedcom.y"
{ ;
    break;}
case 1141:
#line 4201 "gedcom.y"
{ ;
    break;}
case 1142:
#line 4202 "gedcom.y"
{ ;
    break;}
case 1143:
#line 4203 "gedcom.y"
{ ;
    break;}
case 1144:
#line 4204 "gedcom.y"
{ ;
    break;}
case 1145:
#line 4205 "gedcom.y"
{ ;
    break;}
case 1146:
#line 4206 "gedcom.y"
{ ;
    break;}
case 1147:
#line 4207 "gedcom.y"
{ ;
    break;}
case 1148:
#line 4208 "gedcom.y"
{ ;
    break;}
case 1149:
#line 4209 "gedcom.y"
{ ;
    break;}
case 1150:
#line 4210 "gedcom.y"
{ ;
    break;}
}
   /* the action file gets copied in in place of this dollarsign */
#line 543 "/usr/lib/bison.simple"

  yyvsp -= yylen;
  yyssp -= yylen;
#ifdef YYLSP_NEEDED
  yylsp -= yylen;
#endif

#if YYDEBUG != 0
  if (yydebug)
    {
      short *ssp1 = yyss - 1;
      fprintf (stderr, "state stack now");
      while (ssp1 != yyssp)
	fprintf (stderr, " %d", *++ssp1);
      fprintf (stderr, "\n");
    }
#endif

  *++yyvsp = yyval;

#ifdef YYLSP_NEEDED
  yylsp++;
  if (yylen == 0)
    {
      yylsp->first_line = yylloc.first_line;
      yylsp->first_column = yylloc.first_column;
      yylsp->last_line = (yylsp-1)->last_line;
      yylsp->last_column = (yylsp-1)->last_column;
      yylsp->text = 0;
    }
  else
    {
      yylsp->last_line = (yylsp+yylen-1)->last_line;
      yylsp->last_column = (yylsp+yylen-1)->last_column;
    }
#endif

  /* Now "shift" the result of the reduction.
     Determine what state that goes to,
     based on the state we popped back to
     and the rule number reduced by.  */

  yyn = yyr1[yyn];

  yystate = yypgoto[yyn - YYNTBASE] + *yyssp;
  if (yystate >= 0 && yystate <= YYLAST && yycheck[yystate] == *yyssp)
    yystate = yytable[yystate];
  else
    yystate = yydefgoto[yyn - YYNTBASE];

  goto yynewstate;

yyerrlab:   /* here on detecting error */

  if (! yyerrstatus)
    /* If not already recovering from an error, report this error.  */
    {
      ++yynerrs;

#ifdef YYERROR_VERBOSE
      yyn = yypact[yystate];

      if (yyn > YYFLAG && yyn < YYLAST)
	{
	  int size = 0;
	  char *msg;
	  int x, count;

	  count = 0;
	  /* Start X at -yyn if nec to avoid negative indexes in yycheck.  */
	  for (x = (yyn < 0 ? -yyn : 0);
	       x < (sizeof(yytname) / sizeof(char *)); x++)
	    if (yycheck[x + yyn] == x)
	      size += strlen(yytname[x]) + 15, count++;
	  msg = (char *) malloc(size + 15);
	  if (msg != 0)
	    {
	      strcpy(msg, "parse error");

	      if (count < 5)
		{
		  count = 0;
		  for (x = (yyn < 0 ? -yyn : 0);
		       x < (sizeof(yytname) / sizeof(char *)); x++)
		    if (yycheck[x + yyn] == x)
		      {
			strcat(msg, count == 0 ? ", expecting `" : " or `");
			strcat(msg, yytname[x]);
			strcat(msg, "'");
			count++;
		      }
		}
	      yyerror(msg);
	      free(msg);
	    }
	  else
	    yyerror ("parse error; also virtual memory exceeded");
	}
      else
#endif /* YYERROR_VERBOSE */
	yyerror("parse error");
    }

  goto yyerrlab1;
yyerrlab1:   /* here on error raised explicitly by an action */

  if (yyerrstatus == 3)
    {
      /* if just tried and failed to reuse lookahead token after an error, discard it.  */

      /* return failure if at end of input */
      if (yychar == YYEOF)
	YYABORT;

#if YYDEBUG != 0
      if (yydebug)
	fprintf(stderr, "Discarding token %d (%s).\n", yychar, yytname[yychar1]);
#endif

      yychar = YYEMPTY;
    }

  /* Else will try to reuse lookahead token
     after shifting the error token.  */

  yyerrstatus = 3;		/* Each real token shifted decrements this */

  goto yyerrhandle;

yyerrdefault:  /* current state does not do anything special for the error token. */

#if 0
  /* This is wrong; only states that explicitly want error tokens
     should shift them.  */
  yyn = yydefact[yystate];  /* If its default is to accept any token, ok.  Otherwise pop it.*/
  if (yyn) goto yydefault;
#endif

yyerrpop:   /* pop the current state because it cannot handle the error token */

  if (yyssp == yyss) YYABORT;
  yyvsp--;
  yystate = *--yyssp;
#ifdef YYLSP_NEEDED
  yylsp--;
#endif

#if YYDEBUG != 0
  if (yydebug)
    {
      short *ssp1 = yyss - 1;
      fprintf (stderr, "Error: state stack now");
      while (ssp1 != yyssp)
	fprintf (stderr, " %d", *++ssp1);
      fprintf (stderr, "\n");
    }
#endif

yyerrhandle:

  yyn = yypact[yystate];
  if (yyn == YYFLAG)
    goto yyerrdefault;

  yyn += YYTERROR;
  if (yyn < 0 || yyn > YYLAST || yycheck[yyn] != YYTERROR)
    goto yyerrdefault;

  yyn = yytable[yyn];
  if (yyn < 0)
    {
      if (yyn == YYFLAG)
	goto yyerrpop;
      yyn = -yyn;
      goto yyreduce;
    }
  else if (yyn == 0)
    goto yyerrpop;

  if (yyn == YYFINAL)
    YYACCEPT;

#if YYDEBUG != 0
  if (yydebug)
    fprintf(stderr, "Shifting error token, ");
#endif

  *++yyvsp = yylval;
#ifdef YYLSP_NEEDED
  *++yylsp = yylloc;
#endif

  yystate = yyn;
  goto yynewstate;

 yyacceptlab:
  /* YYACCEPT comes here.  */
  if (yyfree_stacks)
    {
      free (yyss);
      free (yyvs);
#ifdef YYLSP_NEEDED
      free (yyls);
#endif
    }
  return 0;

 yyabortlab:
  /* YYABORT comes here.  */
  if (yyfree_stacks)
    {
      free (yyss);
      free (yyvs);
#ifdef YYLSP_NEEDED
      free (yyls);
#endif
    }
  return 1;
}
#line 4213 "gedcom.y"


/* Functions that handle the counting of subtags */

int* count_arrays[MAXGEDCLEVEL+1];
char tag_stack[MAXGEDCLEVEL+1][MAXSTDTAGLEN+1];
Gedcom_ctxt ctxt_stack[MAXGEDCLEVEL+1];

void push_countarray(int level)
{
  int *count = NULL;
  gedcom_debug_print("Push Count level: %d, level: %d", count_level, level);
  if (count_level != level + 1) {
    gedcom_error(_("Internal error: count level mismatch"));
    exit(1);
  }
  if (count_level > MAXGEDCLEVEL) {
    gedcom_error(_("Internal error: count array overflow"));
    exit(1);
  }
  else {
    gedcom_debug_print("calloc countarray %d", count_level);
    count = (int *)calloc(YYNTOKENS, sizeof(int));
    if (count == NULL) {
      gedcom_error(_("Internal error: count array calloc error"));
      exit(1);
    }
    else {
      count_arrays[count_level] = count;
    }
  }
}

void set_parenttag(const char* tag)
{
  strncpy(tag_stack[count_level+1], tag, MAXSTDTAGLEN+1);
}

void set_parentctxt(Gedcom_ctxt ctxt)
{
  ctxt_stack[count_level+1] = ctxt;
}

char* get_parenttag(int offset)
{
  return tag_stack[count_level - offset];
}

Gedcom_ctxt get_parentctxt(int offset)
{
  return ctxt_stack[count_level - offset];
}

int count_tag(int tag)
{
  int *count = count_arrays[count_level];
  return ++count[tag - GEDCOMTAGOFFSET];
}

int check_occurrence(int tag)
{
  int *count = count_arrays[count_level];
  return (count[tag - GEDCOMTAGOFFSET] > 0);
}

void pop_countarray()
{
  int *count;
  gedcom_debug_print("Pop Count level: %d", count_level);
  if (count_level < 0) {
    gedcom_error(_("Internal error: count array underflow"));
    exit(1);
  }
  else {
    count = count_arrays[count_level];
    gedcom_debug_print("free countarray %d", count_level);
    free(count);
    count_arrays[count_level] = NULL;
  }
}

void clean_up()
{
  gedcom_debug_print("Cleanup countarrays");
  while (count_level > 0) {
    pop_countarray();
    --count_level;
  }
}

void cleanup_concat_buffer()
{
  cleanup_buffer(&concat_buffer);
}

void cleanup_line_item_buffer()
{
  cleanup_buffer(&line_item_buffer);
}

void cleanup_usertag_buffer()
{
  cleanup_buffer(&usertag_buffer);
}

/* Enabling debug mode */
/* level 0: no debugging */
/* level 1: only internal */
/* level 2: also bison */
FILE* trace_output;

void gedcom_set_debug_level(int level, FILE* f)
{
  if (f != NULL)
    trace_output = f;
  else
    trace_output = stderr;
  if (level > 0) {
    gedcom_high_level_debug = 1;
  }
  if (level > 1) {
#if YYDEBUG != 0
    gedcom_debug = 1;
#endif
  }
}

int gedcom_debug_print(const char* s, ...)
{
  int res = 0;
  if (gedcom_high_level_debug) {
    va_list ap;
    va_start(ap, s);
    res = vfprintf(trace_output, s, ap);
    va_end(ap);
    fprintf(trace_output, "\n");
  }
  return(res);
}

/* Setting the error mechanism */
void gedcom_set_error_handling(Gedcom_err_mech mechanism)
{
  error_mechanism = mechanism;
}
